{"remainingRequest":"/Users/libin/Desktop/Gwork/rcrtc-web/node_modules/babel-loader/lib/index.js!/Users/libin/Desktop/Gwork/rcrtc-web/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/libin/Desktop/Gwork/rcrtc-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/libin/Desktop/Gwork/rcrtc-web/src/pages/room/callRoom/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/libin/Desktop/Gwork/rcrtc-web/src/pages/room/callRoom/index.vue","mtime":1647849513138},{"path":"/Users/libin/Desktop/Gwork/rcrtc-web/babel.config.js","mtime":1635324574352},{"path":"/Users/libin/Desktop/Gwork/rcrtc-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/libin/Desktop/Gwork/rcrtc-web/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/libin/Desktop/Gwork/rcrtc-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/libin/Desktop/Gwork/rcrtc-web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9saWJpbi9EZXNrdG9wL0d3b3JrL3JjcnRjLXdlYi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IFJvb21UYWIgZnJvbSAiLi4vcm9vbVRhYi9pbmRleC52dWUiOwppbXBvcnQgQlNjcm9sbCBmcm9tICJiZXR0ZXItc2Nyb2xsIjsKaW1wb3J0IHJlcXVlc3QgZnJvbSAiLi4vLi4vLi4vcmVxdWVzdC9pbmRleCI7CmltcG9ydCB7IEdldFF1ZXJ5U3RyaW5nIH0gZnJvbSAiLi4vLi4vLi4vdXRpbHMvdXRpbHMiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkNhbGxSb29tIiwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcm9vbXNMaXN0OiBbXSwKICAgICAgbG9hZGluZzogZmFsc2UsCiAgICAgIG15c2Nyb2xsOiBudWxsLAogICAgICBkYXRhTGlzdDogW10sCiAgICAgIHJvb21MaXN0TGVuZ3RoOiBmYWxzZSwKICAgICAgcGFnZTogMSwKICAgICAgc2l6ZTogMTAsCiAgICAgIGtlZXBTaG93OiBmYWxzZQogICAgfTsKICB9LAogIHdhdGNoOiB7CiAgICBsaXN0ZW5zdGFnZTogZnVuY3Rpb24gbGlzdGVuc3RhZ2UobmV3VmFsKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBjb25zb2xlLmxvZygibmV3VmFsIiwgbmV3VmFsKTsKICAgICAgdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICAgIGlmIChfdGhpcy4kc3RvcmUuc3RhdGUucm9vbUxpc3QubGVuZ3RoID4gMCkgewogICAgICAgICAgX3RoaXMua2VlcFNob3cgPSBmYWxzZTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgX3RoaXMua2VlcFNob3cgPSB0cnVlOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9CiAgfSwKICBjb21wb25lbnRzOiB7CiAgICBSb29tVGFiOiBSb29tVGFiCiAgfSwKICBjb21wdXRlZDogewogICAgbm9Nb3JlOiBmdW5jdGlvbiBub01vcmUoKSB7CiAgICAgIGlmICh0aGlzLnJvb21MaXN0TGVuZ3RoKSB7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0KCiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0sCiAgICBsaXN0ZW5zdGFnZTogZnVuY3Rpb24gbGlzdGVuc3RhZ2UoKSB7CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5yb29tTGlzdDsKICAgIH0KICB9LAogIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSB2dWUvbm8tZHVwZS1rZXlzCiAgbWV0aG9kczogewogICAgZ2V0Um9vbUxpc3Q6IGZ1bmN0aW9uIGdldFJvb21MaXN0KHBhZ2UpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLmF1dGhvcml6YXRpb25WYWwpOwogICAgICB2YXIgcmVxT2JqID0gewogICAgICAgIHBhZ2U6IHBhZ2UsCiAgICAgICAgc2l6ZTogdGhpcy5zaXplCiAgICAgIH07CgogICAgICBpZiAoIC8v55u05pKt5oi/6Ze0CiAgICAgIEdldFF1ZXJ5U3RyaW5nKCJyb29tVHlwZSIpICYmIEdldFF1ZXJ5U3RyaW5nKCJyb29tVHlwZSIpID09ICJsaXZlUm9vbSIpIHsKICAgICAgICByZXFPYmoudHlwZSA9IDM7CiAgICAgIH0KCiAgICAgIHJlcXVlc3Qucm9vbUxpc3QocmVxT2JqKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIF90aGlzMi5kYXRhTGlzdCA9IHJlc3BvbnNlLmRhdGEuZGF0YTsKCiAgICAgICAgaWYgKHBhZ2UgPT0gMSkgewogICAgICAgICAgX3RoaXMyLiRzdG9yZS5kaXNwYXRjaCgiY2hhbmdlc1Jvb21zTGlzdCIsIHJlc3BvbnNlLmRhdGEuZGF0YS5yb29tcyk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIF90aGlzMi4kc3RvcmUuZGlzcGF0Y2goImNoYW5nZXNSb29tc0xpc3QiLCBfdGhpczIuJHN0b3JlLnN0YXRlLnJvb21MaXN0LmNvbmNhdChyZXNwb25zZS5kYXRhLmRhdGEucm9vbXMpKTsKICAgICAgICB9CgogICAgICAgIHJlc3BvbnNlLmRhdGEuZGF0YS5yb29tcy5sZW5ndGggPCAxMCA/IF90aGlzMi5yb29tTGlzdExlbmd0aCA9IHRydWUgOiBfdGhpczIucm9vbUxpc3RMZW5ndGggPSBmYWxzZTsgLy8gc3RvcmUuYWN0aW9ucy5jaGFuZ2VzVmFsKFtdKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgIGNvbnNvbGUuZXJyb3IoIuivt+axguWksei0pSIsIGVycik7IC8vIGFsZXJ0KCLor7fmsYLlpLHotKUiLCBlcnIpOwogICAgICB9KTsKICAgIH0sCiAgICBqb2luY2hhdFJvb206IGZ1bmN0aW9uIGpvaW5jaGF0Um9vbShyb29tSWQpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICByZXF1ZXN0LnJvb21pbmZvcm1hdGlvbih7CiAgICAgICAgcm9vbUlkOiByb29tSWQKICAgICAgfSkudGhlbiggLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgICB2YXIgX3JlZiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZShyZXMpIHsKICAgICAgICAgIHZhciB0eHRFbnRlcjsKICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgaWYgKCEocmVzLmRhdGEuY29kZSA9PSAxMDAwMCkpIHsKICAgICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTY7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgIGlmICghKCAvL+ebtOaSreaIv+mXtAogICAgICAgICAgICAgICAgICBHZXRRdWVyeVN0cmluZygicm9vbVR5cGUiKSAmJiBHZXRRdWVyeVN0cmluZygicm9vbVR5cGUiKSA9PSAibGl2ZVJvb20iKSkgewogICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA2OwogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICBfdGhpczMuJHJvdXRlci5wdXNoKCIvbGl2ZT9yb29taWQ9IiArIHJvb21JZCk7CgogICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA4OwogICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMzLiRSQ1ZvaWNlUm9vbUxpYi5qb2luUm9vbShyb29tSWQpOwoKICAgICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgICAgX3RoaXMzLiRyb3V0ZXIucHVzaCgiL3Jvb20vaG91c2UiKTsKCiAgICAgICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMTsKICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMy4kUkNWb2ljZVJvb21MaWIuam9pblJvb20ocm9vbUlkKTsKCiAgICAgICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgICAgICB0eHRFbnRlciA9IHsKICAgICAgICAgICAgICAgICAgICB1c2VySWQ6IF90aGlzMy4kUkNWb2ljZVJvb21MaWIuaW0udXNlcklkLAogICAgICAgICAgICAgICAgICAgIHVzZXJOYW1lOiBfdGhpczMuJHN0b3JlLnN0YXRlLnVzZXJJbmZvLnVzZXJOYW1lCiAgICAgICAgICAgICAgICAgIH07CgogICAgICAgICAgICAgICAgICBfdGhpczMuJFJDVm9pY2VSb29tTGliLmltLm1lc3NhZ2VVcGRhdGUoIlJDOkNoYXRyb29tOkVudGVyIiwgdHh0RW50ZXIpOwoKICAgICAgICAgICAgICAgICAgX3RoaXMzLiRyb3V0ZXIucHVzaCgiL3Jvb20vaG91c2UiKTsKCiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxNzsKICAgICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgICAgY2FzZSAxNjoKICAgICAgICAgICAgICAgICAgX3RoaXMzLiRyb3V0ZXIucHVzaCgiL3Jvb20vcm9vbW92ZXIiKTsKCiAgICAgICAgICAgICAgICBjYXNlIDE3OgogICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0sIF9jYWxsZWUpOwogICAgICAgIH0pKTsKCiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfeCkgewogICAgICAgICAgcmV0dXJuIF9yZWYuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICB9OwogICAgICB9KCkpLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICBjb25zb2xlLmxvZyhlcnIpOwogICAgICB9KTsKICAgIH0sCiAgICBzZXRCU2Nyb2xsOiBmdW5jdGlvbiBzZXRCU2Nyb2xsKCkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgIHRoaXMubXlzY3JvbGwgPSBudWxsOwogICAgICB0aGlzLm15c2Nyb2xsID0gbmV3IEJTY3JvbGwoIi5pbmZpbml0ZS1saXN0LXdyYXBwZXIiLCB7CiAgICAgICAgcHVsbERvd25SZWZyZXNoOiB7CiAgICAgICAgICB0aHJlc2hvbGQ6IDUwLAogICAgICAgICAgc3RvcDogMjAKICAgICAgICB9LAogICAgICAgIHNjcm9sbGJhcjogewogICAgICAgICAgZmFkZTogdHJ1ZSwKICAgICAgICAgIGludGVyYWN0aXZlOiBmYWxzZSAvLyAxLjguMCDmlrDlop4KCiAgICAgICAgfSwKICAgICAgICBib3VuY2U6IHRydWUsCiAgICAgICAgcHJvYmVUeXBlOiAzLAogICAgICAgIC8vMCwx77yMMu+8jDMKICAgICAgICBwdWxsVXBMb2FkOiB0cnVlLAogICAgICAgIC8v5LiK5ouJ5Yqg6L295pu05aSaLOm7mOiupOS4umZhbHNl77yM5LiN5YWB6K64CiAgICAgICAgY2xpY2s6IHRydWUKICAgICAgfSk7CiAgICAgIHRoaXMubXlzY3JvbGwub24oInB1bGxpbmdEb3duIiwgZnVuY3Rpb24gKCkgewogICAgICAgIC8vIGNvbnNvbGUubG9nKCLkuIvmi4nkuoYiKTsKICAgICAgICBfdGhpczQuZ2V0Um9vbUxpc3QoMSk7CgogICAgICAgIF90aGlzNC5wYWdlID0gMTsKICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgIF90aGlzNC5teXNjcm9sbC5maW5pc2hQdWxsRG93bigpOyAvLyDoh6rliqjosIPnlKggLnJlZnJlc2goKQoKICAgICAgICB9LCA1MDApOwogICAgICB9KTsKICAgICAgdGhpcy5teXNjcm9sbC5vbigicHVsbGluZ1VwIiwgZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzNC5sb2FkaW5nID0gdHJ1ZTsKICAgICAgICBfdGhpczQucGFnZSArPSAxOwogICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgX3RoaXM0LmxvYWRpbmcgPSBmYWxzZTsKCiAgICAgICAgICBfdGhpczQubXlzY3JvbGwuZmluaXNoUHVsbFVwKCk7IC8vIOiHquWKqOiwg+eUqCAucmVmcmVzaCgpCgogICAgICAgIH0sIDUwMCk7CiAgICAgIH0pOwogICAgfSwKICAgIHJlZmZvcjogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX3JlZmZvciA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgdmFyIF90aGlzNSA9IHRoaXM7CgogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICB0aGlzLnBhZ2UgPSAxOyAvL+mHjee9rumhteaVsOWIt+aWsOavj+asoemhteaVsOmDveaYr+esrOS4gOmhtQoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gMTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNDsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldFJvb21MaXN0KDEpOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgX3RoaXM1LiRyZWZzLnNjcmZvci5maW5pc2hQdWxsVG9SZWZyZXNoKCk7IC8vIGRvbmUoKTsgLy/ov5vooYzkuIvkuIDmrKHliqDovb3mk43kvZwKCiAgICAgICAgICAgICAgICB9LCA1MDApOwogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxMDsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICBfY29udGV4dDIucHJldiA9IDc7CiAgICAgICAgICAgICAgICBfY29udGV4dDIudDAgPSBfY29udGV4dDJbImNhdGNoIl0oMSk7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhfY29udGV4dDIudDApOwoKICAgICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyLCB0aGlzLCBbWzEsIDddXSk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIHJlZmZvcigpIHsKICAgICAgICByZXR1cm4gX3JlZmZvci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gcmVmZm9yOwogICAgfSgpLAogICAgLy8g5LiK5ouJ5Yqg6L29CiAgICBpbmZmb3I6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9pbmZmb3IgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKGRvbmUpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgaWYgKCEodGhpcy4kc3RvcmUuc3RhdGUucm9vbUxpc3QubGVuZ3RoIDwgMTApKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gNDsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgZG9uZSgyKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMTg7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgaWYgKCEodGhpcy4kc3RvcmUuc3RhdGUucm9vbUxpc3QubGVuZ3RoID4gMTAgJiYgdGhpcy5yb29tTGlzdExlbmd0aCkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA4OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBkb25lKDIpOwogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAxODsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgICB0aGlzLnBhZ2UgKz0gMTsKICAgICAgICAgICAgICAgIF9jb250ZXh0My5wcmV2ID0gOTsKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMTI7CiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRSb29tTGlzdCh0aGlzLnBhZ2UpOwoKICAgICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgIGRvbmUodHJ1ZSk7IC8v6L+b6KGM5LiL5LiA5qyh5Yqg6L295pON5L2cCiAgICAgICAgICAgICAgICB9LCA1MDApOwogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAxODsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDE1OgogICAgICAgICAgICAgICAgX2NvbnRleHQzLnByZXYgPSAxNTsKICAgICAgICAgICAgICAgIF9jb250ZXh0My50MCA9IF9jb250ZXh0M1siY2F0Y2giXSg5KTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKF9jb250ZXh0My50MCk7CgogICAgICAgICAgICAgIGNhc2UgMTg6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTMsIHRoaXMsIFtbOSwgMTVdXSk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIGluZmZvcihfeDIpIHsKICAgICAgICByZXR1cm4gX2luZmZvci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gaW5mZm9yOwogICAgfSgpCiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkge30sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBfdGhpczYgPSB0aGlzOwoKICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgaWYgKF90aGlzNi4kc3RvcmUuc3RhdGUucm9vbUxpc3QubGVuZ3RoID4gMCkgewogICAgICAgIF90aGlzNi5rZWVwU2hvdyA9IGZhbHNlOwogICAgICB9IGVsc2UgewogICAgICAgIF90aGlzNi5rZWVwU2hvdyA9IHRydWU7CiAgICAgIH0KICAgIH0pOwogIH0KfTs="},{"version":3,"sources":["index.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"CallRoom\">\n    <div class=\"CallRoom-noRoom\" v-if=\"keepShow\">\n      <span class=\"CallRoom-noRoom-value\">请创建房间</span>\n    </div>\n    <scroller\n      v-else\n      class=\"infinite-list-wrapper\"\n      :on-refresh=\"reffor\"\n      :on-infinite=\"inffor\"\n      ref=\"scrfor\"\n    >\n      <ul class=\"infinite-list\">\n        <li\n          v-for=\"key in this.$store.state.roomList\"\n          class=\"list-item\"\n          :key=\"key.id\"\n        >\n          <RoomTab :data=\"key\" @joinchatRoom=\"joinchatRoom\" />\n        </li>\n      </ul>\n    </scroller>\n  </div>\n</template>\n\n<script>\nimport RoomTab from \"../roomTab/index.vue\";\nimport BScroll from \"better-scroll\";\nimport request from \"../../../request/index\";\nimport { GetQueryString } from \"../../../utils/utils\";\nexport default {\n  name: \"CallRoom\",\n  data: function () {\n    return {\n      roomsList: [],\n      loading: false,\n      myscroll: null,\n      dataList: [],\n      roomListLength: false,\n      page: 1,\n      size: 10,\n      keepShow: false,\n    };\n  },\n  watch: {\n    listenstage: function (newVal) {\n      console.log(\"newVal\", newVal);\n      this.$nextTick(() => {\n        if (this.$store.state.roomList.length > 0) {\n          this.keepShow = false;\n        } else {\n          this.keepShow = true;\n        }\n      });\n    },\n  },\n  components: {\n    RoomTab,\n  },\n  computed: {\n    noMore() {\n      if (this.roomListLength) {\n        return true;\n      }\n      return false;\n    },\n    listenstage() {\n      return this.$store.state.roomList;\n    },\n  },\n  // eslint-disable-next-line vue/no-dupe-keys\n  methods: {\n    getRoomList: function (page) {\n      // console.log(this.authorizationVal);\n      let reqObj = {\n        page: page,\n        size: this.size,\n      };\n      if (\n        //直播房间\n        GetQueryString(\"roomType\") &&\n        GetQueryString(\"roomType\") == \"liveRoom\"\n      ) {\n        reqObj.type = 3;\n      }\n      request\n        .roomList(reqObj)\n        .then((response) => {\n          this.dataList = response.data.data;\n          if (page == 1) {\n            this.$store.dispatch(\"changesRoomsList\", response.data.data.rooms);\n          } else {\n            this.$store.dispatch(\n              \"changesRoomsList\",\n              this.$store.state.roomList.concat(response.data.data.rooms)\n            );\n          }\n          response.data.data.rooms.length < 10\n            ? (this.roomListLength = true)\n            : (this.roomListLength = false);\n          // store.actions.changesVal([]);\n        })\n        .catch((err) => {\n          console.error(\"请求失败\", err);\n          // alert(\"请求失败\", err);\n        });\n    },\n    joinchatRoom: function (roomId) {\n      request\n        .roominformation({ roomId: roomId })\n        .then(async (res) => {\n          if (res.data.code == 10000) {\n            if (\n              //直播房间\n              GetQueryString(\"roomType\") &&\n              GetQueryString(\"roomType\") == \"liveRoom\"\n            ) {\n              this.$router.push(\"/live?roomid=\" + roomId);\n              return;\n            } else {\n              await this.$RCVoiceRoomLib.joinRoom(roomId);\n              this.$router.push(\"/room/house\");\n            }\n            await this.$RCVoiceRoomLib.joinRoom(roomId);\n            let txtEnter = {\n              userId: this.$RCVoiceRoomLib.im.userId,\n              userName: this.$store.state.userInfo.userName,\n            };\n            this.$RCVoiceRoomLib.im.messageUpdate(\n              \"RC:Chatroom:Enter\",\n              txtEnter\n            );\n\n            this.$router.push(\"/room/house\");\n          } else {\n            this.$router.push(\"/room/roomover\");\n          }\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    },\n    setBScroll: function () {\n      this.myscroll = null;\n      this.myscroll = new BScroll(\".infinite-list-wrapper\", {\n        pullDownRefresh: {\n          threshold: 50,\n          stop: 20,\n        },\n        scrollbar: {\n          fade: true,\n          interactive: false, // 1.8.0 新增\n        },\n        bounce: true,\n        probeType: 3, //0,1，2，3\n        pullUpLoad: true, //上拉加载更多,默认为false，不允许\n        click: true,\n      });\n      this.myscroll.on(\"pullingDown\", () => {\n        // console.log(\"下拉了\");\n        this.getRoomList(1);\n        this.page = 1;\n        setTimeout(() => {\n          this.myscroll.finishPullDown(); // 自动调用 .refresh()\n        }, 500);\n      });\n      this.myscroll.on(\"pullingUp\", () => {\n        this.loading = true;\n        this.page += 1;\n        setTimeout(() => {\n          this.loading = false;\n          this.myscroll.finishPullUp(); // 自动调用 .refresh()\n        }, 500);\n      });\n    },\n    reffor: async function () {\n      this.page = 1; //重置页数刷新每次页数都是第一页\n      try {\n        await this.getRoomList(1);\n        setTimeout(() => {\n          this.$refs.scrfor.finishPullToRefresh();\n          // done(); //进行下一次加载操作\n        }, 500);\n      } catch (err) {\n        console.log(err);\n      }\n    },\n    // 上拉加载\n    inffor: async function (done) {\n      // console.log(\"上拉了\");\n      if (this.$store.state.roomList.length < 10) {\n        done(2);\n      } else {\n        if (this.$store.state.roomList.length > 10 && this.roomListLength) {\n          done(2);\n        } else {\n          this.page += 1;\n          try {\n            await this.getRoomList(this.page);\n            setTimeout(() => {\n              done(true); //进行下一次加载操作\n            }, 500);\n          } catch (err) {\n            console.log(err);\n          }\n        }\n      }\n    },\n  },\n  created() {},\n  mounted() {\n    this.$nextTick(() => {\n      if (this.$store.state.roomList.length > 0) {\n        this.keepShow = false;\n      } else {\n        this.keepShow = true;\n      }\n    });\n  },\n};\n</script>\n<style scoped>\n@import url(\"./index.css\");\n</style>"],"sourceRoot":"src/pages/room/callRoom"}]}