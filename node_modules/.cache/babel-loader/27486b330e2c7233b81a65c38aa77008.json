{"remainingRequest":"/Users/cuifengbo/work/RCRTC-Git/rcrtc-web/node_modules/babel-loader/lib/index.js!/Users/cuifengbo/work/RCRTC-Git/rcrtc-web/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/cuifengbo/work/RCRTC-Git/rcrtc-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/cuifengbo/work/RCRTC-Git/rcrtc-web/src/pages/room/callRoom/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/cuifengbo/work/RCRTC-Git/rcrtc-web/src/pages/room/callRoom/index.vue","mtime":1648104828601},{"path":"/Users/cuifengbo/work/RCRTC-Git/rcrtc-web/babel.config.js","mtime":1648104828534},{"path":"/Users/cuifengbo/work/RCRTC-Git/rcrtc-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/cuifengbo/work/RCRTC-Git/rcrtc-web/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/cuifengbo/work/RCRTC-Git/rcrtc-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/cuifengbo/work/RCRTC-Git/rcrtc-web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9jdWlmZW5nYm8vd29yay9SQ1JUQy1HaXQvcmNydGMtd2ViL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5jb25jYXQuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgUm9vbVRhYiBmcm9tICIuLi9yb29tVGFiL2luZGV4LnZ1ZSI7CmltcG9ydCBCU2Nyb2xsIGZyb20gImJldHRlci1zY3JvbGwiOwppbXBvcnQgcmVxdWVzdCBmcm9tICIuLi8uLi8uLi9yZXF1ZXN0L2luZGV4IjsKaW1wb3J0IHsgR2V0UXVlcnlTdHJpbmcgfSBmcm9tICIuLi8uLi8uLi91dGlscy91dGlscyI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiQ2FsbFJvb20iLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICByb29tc0xpc3Q6IFtdLAogICAgICBsb2FkaW5nOiBmYWxzZSwKICAgICAgbXlzY3JvbGw6IG51bGwsCiAgICAgIGRhdGFMaXN0OiBbXSwKICAgICAgcm9vbUxpc3RMZW5ndGg6IGZhbHNlLAogICAgICBwYWdlOiAxLAogICAgICBzaXplOiAxMCwKICAgICAga2VlcFNob3c6IGZhbHNlCiAgICB9OwogIH0sCiAgd2F0Y2g6IHsKICAgIGxpc3RlbnN0YWdlOiBmdW5jdGlvbiBsaXN0ZW5zdGFnZShuZXdWYWwpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIGNvbnNvbGUubG9nKCJuZXdWYWwiLCBuZXdWYWwpOwogICAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgaWYgKF90aGlzLiRzdG9yZS5zdGF0ZS5yb29tTGlzdC5sZW5ndGggPiAwKSB7CiAgICAgICAgICBfdGhpcy5rZWVwU2hvdyA9IGZhbHNlOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBfdGhpcy5rZWVwU2hvdyA9IHRydWU7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICB9LAogIGNvbXBvbmVudHM6IHsKICAgIFJvb21UYWI6IFJvb21UYWIKICB9LAogIGNvbXB1dGVkOiB7CiAgICBub01vcmU6IGZ1bmN0aW9uIG5vTW9yZSgpIHsKICAgICAgaWYgKHRoaXMucm9vbUxpc3RMZW5ndGgpIHsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfQoKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfSwKICAgIGxpc3RlbnN0YWdlOiBmdW5jdGlvbiBsaXN0ZW5zdGFnZSgpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLnJvb21MaXN0OwogICAgfQogIH0sCiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHZ1ZS9uby1kdXBlLWtleXMKICBtZXRob2RzOiB7CiAgICBnZXRSb29tTGlzdDogZnVuY3Rpb24gZ2V0Um9vbUxpc3QocGFnZSkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMuYXV0aG9yaXphdGlvblZhbCk7CiAgICAgIHZhciByZXFPYmogPSB7CiAgICAgICAgcGFnZTogcGFnZSwKICAgICAgICBzaXplOiB0aGlzLnNpemUKICAgICAgfTsKCiAgICAgIGlmICggLy/nm7Tmkq3miL/pl7QKICAgICAgR2V0UXVlcnlTdHJpbmcoInJvb21UeXBlIikgJiYgR2V0UXVlcnlTdHJpbmcoInJvb21UeXBlIikgPT0gImxpdmVSb29tIikgewogICAgICAgIHJlcU9iai50eXBlID0gMzsKICAgICAgfQoKICAgICAgcmVxdWVzdC5yb29tTGlzdChyZXFPYmopLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgX3RoaXMyLmRhdGFMaXN0ID0gcmVzcG9uc2UuZGF0YS5kYXRhOwoKICAgICAgICBpZiAocGFnZSA9PSAxKSB7CiAgICAgICAgICBfdGhpczIuJHN0b3JlLmRpc3BhdGNoKCJjaGFuZ2VzUm9vbXNMaXN0IiwgcmVzcG9uc2UuZGF0YS5kYXRhLnJvb21zKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgX3RoaXMyLiRzdG9yZS5kaXNwYXRjaCgiY2hhbmdlc1Jvb21zTGlzdCIsIF90aGlzMi4kc3RvcmUuc3RhdGUucm9vbUxpc3QuY29uY2F0KHJlc3BvbnNlLmRhdGEuZGF0YS5yb29tcykpOwogICAgICAgIH0KCiAgICAgICAgcmVzcG9uc2UuZGF0YS5kYXRhLnJvb21zLmxlbmd0aCA8IDEwID8gX3RoaXMyLnJvb21MaXN0TGVuZ3RoID0gdHJ1ZSA6IF90aGlzMi5yb29tTGlzdExlbmd0aCA9IGZhbHNlOyAvLyBzdG9yZS5hY3Rpb25zLmNoYW5nZXNWYWwoW10pOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgY29uc29sZS5lcnJvcigi6K+35rGC5aSx6LSlIiwgZXJyKTsgLy8gYWxlcnQoIuivt+axguWksei0pSIsIGVycik7CiAgICAgIH0pOwogICAgfSwKICAgIGpvaW5jaGF0Um9vbTogZnVuY3Rpb24gam9pbmNoYXRSb29tKHJvb21JZCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHJlcXVlc3Qucm9vbWluZm9ybWF0aW9uKHsKICAgICAgICByb29tSWQ6IHJvb21JZAogICAgICB9KS50aGVuKCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBfcmVmID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKHJlcykgewogICAgICAgICAgdmFyIHR4dEVudGVyOwogICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICBpZiAoIShyZXMuZGF0YS5jb2RlID09IDEwMDAwKSkgewogICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxNjsKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgaWYgKCEoIC8v55u05pKt5oi/6Ze0CiAgICAgICAgICAgICAgICAgIEdldFF1ZXJ5U3RyaW5nKCJyb29tVHlwZSIpICYmIEdldFF1ZXJ5U3RyaW5nKCJyb29tVHlwZSIpID09ICJsaXZlUm9vbSIpKSB7CiAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDY7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgIF90aGlzMy4kcm91dGVyLnB1c2goIi9saXZlP3Jvb21pZD0iICsgcm9vbUlkKTsKCiAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDg7CiAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczMuJFJDVm9pY2VSb29tTGliLmpvaW5Sb29tKHJvb21JZCk7CgogICAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgICBfdGhpczMuJHJvdXRlci5wdXNoKCIvcm9vbS9ob3VzZSIpOwoKICAgICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDExOwogICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMzLiRSQ1ZvaWNlUm9vbUxpYi5qb2luUm9vbShyb29tSWQpOwoKICAgICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgICAgIHR4dEVudGVyID0gewogICAgICAgICAgICAgICAgICAgIHVzZXJJZDogX3RoaXMzLiRSQ1ZvaWNlUm9vbUxpYi5pbS51c2VySWQsCiAgICAgICAgICAgICAgICAgICAgdXNlck5hbWU6IF90aGlzMy4kc3RvcmUuc3RhdGUudXNlckluZm8udXNlck5hbWUKICAgICAgICAgICAgICAgICAgfTsKCiAgICAgICAgICAgICAgICAgIF90aGlzMy4kUkNWb2ljZVJvb21MaWIuaW0ubWVzc2FnZVVwZGF0ZSgiUkM6Q2hhdHJvb206RW50ZXIiLCB0eHRFbnRlcik7CgogICAgICAgICAgICAgICAgICBfdGhpczMuJHJvdXRlci5wdXNoKCIvcm9vbS9ob3VzZSIpOwoKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE3OwogICAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgICBjYXNlIDE2OgogICAgICAgICAgICAgICAgICBfdGhpczMuJHJvdXRlci5wdXNoKCIvcm9vbS9yb29tb3ZlciIpOwoKICAgICAgICAgICAgICAgIGNhc2UgMTc6CiAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgICAgfSkpOwoKICAgICAgICByZXR1cm4gZnVuY3Rpb24gKF94KSB7CiAgICAgICAgICByZXR1cm4gX3JlZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgIH07CiAgICAgIH0oKSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgIGNvbnNvbGUubG9nKGVycik7CiAgICAgIH0pOwogICAgfSwKICAgIHNldEJTY3JvbGw6IGZ1bmN0aW9uIHNldEJTY3JvbGwoKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgdGhpcy5teXNjcm9sbCA9IG51bGw7CiAgICAgIHRoaXMubXlzY3JvbGwgPSBuZXcgQlNjcm9sbCgiLmluZmluaXRlLWxpc3Qtd3JhcHBlciIsIHsKICAgICAgICBwdWxsRG93blJlZnJlc2g6IHsKICAgICAgICAgIHRocmVzaG9sZDogNTAsCiAgICAgICAgICBzdG9wOiAyMAogICAgICAgIH0sCiAgICAgICAgc2Nyb2xsYmFyOiB7CiAgICAgICAgICBmYWRlOiB0cnVlLAogICAgICAgICAgaW50ZXJhY3RpdmU6IGZhbHNlIC8vIDEuOC4wIOaWsOWingoKICAgICAgICB9LAogICAgICAgIGJvdW5jZTogdHJ1ZSwKICAgICAgICBwcm9iZVR5cGU6IDMsCiAgICAgICAgLy8wLDHvvIwy77yMMwogICAgICAgIHB1bGxVcExvYWQ6IHRydWUsCiAgICAgICAgLy/kuIrmi4nliqDovb3mm7TlpJos6buY6K6k5Li6ZmFsc2XvvIzkuI3lhYHorrgKICAgICAgICBjbGljazogdHJ1ZQogICAgICB9KTsKICAgICAgdGhpcy5teXNjcm9sbC5vbigicHVsbGluZ0Rvd24iLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgLy8gY29uc29sZS5sb2coIuS4i+aLieS6hiIpOwogICAgICAgIF90aGlzNC5nZXRSb29tTGlzdCgxKTsKCiAgICAgICAgX3RoaXM0LnBhZ2UgPSAxOwogICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgX3RoaXM0Lm15c2Nyb2xsLmZpbmlzaFB1bGxEb3duKCk7IC8vIOiHquWKqOiwg+eUqCAucmVmcmVzaCgpCgogICAgICAgIH0sIDUwMCk7CiAgICAgIH0pOwogICAgICB0aGlzLm15c2Nyb2xsLm9uKCJwdWxsaW5nVXAiLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXM0LmxvYWRpbmcgPSB0cnVlOwogICAgICAgIF90aGlzNC5wYWdlICs9IDE7CiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICBfdGhpczQubG9hZGluZyA9IGZhbHNlOwoKICAgICAgICAgIF90aGlzNC5teXNjcm9sbC5maW5pc2hQdWxsVXAoKTsgLy8g6Ieq5Yqo6LCD55SoIC5yZWZyZXNoKCkKCiAgICAgICAgfSwgNTAwKTsKICAgICAgfSk7CiAgICB9LAogICAgcmVmZm9yOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfcmVmZm9yID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICB2YXIgX3RoaXM1ID0gdGhpczsKCiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHRoaXMucGFnZSA9IDE7IC8v6YeN572u6aG15pWw5Yi35paw5q+P5qyh6aG15pWw6YO95piv56ys5LiA6aG1CgogICAgICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSAxOwogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA0OwogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Um9vbUxpc3QoMSk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICBfdGhpczUuJHJlZnMuc2NyZm9yLmZpbmlzaFB1bGxUb1JlZnJlc2goKTsgLy8gZG9uZSgpOyAvL+i/m+ihjOS4i+S4gOasoeWKoOi9veaTjeS9nAoKICAgICAgICAgICAgICAgIH0sIDUwMCk7CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDEwOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gNzsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi50MCA9IF9jb250ZXh0MlsiY2F0Y2giXSgxKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKF9jb250ZXh0Mi50MCk7CgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIsIHRoaXMsIFtbMSwgN11dKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gcmVmZm9yKCkgewogICAgICAgIHJldHVybiBfcmVmZm9yLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiByZWZmb3I7CiAgICB9KCksCiAgICAvLyDkuIrmi4nliqDovb0KICAgIGluZmZvcjogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX2luZmZvciA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoZG9uZSkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBpZiAoISh0aGlzLiRzdG9yZS5zdGF0ZS5yb29tTGlzdC5sZW5ndGggPCAxMCkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA0OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBkb25lKDIpOwogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAxODsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICBpZiAoISh0aGlzLiRzdG9yZS5zdGF0ZS5yb29tTGlzdC5sZW5ndGggPiAxMCAmJiB0aGlzLnJvb21MaXN0TGVuZ3RoKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDg7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGRvbmUoMik7CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDE4OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgIHRoaXMucGFnZSArPSAxOwogICAgICAgICAgICAgICAgX2NvbnRleHQzLnByZXYgPSA5OwogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAxMjsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldFJvb21MaXN0KHRoaXMucGFnZSk7CgogICAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgZG9uZSh0cnVlKTsgLy/ov5vooYzkuIvkuIDmrKHliqDovb3mk43kvZwKICAgICAgICAgICAgICAgIH0sIDUwMCk7CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDE4OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTU6CiAgICAgICAgICAgICAgICBfY29udGV4dDMucHJldiA9IDE1OwogICAgICAgICAgICAgICAgX2NvbnRleHQzLnQwID0gX2NvbnRleHQzWyJjYXRjaCJdKDkpOwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coX2NvbnRleHQzLnQwKTsKCiAgICAgICAgICAgICAgY2FzZSAxODoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMywgdGhpcywgW1s5LCAxNV1dKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gaW5mZm9yKF94MikgewogICAgICAgIHJldHVybiBfaW5mZm9yLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBpbmZmb3I7CiAgICB9KCkKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7fSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdmFyIF90aGlzNiA9IHRoaXM7CgogICAgdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICBpZiAoX3RoaXM2LiRzdG9yZS5zdGF0ZS5yb29tTGlzdC5sZW5ndGggPiAwKSB7CiAgICAgICAgX3RoaXM2LmtlZXBTaG93ID0gZmFsc2U7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgX3RoaXM2LmtlZXBTaG93ID0gdHJ1ZTsKICAgICAgfQogICAgfSk7CiAgfQp9Ow=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0BA,OAAA,OAAA,MAAA,sBAAA;AACA,OAAA,OAAA,MAAA,eAAA;AACA,OAAA,OAAA,MAAA,wBAAA;AACA,SAAA,cAAA,QAAA,sBAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,UADA;AAEA,EAAA,IAAA,EAAA,gBAAA;AACA,WAAA;AACA,MAAA,SAAA,EAAA,EADA;AAEA,MAAA,OAAA,EAAA,KAFA;AAGA,MAAA,QAAA,EAAA,IAHA;AAIA,MAAA,QAAA,EAAA,EAJA;AAKA,MAAA,cAAA,EAAA,KALA;AAMA,MAAA,IAAA,EAAA,CANA;AAOA,MAAA,IAAA,EAAA,EAPA;AAQA,MAAA,QAAA,EAAA;AARA,KAAA;AAUA,GAbA;AAcA,EAAA,KAAA,EAAA;AACA,IAAA,WAAA,EAAA,qBAAA,MAAA,EAAA;AAAA;;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,QAAA,EAAA,MAAA;AACA,WAAA,SAAA,CAAA,YAAA;AACA,YAAA,KAAA,CAAA,MAAA,CAAA,KAAA,CAAA,QAAA,CAAA,MAAA,GAAA,CAAA,EAAA;AACA,UAAA,KAAA,CAAA,QAAA,GAAA,KAAA;AACA,SAFA,MAEA;AACA,UAAA,KAAA,CAAA,QAAA,GAAA,IAAA;AACA;AACA,OANA;AAOA;AAVA,GAdA;AA0BA,EAAA,UAAA,EAAA;AACA,IAAA,OAAA,EAAA;AADA,GA1BA;AA6BA,EAAA,QAAA,EAAA;AACA,IAAA,MADA,oBACA;AACA,UAAA,KAAA,cAAA,EAAA;AACA,eAAA,IAAA;AACA;;AACA,aAAA,KAAA;AACA,KANA;AAOA,IAAA,WAPA,yBAOA;AACA,aAAA,KAAA,MAAA,CAAA,KAAA,CAAA,QAAA;AACA;AATA,GA7BA;AAwCA;AACA,EAAA,OAAA,EAAA;AACA,IAAA,WAAA,EAAA,qBAAA,IAAA,EAAA;AAAA;;AACA;AACA,UAAA,MAAA,GAAA;AACA,QAAA,IAAA,EAAA,IADA;AAEA,QAAA,IAAA,EAAA,KAAA;AAFA,OAAA;;AAIA,WACA;AACA,MAAA,cAAA,CAAA,UAAA,CAAA,IACA,cAAA,CAAA,UAAA,CAAA,IAAA,UAHA,EAIA;AACA,QAAA,MAAA,CAAA,IAAA,GAAA,CAAA;AACA;;AACA,MAAA,OAAA,CACA,QADA,CACA,MADA,EAEA,IAFA,CAEA,UAAA,QAAA,EAAA;AACA,QAAA,MAAA,CAAA,QAAA,GAAA,QAAA,CAAA,IAAA,CAAA,IAAA;;AACA,YAAA,IAAA,IAAA,CAAA,EAAA;AACA,UAAA,MAAA,CAAA,MAAA,CAAA,QAAA,CAAA,kBAAA,EAAA,QAAA,CAAA,IAAA,CAAA,IAAA,CAAA,KAAA;AACA,SAFA,MAEA;AACA,UAAA,MAAA,CAAA,MAAA,CAAA,QAAA,CACA,kBADA,EAEA,MAAA,CAAA,MAAA,CAAA,KAAA,CAAA,QAAA,CAAA,MAAA,CAAA,QAAA,CAAA,IAAA,CAAA,IAAA,CAAA,KAAA,CAFA;AAIA;;AACA,QAAA,QAAA,CAAA,IAAA,CAAA,IAAA,CAAA,KAAA,CAAA,MAAA,GAAA,EAAA,GACA,MAAA,CAAA,cAAA,GAAA,IADA,GAEA,MAAA,CAAA,cAAA,GAAA,KAFA,CAVA,CAaA;AACA,OAhBA,EAiBA,KAjBA,CAiBA,UAAA,GAAA,EAAA;AACA,QAAA,OAAA,CAAA,KAAA,CAAA,MAAA,EAAA,GAAA,EADA,CAEA;AACA,OApBA;AAqBA,KAnCA;AAoCA,IAAA,YAAA,EAAA,sBAAA,MAAA,EAAA;AAAA;;AACA,MAAA,OAAA,CACA,eADA,CACA;AAAA,QAAA,MAAA,EAAA;AAAA,OADA,EAEA,IAFA;AAAA,2EAEA,iBAAA,GAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBACA,GAAA,CAAA,IAAA,CAAA,IAAA,IAAA,KADA;AAAA;AAAA;AAAA;;AAAA,yBAGA;AACA,kBAAA,cAAA,CAAA,UAAA,CAAA,IACA,cAAA,CAAA,UAAA,CAAA,IAAA,UALA;AAAA;AAAA;AAAA;;AAOA,kBAAA,MAAA,CAAA,OAAA,CAAA,IAAA,CAAA,kBAAA,MAAA;;AAPA;;AAAA;AAAA;AAAA,yBAUA,MAAA,CAAA,eAAA,CAAA,QAAA,CAAA,MAAA,CAVA;;AAAA;AAWA,kBAAA,MAAA,CAAA,OAAA,CAAA,IAAA,CAAA,aAAA;;AAXA;AAAA;AAAA,yBAaA,MAAA,CAAA,eAAA,CAAA,QAAA,CAAA,MAAA,CAbA;;AAAA;AAcA,kBAAA,QAdA,GAcA;AACA,oBAAA,MAAA,EAAA,MAAA,CAAA,eAAA,CAAA,EAAA,CAAA,MADA;AAEA,oBAAA,QAAA,EAAA,MAAA,CAAA,MAAA,CAAA,KAAA,CAAA,QAAA,CAAA;AAFA,mBAdA;;AAkBA,kBAAA,MAAA,CAAA,eAAA,CAAA,EAAA,CAAA,aAAA,CACA,mBADA,EAEA,QAFA;;AAKA,kBAAA,MAAA,CAAA,OAAA,CAAA,IAAA,CAAA,aAAA;;AAvBA;AAAA;;AAAA;AAyBA,kBAAA,MAAA,CAAA,OAAA,CAAA,IAAA,CAAA,gBAAA;;AAzBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAFA;;AAAA;AAAA;AAAA;AAAA,WA8BA,KA9BA,CA8BA,UAAA,GAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,GAAA;AACA,OAhCA;AAiCA,KAtEA;AAuEA,IAAA,UAAA,EAAA,sBAAA;AAAA;;AACA,WAAA,QAAA,GAAA,IAAA;AACA,WAAA,QAAA,GAAA,IAAA,OAAA,CAAA,wBAAA,EAAA;AACA,QAAA,eAAA,EAAA;AACA,UAAA,SAAA,EAAA,EADA;AAEA,UAAA,IAAA,EAAA;AAFA,SADA;AAKA,QAAA,SAAA,EAAA;AACA,UAAA,IAAA,EAAA,IADA;AAEA,UAAA,WAAA,EAAA,KAFA,CAEA;;AAFA,SALA;AASA,QAAA,MAAA,EAAA,IATA;AAUA,QAAA,SAAA,EAAA,CAVA;AAUA;AACA,QAAA,UAAA,EAAA,IAXA;AAWA;AACA,QAAA,KAAA,EAAA;AAZA,OAAA,CAAA;AAcA,WAAA,QAAA,CAAA,EAAA,CAAA,aAAA,EAAA,YAAA;AACA;AACA,QAAA,MAAA,CAAA,WAAA,CAAA,CAAA;;AACA,QAAA,MAAA,CAAA,IAAA,GAAA,CAAA;AACA,QAAA,UAAA,CAAA,YAAA;AACA,UAAA,MAAA,CAAA,QAAA,CAAA,cAAA,GADA,CACA;;AACA,SAFA,EAEA,GAFA,CAAA;AAGA,OAPA;AAQA,WAAA,QAAA,CAAA,EAAA,CAAA,WAAA,EAAA,YAAA;AACA,QAAA,MAAA,CAAA,OAAA,GAAA,IAAA;AACA,QAAA,MAAA,CAAA,IAAA,IAAA,CAAA;AACA,QAAA,UAAA,CAAA,YAAA;AACA,UAAA,MAAA,CAAA,OAAA,GAAA,KAAA;;AACA,UAAA,MAAA,CAAA,QAAA,CAAA,YAAA,GAFA,CAEA;;AACA,SAHA,EAGA,GAHA,CAAA;AAIA,OAPA;AAQA,KAvGA;AAwGA,IAAA,MAAA;AAAA,4EAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AACA,qBAAA,IAAA,GAAA,CAAA,CADA,CACA;;AADA;AAAA;AAAA,uBAGA,KAAA,WAAA,CAAA,CAAA,CAHA;;AAAA;AAIA,gBAAA,UAAA,CAAA,YAAA;AACA,kBAAA,MAAA,CAAA,KAAA,CAAA,MAAA,CAAA,mBAAA,GADA,CAEA;;AACA,iBAHA,EAGA,GAHA,CAAA;AAJA;AAAA;;AAAA;AAAA;AAAA;AASA,gBAAA,OAAA,CAAA,GAAA;;AATA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA,OAxGA;AAoHA;AACA,IAAA,MAAA;AAAA,4EAAA,kBAAA,IAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAEA,KAAA,MAAA,CAAA,KAAA,CAAA,QAAA,CAAA,MAAA,GAAA,EAFA;AAAA;AAAA;AAAA;;AAGA,gBAAA,IAAA,CAAA,CAAA,CAAA;AAHA;AAAA;;AAAA;AAAA,sBAKA,KAAA,MAAA,CAAA,KAAA,CAAA,QAAA,CAAA,MAAA,GAAA,EAAA,IAAA,KAAA,cALA;AAAA;AAAA;AAAA;;AAMA,gBAAA,IAAA,CAAA,CAAA,CAAA;AANA;AAAA;;AAAA;AAQA,qBAAA,IAAA,IAAA,CAAA;AARA;AAAA;AAAA,uBAUA,KAAA,WAAA,CAAA,KAAA,IAAA,CAVA;;AAAA;AAWA,gBAAA,UAAA,CAAA,YAAA;AACA,kBAAA,IAAA,CAAA,IAAA,CAAA,CADA,CACA;AACA,iBAFA,EAEA,GAFA,CAAA;AAXA;AAAA;;AAAA;AAAA;AAAA;AAeA,gBAAA,OAAA,CAAA,GAAA;;AAfA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AArHA,GAzCA;AAmLA,EAAA,OAnLA,qBAmLA,CAAA,CAnLA;AAoLA,EAAA,OApLA,qBAoLA;AAAA;;AACA,SAAA,SAAA,CAAA,YAAA;AACA,UAAA,MAAA,CAAA,MAAA,CAAA,KAAA,CAAA,QAAA,CAAA,MAAA,GAAA,CAAA,EAAA;AACA,QAAA,MAAA,CAAA,QAAA,GAAA,KAAA;AACA,OAFA,MAEA;AACA,QAAA,MAAA,CAAA,QAAA,GAAA,IAAA;AACA;AACA,KANA;AAOA;AA5LA,CAAA","sourcesContent":["<template>\n  <div class=\"CallRoom\">\n    <div class=\"CallRoom-noRoom\" v-if=\"keepShow\">\n      <span class=\"CallRoom-noRoom-value\">请创建房间</span>\n    </div>\n    <scroller\n      v-else\n      class=\"infinite-list-wrapper\"\n      :on-refresh=\"reffor\"\n      :on-infinite=\"inffor\"\n      ref=\"scrfor\"\n    >\n      <ul class=\"infinite-list\">\n        <li\n          v-for=\"key in this.$store.state.roomList\"\n          class=\"list-item\"\n          :key=\"key.id\"\n        >\n          <RoomTab :data=\"key\" @joinchatRoom=\"joinchatRoom\" />\n        </li>\n      </ul>\n    </scroller>\n  </div>\n</template>\n\n<script>\nimport RoomTab from \"../roomTab/index.vue\";\nimport BScroll from \"better-scroll\";\nimport request from \"../../../request/index\";\nimport { GetQueryString } from \"../../../utils/utils\";\nexport default {\n  name: \"CallRoom\",\n  data: function () {\n    return {\n      roomsList: [],\n      loading: false,\n      myscroll: null,\n      dataList: [],\n      roomListLength: false,\n      page: 1,\n      size: 10,\n      keepShow: false,\n    };\n  },\n  watch: {\n    listenstage: function (newVal) {\n      console.log(\"newVal\", newVal);\n      this.$nextTick(() => {\n        if (this.$store.state.roomList.length > 0) {\n          this.keepShow = false;\n        } else {\n          this.keepShow = true;\n        }\n      });\n    },\n  },\n  components: {\n    RoomTab,\n  },\n  computed: {\n    noMore() {\n      if (this.roomListLength) {\n        return true;\n      }\n      return false;\n    },\n    listenstage() {\n      return this.$store.state.roomList;\n    },\n  },\n  // eslint-disable-next-line vue/no-dupe-keys\n  methods: {\n    getRoomList: function (page) {\n      // console.log(this.authorizationVal);\n      let reqObj = {\n        page: page,\n        size: this.size,\n      };\n      if (\n        //直播房间\n        GetQueryString(\"roomType\") &&\n        GetQueryString(\"roomType\") == \"liveRoom\"\n      ) {\n        reqObj.type = 3;\n      }\n      request\n        .roomList(reqObj)\n        .then((response) => {\n          this.dataList = response.data.data;\n          if (page == 1) {\n            this.$store.dispatch(\"changesRoomsList\", response.data.data.rooms);\n          } else {\n            this.$store.dispatch(\n              \"changesRoomsList\",\n              this.$store.state.roomList.concat(response.data.data.rooms)\n            );\n          }\n          response.data.data.rooms.length < 10\n            ? (this.roomListLength = true)\n            : (this.roomListLength = false);\n          // store.actions.changesVal([]);\n        })\n        .catch((err) => {\n          console.error(\"请求失败\", err);\n          // alert(\"请求失败\", err);\n        });\n    },\n    joinchatRoom: function (roomId) {\n      request\n        .roominformation({ roomId: roomId })\n        .then(async (res) => {\n          if (res.data.code == 10000) {\n            if (\n              //直播房间\n              GetQueryString(\"roomType\") &&\n              GetQueryString(\"roomType\") == \"liveRoom\"\n            ) {\n              this.$router.push(\"/live?roomid=\" + roomId);\n              return;\n            } else {\n              await this.$RCVoiceRoomLib.joinRoom(roomId);\n              this.$router.push(\"/room/house\");\n            }\n            await this.$RCVoiceRoomLib.joinRoom(roomId);\n            let txtEnter = {\n              userId: this.$RCVoiceRoomLib.im.userId,\n              userName: this.$store.state.userInfo.userName,\n            };\n            this.$RCVoiceRoomLib.im.messageUpdate(\n              \"RC:Chatroom:Enter\",\n              txtEnter\n            );\n\n            this.$router.push(\"/room/house\");\n          } else {\n            this.$router.push(\"/room/roomover\");\n          }\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    },\n    setBScroll: function () {\n      this.myscroll = null;\n      this.myscroll = new BScroll(\".infinite-list-wrapper\", {\n        pullDownRefresh: {\n          threshold: 50,\n          stop: 20,\n        },\n        scrollbar: {\n          fade: true,\n          interactive: false, // 1.8.0 新增\n        },\n        bounce: true,\n        probeType: 3, //0,1，2，3\n        pullUpLoad: true, //上拉加载更多,默认为false，不允许\n        click: true,\n      });\n      this.myscroll.on(\"pullingDown\", () => {\n        // console.log(\"下拉了\");\n        this.getRoomList(1);\n        this.page = 1;\n        setTimeout(() => {\n          this.myscroll.finishPullDown(); // 自动调用 .refresh()\n        }, 500);\n      });\n      this.myscroll.on(\"pullingUp\", () => {\n        this.loading = true;\n        this.page += 1;\n        setTimeout(() => {\n          this.loading = false;\n          this.myscroll.finishPullUp(); // 自动调用 .refresh()\n        }, 500);\n      });\n    },\n    reffor: async function () {\n      this.page = 1; //重置页数刷新每次页数都是第一页\n      try {\n        await this.getRoomList(1);\n        setTimeout(() => {\n          this.$refs.scrfor.finishPullToRefresh();\n          // done(); //进行下一次加载操作\n        }, 500);\n      } catch (err) {\n        console.log(err);\n      }\n    },\n    // 上拉加载\n    inffor: async function (done) {\n      // console.log(\"上拉了\");\n      if (this.$store.state.roomList.length < 10) {\n        done(2);\n      } else {\n        if (this.$store.state.roomList.length > 10 && this.roomListLength) {\n          done(2);\n        } else {\n          this.page += 1;\n          try {\n            await this.getRoomList(this.page);\n            setTimeout(() => {\n              done(true); //进行下一次加载操作\n            }, 500);\n          } catch (err) {\n            console.log(err);\n          }\n        }\n      }\n    },\n  },\n  created() {},\n  mounted() {\n    this.$nextTick(() => {\n      if (this.$store.state.roomList.length > 0) {\n        this.keepShow = false;\n      } else {\n        this.keepShow = true;\n      }\n    });\n  },\n};\n</script>\n<style scoped>\n@import url(\"./index.css\");\n</style>"],"sourceRoot":"src/pages/room/callRoom"}]}