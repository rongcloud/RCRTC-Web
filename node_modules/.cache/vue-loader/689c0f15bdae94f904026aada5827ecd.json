{"remainingRequest":"/Users/cuifengbo/work/RCRTC-Git/rcrtc-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/cuifengbo/work/RCRTC-Git/rcrtc-web/src/components/seat/userClickSeizeSeat.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/cuifengbo/work/RCRTC-Git/rcrtc-web/src/components/seat/userClickSeizeSeat.vue","mtime":1648104828598},{"path":"/Users/cuifengbo/work/RCRTC-Git/rcrtc-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/cuifengbo/work/RCRTC-Git/rcrtc-web/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/cuifengbo/work/RCRTC-Git/rcrtc-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/cuifengbo/work/RCRTC-Git/rcrtc-web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBGdW5jdGlvbktleSBmcm9tICIuLi9yb29tL0Z1bmN0aW9uS2V5LnZ1ZSI7CmltcG9ydCByZXF1ZXN0IGZyb20gIi4uLy4uL3JlcXVlc3QvaW5kZXgiOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHR5cGU6ICIiLAogICAgICBVc2VyQ2xpY2tTZWl6ZVNlYXQ6IGZhbHNlLAogICAgICBkaXJlY3Rpb246ICJidHQiLAogICAgICB1c2VySW5mbzoge30sCiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZgogICAgICBpc0FkbWluOiAidXJsKCIgKyByZXF1aXJlKCIuLi8uLi9hc3NldHMvcm9vbWljb24vTWFuYWdlLnBuZyIpICsgIikiLAogICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWYKICAgICAgbm90QWRtaW46ICJ1cmwoIiArIHJlcXVpcmUoIi4uLy4uL2Fzc2V0cy9yb29taWNvbi9TZXRBZG1pbi5wbmciKSArICIpIiwKICAgICAgdXNlckluZm9GdW5LZXlzOiBbXSwKICAgIH07CiAgfSwKICBjb21wb25lbnRzOiB7CiAgICBGdW5jdGlvbktleSwKICB9LAogIHdhdGNoOiB7CiAgICBsaXN0ZXVzZXJJbmZvRnVuS2V5czogZnVuY3Rpb24gKCkge30sCiAgfSwKICBjb21wdXRlZDogewogICAgbGlzdGV1c2VySW5mb0Z1bktleXMoKSB7CiAgICAgIHJldHVybiB0aGlzLnVzZXJJbmZvRnVuS2V5czsKICAgIH0sCiAgfSwKICBtZXRob2RzOiB7CiAgICBVc2VyQ2xpY2tTZWl6ZVNlYXRPcGVuOiBmdW5jdGlvbiAoaXRlbSkgewogICAgICB0aGlzLnVzZXJJbmZvID0gaXRlbS5pdGVtOwogICAgICB0aGlzLnVzZXJJbmZvRnVuS2V5cyA9IGl0ZW0udmFsdWU7CiAgICAgIHRoaXMuVXNlckNsaWNrU2VpemVTZWF0ID0gdHJ1ZTsKICAgIH0sCiAgICBjbG9zZVVzZXJDbGlja1NlaXplU2VhdDogZnVuY3Rpb24gKCkgewogICAgICB0aGlzLlVzZXJDbGlja1NlaXplU2VhdCA9IGZhbHNlOwogICAgICB0aGlzLnVzZXJJbmZvRnVuS2V5cyA9IFtdOwogICAgfSwKICAgIFVzZXJDbGlja1NlaXplU2VhdENsb3NlOiBmdW5jdGlvbiAoKSB7CiAgICAgIHRoaXMudXNlckluZm9GdW5LZXlzID0gW107CiAgICB9LAogICAgU2VhdEFkbWluQ2hhbmdlOiBmdW5jdGlvbiAoaXRlbSkgewogICAgICB0aGlzLlVzZXJDbGlja1NlaXplU2VhdCA9IGZhbHNlOwogICAgICByZXF1ZXN0CiAgICAgICAgLnNldE1hbmFnZSh7CiAgICAgICAgICBpc01hbmFnZTogIWl0ZW0uaXNBZG1pbiwKICAgICAgICAgIHJvb21JZDogdGhpcy4kUkNWb2ljZVJvb21MaWIuX3Jvb21pZGNsaSwKICAgICAgICAgIHVzZXJJZDogaXRlbS51c2VySWQsCiAgICAgICAgfSkKICAgICAgICAudGhlbihhc3luYyAocmVzKSA9PiB7CiAgICAgICAgICBpZiAocmVzLmRhdGEuY29kZSA9PSAxMDAwMCkgewogICAgICAgICAgICB0aGlzLiRlbWl0KCJTZWF0QWRtaW5DaGFuZ2UiKTsKICAgICAgICAgICAgbGV0IG1lc3NhZ2UgPSB7CiAgICAgICAgICAgICAgdXNlcklkOiBpdGVtLnVzZXJJZCwKICAgICAgICAgICAgICB1c2VyTmFtZTogaXRlbS51c2VyTmFtZSwKICAgICAgICAgICAgICBpc0FkbWluOiAhaXRlbS5pc0FkbWluLAogICAgICAgICAgICB9OwogICAgICAgICAgICB0aGlzLiRSQ1ZvaWNlUm9vbUxpYi5lbWl0KCJNZXNzYWdlUmVjZWl2ZWQiLCB7CiAgICAgICAgICAgICAgLy/lj5HmnKzlnLAKICAgICAgICAgICAgICAvL+aooeaLn+acrOWcsOa2iOaBr+WPkemAgQogICAgICAgICAgICAgIG1lc3NhZ2VUeXBlOiAiUkM6Q2hhdHJvb206QWRtaW4iLAogICAgICAgICAgICAgIGlzT2ZmTGluZU1lc3NhZ2U6IGZhbHNlLAogICAgICAgICAgICAgIGNvbnRlbnQ6IG1lc3NhZ2UsCiAgICAgICAgICAgIH0pOwogICAgICAgICAgICB0aGlzLiRSQ1ZvaWNlUm9vbUxpYi5pbS5tZXNzYWdlVXBkYXRlKCJSQzpDaGF0cm9vbTpBZG1pbiIsIG1lc3NhZ2UpOyAvL+WPkW1lc3NhZ2UKICAgICAgICAgICAgdGhpcy4kUkNWb2ljZVJvb21MaWIubm90aWZ5Vm9pY2VSb29tKAogICAgICAgICAgICAgICJWb2ljZVJvb21OZWVkUmVmcmVzaE1hbmFnZXJMaXN0IiwKICAgICAgICAgICAgICAiIgogICAgICAgICAgICApOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgfSwKICAgIGdpZnRDbGljazogZnVuY3Rpb24gKHVzZXJJbmZvKSB7CiAgICAgIHRoaXMuVXNlckNsaWNrU2VpemVTZWF0ID0gZmFsc2U7CiAgICAgIHRoaXMuJGVtaXQoImdpZnRDbGljayIsIHVzZXJJbmZvKTsKICAgIH0sCiAgICBsZXR0ZXJDbGljazogZnVuY3Rpb24gKHVzZXJJbmZvKSB7CiAgICAgIGNvbnNvbGUubG9nKCLlj5Hnp4Hkv6Hlip/og73lvoXlvIDmlL46IiwgdXNlckluZm8pOwogICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgic2hvd1RvYXN0IiwgewogICAgICAgIHZhbHVlOiAi5Yqf6IO95b6F5byA5pS+IiwKICAgICAgfSk7CiAgICAgIHRoaXMuVXNlckNsaWNrU2VpemVTZWF0ID0gZmFsc2U7CiAgICB9LAogIH0sCn07Cg=="},{"version":3,"sources":["userClickSeizeSeat.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"userClickSeizeSeat.vue","sourceRoot":"src/components/seat","sourcesContent":["<template>\n  <div class=\"UserClickSeizeSeat\">\n    <el-drawer\n      :modal=\"false\"\n      :visible.sync=\"UserClickSeizeSeat\"\n      :direction=\"direction\"\n      :show-close=\"false\"\n      :close=\"UserClickSeizeSeatClose\"\n      :withHeader=\"false\"\n      size=\"2.995rem\"\n    >\n      <div class=\"UserClickSeizeSeat-admin\" @click=\"SeatAdminChange(userInfo)\">\n        <span\n          :style=\"\n            userInfo['isAdmin']\n              ? {\n                  backgroundImage: isAdmin,\n                }\n              : {\n                  backgroundImage: notAdmin,\n                }\n          \"\n          class=\"UserClickSeizeSeat-admin-span\"\n          >{{ userInfo[\"isAdmin\"] ? \"撤回管理\" : \"设为管理\" }}</span\n        >\n      </div>\n      <div class=\"UserClickSeizeSeat-top\">\n        <div class=\"UserClickSeizeSeat-top-img\">\n          <div\n            class=\"UserClickSeizeSeat-top-img-bc\"\n            :style=\"\n              userInfo['portrait']\n                ? {\n                    backgroundImage:\n                      'url(' +\n                      this.$store.state.defaultAddress +\n                      userInfo.portrait +\n                      ')',\n                  }\n                : {\n                    backgroundImage:\n                      'url(' + this.$store.state.defaultAvatarUrl + ')',\n                  }\n            \"\n          ></div>\n        </div>\n        <div class=\"UserClickSeizeSeat-top-name\">{{ userInfo.userName }}</div>\n        <div\n          v-show=\"'index' in userInfo && userInfo.index != 'none'\"\n          class=\"UserClickSeizeSeat-top-count\"\n        >\n          {{ userInfo.index }} 号麦位\n        </div>\n      </div>\n      <div class=\"UserClickSeizeSeat-center\">\n        <div class=\"center-button\">\n          <span\n            @click=\"giftClick(userInfo)\"\n            class=\"center-button-span center-button-gift\"\n            >送礼物</span\n          >\n        </div>\n        <div class=\"center-button\">\n          <span\n            @click=\"letterClick(userInfo)\"\n            class=\"center-button-span center-button-letter\"\n            >发私信</span\n          >\n        </div>\n      </div>\n      <div class=\"UserClickSeizeSeat-footer\">\n        <div\n          class=\"footer-button\"\n          v-for=\"(item, i) in userInfoFunKeys\"\n          :key=\"i\"\n        >\n          <FunctionKey\n            :item=\"item\"\n            :userInfo=\"userInfo\"\n            @closeUserClickSeizeSeat=\"closeUserClickSeizeSeat\"\n          />\n        </div>\n      </div>\n    </el-drawer>\n  </div>\n</template>\n<script>\nimport FunctionKey from \"../room/FunctionKey.vue\";\nimport request from \"../../request/index\";\nexport default {\n  data() {\n    return {\n      type: \"\",\n      UserClickSeizeSeat: false,\n      direction: \"btt\",\n      userInfo: {},\n      // eslint-disable-next-line no-undef\n      isAdmin: \"url(\" + require(\"../../assets/roomicon/Manage.png\") + \")\",\n      // eslint-disable-next-line no-undef\n      notAdmin: \"url(\" + require(\"../../assets/roomicon/SetAdmin.png\") + \")\",\n      userInfoFunKeys: [],\n    };\n  },\n  components: {\n    FunctionKey,\n  },\n  watch: {\n    listeuserInfoFunKeys: function () {},\n  },\n  computed: {\n    listeuserInfoFunKeys() {\n      return this.userInfoFunKeys;\n    },\n  },\n  methods: {\n    UserClickSeizeSeatOpen: function (item) {\n      this.userInfo = item.item;\n      this.userInfoFunKeys = item.value;\n      this.UserClickSeizeSeat = true;\n    },\n    closeUserClickSeizeSeat: function () {\n      this.UserClickSeizeSeat = false;\n      this.userInfoFunKeys = [];\n    },\n    UserClickSeizeSeatClose: function () {\n      this.userInfoFunKeys = [];\n    },\n    SeatAdminChange: function (item) {\n      this.UserClickSeizeSeat = false;\n      request\n        .setManage({\n          isManage: !item.isAdmin,\n          roomId: this.$RCVoiceRoomLib._roomidcli,\n          userId: item.userId,\n        })\n        .then(async (res) => {\n          if (res.data.code == 10000) {\n            this.$emit(\"SeatAdminChange\");\n            let message = {\n              userId: item.userId,\n              userName: item.userName,\n              isAdmin: !item.isAdmin,\n            };\n            this.$RCVoiceRoomLib.emit(\"MessageReceived\", {\n              //发本地\n              //模拟本地消息发送\n              messageType: \"RC:Chatroom:Admin\",\n              isOffLineMessage: false,\n              content: message,\n            });\n            this.$RCVoiceRoomLib.im.messageUpdate(\"RC:Chatroom:Admin\", message); //发message\n            this.$RCVoiceRoomLib.notifyVoiceRoom(\n              \"VoiceRoomNeedRefreshManagerList\",\n              \"\"\n            );\n          }\n        });\n    },\n    giftClick: function (userInfo) {\n      this.UserClickSeizeSeat = false;\n      this.$emit(\"giftClick\", userInfo);\n    },\n    letterClick: function (userInfo) {\n      console.log(\"发私信功能待开放:\", userInfo);\n      this.$store.dispatch(\"showToast\", {\n        value: \"功能待开放\",\n      });\n      this.UserClickSeizeSeat = false;\n    },\n  },\n};\n</script>\n<style scoped>\n.UserClickSeizeSeat {\n  text-align: center;\n  overflow: hidden;\n}\n\n.UserClickSeizeSeat /deep/ .el-drawer {\n  background-color: rgba(92, 80, 149, 1) !important;\n  overflow: visible !important;\n  border-top-left-radius: 0.215rem;\n  border-top-right-radius: 0.215rem;\n}\n\n.UserClickSeizeSeat /deep/ .el-drawer__body {\n  overflow: visible !important;\n}\n\n.UserClickSeizeSeat-admin {\n  position: absolute;\n  top: 0;\n  right: 0;\n  height: 0.45rem;\n  width: 1.14rem;\n  color: #dfdfdf;\n  background: rgba(255, 255, 255, 0.16);\n  border-top-right-radius: 0.215rem;\n  border-bottom-left-radius: 0.215rem;\n  justify-content: center;\n  align-items: center;\n  display: flex;\n  z-index: 10;\n}\n\n.UserClickSeizeSeat-admin-span {\n  padding-left: 0.2rem;\n  font-size: 0.13rem;\n  background-repeat: no-repeat;\n  background-size: 0.16rem 0.16rem;\n  background-position: left;\n}\n\n.UserClickSeizeSeat-top {\n  height: 0.875rem;\n  text-align: center;\n  position: relative;\n}\n\n.UserClickSeizeSeat-top-img {\n  position: absolute;\n  left: 50%;\n  top: -0.375rem;\n  width: 0.75rem;\n  height: 0.75rem;\n  border-radius: 50%;\n  margin-left: -0.375rem;\n  z-index: 9;\n  background-color: rgba(92, 80, 149, 1);\n  background-repeat: no-repeat;\n  background-size: 3.75rem 3.33rem;\n  background-position: -0.3rem -2.9rem;\n}\n\n.UserClickSeizeSeat-top-img-bc {\n  width: 0.56rem;\n  height: 0.56rem;\n  border-radius: 50%;\n  position: relative;\n  top: 0.095rem;\n  left: 0.095rem;\n  background-repeat: no-repeat;\n  background-size: 0.56rem 0.56rem;\n  background-position: center;\n}\n\n.UserClickSeizeSeat-top-name {\n  height: 0.24rem;\n  font-size: 0.17rem;\n  font-weight: 500;\n  line-height: 0.24rem;\n  padding-top: 0.375rem;\n  color: white;\n}\n\n.UserClickSeizeSeat-top-count {\n  height: 0.18rem;\n  font-size: 0.13rem;\n  font-weight: normal;\n  line-height: 0.18rem;\n  margin-top: 0.03rem;\n  color: #dfdfdf;\n}\n\n.UserClickSeizeSeat-center {\n  width: 100%;\n  height: 0.98rem;\n  display: flex;\n}\n\n.center-button {\n  flex: 1;\n  text-align: center;\n  line-height: 0.98rem;\n}\n\n.center-button-span {\n  display: inline-block;\n  width: 1rem;\n  border-radius: 0.215rem;\n  height: 0.43rem;\n  border-radius: 0.215rem;\n  line-height: 0.43rem;\n  background-repeat: no-repeat;\n  background-size: 1rem 0.43rem;\n  background-position: center;\n}\n\n.center-button-gift {\n  background-image: url(\"../../assets/wheat/giftbutton.png\");\n  color: white;\n}\n\n.center-button-letter {\n  color: rgba(239, 73, 154, 1);\n  background-image: url(\"../../assets/wheat/letter.png\");\n}\n\n.UserClickSeizeSeat-footer {\n  width: 100%;\n  height: 1.15rem;\n  background-color: rgba(255, 255, 255, 0.12);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n.UserClickSeizeSeat-footer .footer-button {\n  flex: 1;\n  color: white;\n}\n</style>\n"]}]}