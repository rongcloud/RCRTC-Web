{"remainingRequest":"/Users/libin/Desktop/Gwork/rcrtc-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/libin/Desktop/Gwork/rcrtc-web/src/pages/room/roomTab/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/libin/Desktop/Gwork/rcrtc-web/src/pages/room/roomTab/index.vue","mtime":1647849498261},{"path":"/Users/libin/Desktop/Gwork/rcrtc-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/libin/Desktop/Gwork/rcrtc-web/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/libin/Desktop/Gwork/rcrtc-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/libin/Desktop/Gwork/rcrtc-web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IEdldFF1ZXJ5U3RyaW5nIH0gZnJvbSAiLi4vLi4vLi4vdXRpbHMvdXRpbHMiOwppbXBvcnQgUG9wdUlucHV0IGZyb20gIi4uLy4uLy4uL2NvbXBvbmVudHMvUG9wdXBJbnB1dC52dWUiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIlJvb21UYWIiLAogIHByb3BzOiBbImRhdGEiXSwKICBjb21wb25lbnRzOiB7IFBvcHVJbnB1dCB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBrZXk6ICIiLAogICAgICByb29tSWQ6ICIiLAogICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWYKICAgICAgcGVvcGxlSWNvbjogcmVxdWlyZSgiLi4vLi4vLi4vYXNzZXRzL2NoYXJhY3Rlci1pY29uLnBuZyIpLAogICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWYKICAgICAgcm9vbUljb246IHJlcXVpcmUoIi4uLy4uLy4uL2Fzc2V0cy9EZWZhdWx0SW1nLnBuZyIpLAogICAgfTsKICB9LAogIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSB2dWUvbm8tZHVwZS1rZXlzCiAgbWV0aG9kczogewogICAgc2V0Um9vbUxpc3Q6IGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIHRoaXMucm9vbXNMaXN0OwogICAgfSwKICAgIGNsaWNrWWVzOiBhc3luYyBmdW5jdGlvbiAodmFsdWUpIHsKICAgICAgLy8gY29uc29sZS5sb2codmFsdWUpOwogICAgICBpZiAodmFsdWUgPT0gdGhpcy5rZXkpIHsKICAgICAgICB0cnkgewogICAgICAgICAgdGhpcy4kcmVmcy5Qb3B1SW5wdXQub25DbG9zZSgpOwogICAgICAgICAgdGhpcy4kZW1pdCgiam9pbmNoYXRSb29tIiwgdGhpcy5yb29tSWQpOwogICAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgICAgY29uc29sZS5sb2coIuWKoOWFpeivreiBiuaIv+Wksei0pe+8gSIpOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgic2hvd1RvYXN0IiwgewogICAgICAgICAgdmFsdWU6ICLlr4bnoIHplJnor68iLAogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAganVtcFRvUm9vbTogYXN5bmMgZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goInVzZXJIYXNBcHBseSIsIGZhbHNlKTsKICAgICAgLy8gY29uc29sZS5sb2coZGF0YSk7CiAgICAgIGlmIChHZXRRdWVyeVN0cmluZygicm9vbVR5cGUiKSkgewogICAgICAgIHN3aXRjaCAoR2V0UXVlcnlTdHJpbmcoInJvb21UeXBlIikpIHsKICAgICAgICAgIGNhc2UgImxpdmVSb29tIjoKICAgICAgICAgICAgaWYgKGRhdGEuaXNQcml2YXRlID09IDEpIHsKICAgICAgICAgICAgICB0aGlzLmtleSA9IGRhdGEucGFzc3dvcmQ7CiAgICAgICAgICAgICAgdGhpcy5yb29tSWQgPSBkYXRhLnJvb21JZDsKICAgICAgICAgICAgICB0aGlzLiRyZWZzLlBvcHVJbnB1dC5zZXRQb3B1cCh7CiAgICAgICAgICAgICAgICB0eXBlOiAibnVtYmVyIiwKICAgICAgICAgICAgICAgIHRpdGxlOiAi6K+36L6T5YWlIDQg5L2N5pWw5a2X5a+G56CBIiwKICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyOiAi6K+36L6T5YWlIDQg5L2N5pWw5a2X5a+G56CBIiwKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgiL2xpdmU/cm9vbWlkPSIgKyBkYXRhLnJvb21JZCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY29uc29sZS5sb2coIuebtOaSreWvhueggeaIv+mXtOWKoOWFpSIpOwogICAgICAgICAgICBicmVhazsKCiAgICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICBicmVhazsKICAgICAgICB9CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIGlmICgKICAgICAgICBkYXRhLmNyZWF0ZVVzZXIudXNlcklkICE9IHRoaXMuJFJDVm9pY2VSb29tTGliLmltLnVzZXJJZCAmJgogICAgICAgIGRhdGEuaXNQcml2YXRlID09IDEKICAgICAgKSB7CiAgICAgICAgdGhpcy5rZXkgPSBkYXRhLnBhc3N3b3JkOwogICAgICAgIHRoaXMucm9vbUlkID0gZGF0YS5yb29tSWQ7CiAgICAgICAgdGhpcy4kcmVmcy5Qb3B1SW5wdXQuc2V0UG9wdXAoewogICAgICAgICAgdHlwZTogIm51bWJlciIsCiAgICAgICAgICB0aXRsZTogIuivt+i+k+WFpSA0IOS9jeaVsOWtl+WvhueggSIsCiAgICAgICAgICBwbGFjZWhvbGRlcjogIuivt+i+k+WFpSA0IOS9jeaVsOWtl+WvhueggSIsCiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIHRyeSB7CiAgICAgICAgdGhpcy4kZW1pdCgiam9pbmNoYXRSb29tIiwgZGF0YS5yb29tSWQpOwogICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICBjb25zb2xlLmxvZygi5Yqg5YWl6K+t6IGK5oi/5aSx6LSl77yBIik7CiAgICAgIH0KICAgIH0sCiAgfSwKICBjcmVhdGVkKCkge30sCiAgbW91bnRlZCgpIHt9LAp9Owo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/pages/room/roomTab","sourcesContent":["<template>\n  <div class=\"roomTab\" @click=\"jumpToRoom(data)\">\n    <div class=\"roomTabLi\">\n      <el-image\n        class=\"room-image\"\n        :src=\"data.themePictureUrl || roomIcon\"\n        fit=\"cover\"\n      ></el-image>\n      <div class=\"room-text\">\n        <div class=\"room-title\">\n          {{ data.roomName }}\n        </div>\n        <el-image\n          class=\"room-portrait\"\n          :src=\"\n            data.createUser.portrait\n              ? this.$store.state.defaultAddress + data.createUser.portrait\n              : this.$store.state.defaultAvatarUrl\n          \"\n          fit=\"cover\"\n        ></el-image>\n        <div class=\"room-name\">{{ data.createUser.userName }}</div>\n      </div>\n      <div class=\"roomRight\">\n        <div v-if=\"data.isPrivate == 1\" class=\"roomRight-lock\"></div>\n        <el-image\n          class=\"roomRightIcon\"\n          :src=\"peopleIcon\"\n          fit=\"cover\"\n        ></el-image>\n        <div class=\"roomRightNumber\">\n          {{ data.userTotal }}\n        </div>\n      </div>\n    </div>\n    <PopuInput ref=\"PopuInput\" @clickYes=\"clickYes\" />\n  </div>\n</template>\n\n<script>\nimport { GetQueryString } from \"../../../utils/utils\";\nimport PopuInput from \"../../../components/PopupInput.vue\";\nexport default {\n  name: \"RoomTab\",\n  props: [\"data\"],\n  components: { PopuInput },\n  data() {\n    return {\n      key: \"\",\n      roomId: \"\",\n      // eslint-disable-next-line no-undef\n      peopleIcon: require(\"../../../assets/character-icon.png\"),\n      // eslint-disable-next-line no-undef\n      roomIcon: require(\"../../../assets/DefaultImg.png\"),\n    };\n  },\n  // eslint-disable-next-line vue/no-dupe-keys\n  methods: {\n    setRoomList: function () {\n      return this.roomsList;\n    },\n    clickYes: async function (value) {\n      // console.log(value);\n      if (value == this.key) {\n        try {\n          this.$refs.PopuInput.onClose();\n          this.$emit(\"joinchatRoom\", this.roomId);\n        } catch (err) {\n          console.log(\"加入语聊房失败！\");\n        }\n      } else {\n        this.$store.dispatch(\"showToast\", {\n          value: \"密码错误\",\n        });\n      }\n    },\n    jumpToRoom: async function (data) {\n      this.$store.dispatch(\"userHasApply\", false);\n      // console.log(data);\n      if (GetQueryString(\"roomType\")) {\n        switch (GetQueryString(\"roomType\")) {\n          case \"liveRoom\":\n            if (data.isPrivate == 1) {\n              this.key = data.password;\n              this.roomId = data.roomId;\n              this.$refs.PopuInput.setPopup({\n                type: \"number\",\n                title: \"请输入 4 位数字密码\",\n                placeholder: \"请输入 4 位数字密码\",\n              });\n            } else {\n              this.$router.push(\"/live?roomid=\" + data.roomId);\n            }\n            console.log(\"直播密码房间加入\");\n            break;\n\n          default:\n            break;\n        }\n        return;\n      }\n      if (\n        data.createUser.userId != this.$RCVoiceRoomLib.im.userId &&\n        data.isPrivate == 1\n      ) {\n        this.key = data.password;\n        this.roomId = data.roomId;\n        this.$refs.PopuInput.setPopup({\n          type: \"number\",\n          title: \"请输入 4 位数字密码\",\n          placeholder: \"请输入 4 位数字密码\",\n        });\n        return;\n      }\n      try {\n        this.$emit(\"joinchatRoom\", data.roomId);\n      } catch (err) {\n        console.log(\"加入语聊房失败！\");\n      }\n    },\n  },\n  created() {},\n  mounted() {},\n};\n</script>\n<style scoped>\n@import url(\"./index.css\");\n</style>"]}]}