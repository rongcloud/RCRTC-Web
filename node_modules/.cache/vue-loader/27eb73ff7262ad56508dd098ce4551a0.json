{"remainingRequest":"/Users/libin/Desktop/Gwork/rcrtc-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/libin/Desktop/Gwork/rcrtc-web/src/pages/house/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/libin/Desktop/Gwork/rcrtc-web/src/pages/house/index.vue","mtime":1648115772489},{"path":"/Users/libin/Desktop/Gwork/rcrtc-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/libin/Desktop/Gwork/rcrtc-web/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/libin/Desktop/Gwork/rcrtc-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/libin/Desktop/Gwork/rcrtc-web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBVc2VyTGlzdCBmcm9tICIuLi8uLi9jb21wb25lbnRzL3Jvb20vVXNlckxpc3QudnVlIjsKaW1wb3J0IFJvb21CYWNrIGZyb20gIi4uLy4uL2NvbXBvbmVudHMvcm9vbS9Sb29tQmFjay52dWUiOwppbXBvcnQgU2VhdCBmcm9tICIuLi8uLi9jb21wb25lbnRzL3Jvb20vc2VhdC52dWUiOwppbXBvcnQgUm9vbUZpdCBmcm9tICIuLi8uLi9jb21wb25lbnRzL1Jvb21GaXQudnVlIjsKaW1wb3J0IE5vdGljZSBmcm9tICIuLi8uLi9jb21wb25lbnRzL3Jvb20vTm90aWNlLnZ1ZSI7CmltcG9ydCBDb25uZXRXZWF0IGZyb20gIi4uLy4uL2NvbXBvbmVudHMvcm9vbS9Db25uZXRXZWF0LnZ1ZSI7CmltcG9ydCBVc2VyQ2xpY2tPd25lciBmcm9tICIuLi8uLi9jb21wb25lbnRzL3NlYXQvdXNlckNsaWNrT3duZXIudnVlIjsKaW1wb3J0IFVzZXJDbGlja1NlaXplU2VhdCBmcm9tICIuLi8uLi9jb21wb25lbnRzL3NlYXQvdXNlckNsaWNrU2VpemVTZWF0LnZ1ZSI7CmltcG9ydCBBZG1pbkNsaWNrT3RoZXIgZnJvbSAiLi4vLi4vY29tcG9uZW50cy9zZWF0L0FkbWluQ2xpY2tPdGhlci52dWUiOwppbXBvcnQgVXNlckNsaWNrRW1wdHlTZWF0IGZyb20gIi4uLy4uL2NvbXBvbmVudHMvc2VhdC91c2VyQ2xpY2tFbXB0eVNlYXQudnVlIjsKaW1wb3J0IEF1ZGllbmNlQ2xpY2tPd2VyIGZyb20gIi4uLy4uL2NvbXBvbmVudHMvc2VhdC9hdWRpZW5jZUNsaWNrT3dlci52dWUiOwppbXBvcnQgQXVkaWVuY2VDbGlja1NlaXplU2VhdCBmcm9tICIuLi8uLi9jb21wb25lbnRzL3NlYXQvYXVkaWVDbGlja1NlaXplU2VhdC52dWUiOwppbXBvcnQgQ2FuY2VsRXZlblNlYXQgZnJvbSAiLi4vLi4vY29tcG9uZW50cy9yb29tL0NhbmNlbEV2ZW5TZWF0LnZ1ZSI7Ci8v5o6l5YWlCmltcG9ydCBsaXZlQ2hhdCBmcm9tICIuLi8uLi9jb21wb25lbnRzL2Jhc2VVaS9saXZlQ2hhdC52dWUiOwppbXBvcnQgYm90dG9tQmFyIGZyb20gIi4uLy4uL2NvbXBvbmVudHMvYmFzZVVpL2JvdHRvbUJhci52dWUiOwppbXBvcnQgZ2lmdFBhbmVsIGZyb20gIi4uLy4uL2NvbXBvbmVudHMvYmFzZVVpL2dpZnRQYW5lbC52dWUiOwoKaW1wb3J0IHsKICBSb29tRml0SXRlbUxpc3QsCiAgQmFja0xpc3QsCiAgbXV0ZUFuZEluc2V0LAogIHVubXV0ZUFuZEluc2V0LAogIGVtcHR5TXV0ZUFuZExvY2ssCiAgZW1wdHlNdXRlQW5kVW5sb2NrLAogIGVtcHR5VW5tdXRlQW5kTG9jaywKICBlbXB0eVVubXV0ZUFuZFVubG9jaywKICBpc0FkbWluQW5kSW5zZXQsCiAgb3V0c2V0LAp9IGZyb20gIi4vc3RhdGljLmpzIjsKaW1wb3J0IHJlcXVlc3QgZnJvbSAiLi4vLi4vcmVxdWVzdC9pbmRleCI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiSG91c2UiLAogIGRhdGE6IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiB7CiAgICAgIHRhYlN0cmV0Y2g6IHRydWUsCiAgICAgIGFjdGl2ZU5hbWU6ICJmaXJzdCIsCiAgICAgIGNpcmNsZW1vdmU6ICIiLAogICAgICBjaXJjbGUybW92ZTogIiIsCiAgICAgIGtlZXBNb3ZlOiB0cnVlLAogICAgICBob3VzZUZpbHRlcjogMCwKICAgICAgQmFja0NsYXNzOiAidG9wLXJpZ2h0IiwKICAgICAgY3JlYXR1c2VyOiBmYWxzZSwKICAgICAgdG9wRmlsdGVyOiAwLAogICAgICBPd2VyTXV0ZTogZmFsc2UsCiAgICAgIGhvdXNlck1hcDoge30sCiAgICAgIHJvb21JZDogIiIsCiAgICAgIHNlYXRJbmZvOiB7CiAgICAgICAgbXV0ZTogZmFsc2UsCiAgICAgICAgc3BlYWtpbmc6IGZhbHNlLAogICAgICAgIHN0YXR1czogIjAiLAogICAgICAgIHVzZXJJZDogIiIsCiAgICAgIH0sCiAgICAgIEdpZnRBbmRNYW5hZ2VMaXN0OiB7CiAgICAgICAgR2lmdE9iajoge30sCiAgICAgICAgTWFuYWdlT2JqOiB7fSwKICAgICAgfSwKICAgICAgQWRtaW5pc3RyYXRvcnM6CiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmCiAgICAgICAgInVybCgiICsgcmVxdWlyZSgiLi4vLi4vYXNzZXRzL3Jvb21pY29uL2FkbWluaXN0cmF0b3JzLnBuZyIpICsgIikiLAogICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWYKICAgICAgaG9tZU93ZXJJbWc6IHJlcXVpcmUoIi4uLy4uL2Fzc2V0cy9yb29taWNvbi9Pd2VySWNvbi5wbmciKSwKICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmCiAgICAgIE93ZXJJbWc6IHJlcXVpcmUoIi4uLy4uL2Fzc2V0cy9EZWZhdWx0SW1nLnBuZyIpLAogICAgICBSb29tRml0SXRlbUxpc3Q6IFtdLAogICAgICBpdGVtTGlzdDogW10sCiAgICAgIGRibGNsaWNrUGFnZTogZmFsc2UsCiAgICAgIHRhbGtUb3A6IDY0LjUsCiAgICAgIHRhbGtIZWlnaHQ6IDI4LAogICAgICAvL+aOpeWFpQogICAgICBzaG93R2lmdDogZmFsc2UsCiAgICB9OwogIH0sCiAgcHJvcHM6IHsKICAgIG1zZzogU3RyaW5nLAogIH0sCiAgY29tcG9uZW50czogewogICAgVXNlckxpc3QsCiAgICBSb29tQmFjaywKICAgIFNlYXQsCiAgICBSb29tRml0LAogICAgTm90aWNlLAogICAgQ29ubmV0V2VhdCwKICAgIFVzZXJDbGlja093bmVyLAogICAgVXNlckNsaWNrU2VpemVTZWF0LAogICAgQWRtaW5DbGlja090aGVyLAogICAgVXNlckNsaWNrRW1wdHlTZWF0LAogICAgQXVkaWVuY2VDbGlja093ZXIsCiAgICBBdWRpZW5jZUNsaWNrU2VpemVTZWF0LAogICAgQ2FuY2VsRXZlblNlYXQsCiAgICAvL+aOpeWFpQogICAgbGl2ZUNoYXQsCiAgICBib3R0b21CYXIsCiAgICBnaWZ0UGFuZWwsCiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXRTZWF0SW5mb2xpc3Q6IGFzeW5jIGZ1bmN0aW9uICgpIHsKICAgICAgY29uc3QgbGlzdCA9IGF3YWl0IHRoaXMuJFJDVm9pY2VSb29tTGliLmdldExhdGVzdFNlYXRJbmZvKCk7CiAgICAgIGNvbnNvbGUubG9nKGxpc3QpOwogICAgICBjb25zb2xlLmxvZyh0aGlzLiRSQ1ZvaWNlUm9vbUxpYik7CiAgICB9LAoKICAgIC8v6K6+572u5oi/6Ze0dGl0bGUKICAgIHNldFJvb21UaXRsZTogZnVuY3Rpb24gKCkgewogICAgICBsZXQgdGl0bGU7CiAgICAgIGlmICh0aGlzLiRzdG9yZS5zdGF0ZS5yb29tVGl0bGUgPT0gInVuZGVmaW5lZCIpIHsKICAgICAgICB0aXRsZSA9IHRoaXMuJHN0b3JlLnN0YXRlLnJvb21JbmZvcm1hdGlvbi5yb29tTmFtZTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aXRsZSA9IHRoaXMuJHN0b3JlLnN0YXRlLnJvb21UaXRsZTsKICAgICAgfQogICAgICAvLyBjb25zb2xlLmxvZyh0aXRsZSk7CiAgICAgIGlmICh0aXRsZSkgewogICAgICAgIGlmICh0aXRsZS5sZW5ndGggPiAxMCkgewogICAgICAgICAgcmV0dXJuIHRpdGxlLnN1YnN0cmluZygwLCAxMCkgKyAiLi4uIjsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgcmV0dXJuIHRpdGxlOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gIiI7CiAgICAgIH0KICAgIH0sCgogICAgLy/miZPlvIDnlKjmiLfliJfooagKICAgIG9wZW5Vc2VyTGlzdDogZnVuY3Rpb24gKCkgewogICAgICByZXF1ZXN0CiAgICAgICAgLnJvb211c2VyKHsKICAgICAgICAgIHJvb21JZDogdGhpcy4kUkNWb2ljZVJvb21MaWIuX3Jvb21pZGNsaSwKICAgICAgICB9KQogICAgICAgIC50aGVuKChyZXMpID0+IHsKICAgICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCJnZXRSb29tVXNlckxpc3QiLCByZXMuZGF0YS5kYXRhKTsKICAgICAgICB9KTsKICAgICAgdGhpcy5ob3VzZUZpbHRlciA9IDU7CiAgICAgIHRoaXMuJHJlZnMuVXNlckxpc3Qub3BlblVzZXJMaXN0KCk7CiAgICB9LAoKICAgIC8v5YWz6Zet55So5oi35YiX6KGoCiAgICBvbkNsb3NlVXNlckxpc3Q6IGZ1bmN0aW9uICgpIHsKICAgICAgdGhpcy5ob3VzZUZpbHRlciA9IDA7CiAgICB9LAoKICAgIC8v54K55Ye755So5oi35YiX6KGoCiAgICBvbkNsaWNrVXNlckxpc3Q6IGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgIGlmICghaXRlbVsicG9ydHJhaXQiXSAmJiAibGVuZ3RoIiBpbiB0aGlzLiRzdG9yZS5zdGF0ZS5yb29tVXNlckxpc3QpIHsKICAgICAgICBmb3IgKAogICAgICAgICAgbGV0IGluZGV4ID0gMDsKICAgICAgICAgIGluZGV4IDwgdGhpcy4kc3RvcmUuc3RhdGUucm9vbVVzZXJMaXN0Lmxlbmd0aDsKICAgICAgICAgIGluZGV4KysKICAgICAgICApIHsKICAgICAgICAgIGlmICgKICAgICAgICAgICAgaXRlbVsidXNlcklkIl0gPT0gdGhpcy4kc3RvcmUuc3RhdGUucm9vbVVzZXJMaXN0W2luZGV4XVsidXNlcklkIl0KICAgICAgICAgICkgewogICAgICAgICAgICBpdGVtID0gewogICAgICAgICAgICAgIC4uLml0ZW0sCiAgICAgICAgICAgICAgLi4udGhpcy4kc3RvcmUuc3RhdGUucm9vbVVzZXJMaXN0W2luZGV4XSwKICAgICAgICAgICAgfTsKCiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQoKICAgICAgY29uc3QgTWFuYWdlT2JqID0gdGhpcy4kc3RvcmUuc3RhdGUuR2lmdEFuZE1hbmFnZUxpc3RbIk1hbmFnZU9iaiJdIHx8IHt9OwogICAgICBpZiAoaXRlbS51c2VySWQgPT0gdGhpcy4kUkNWb2ljZVJvb21MaWIuaW0udXNlcklkKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIGNvbnN0IGFycmF5ID0gWy4uLnRoaXMuJHN0b3JlLnN0YXRlLml0ZW1MaXN0XTsKCiAgICAgIGlmICh0aGlzLiRzdG9yZS5zdGF0ZS5jcmVhdFVzZXIpIHsKICAgICAgICAvL+aIv+S4u+aTjeS9nAogICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIGlmIChhcnJheVtpXVsidXNlcklkIl0gPT0gaXRlbS51c2VySWQpIHsKICAgICAgICAgICAgaWYgKGFycmF5W2ldWyJtdXRlIl0pIHsKICAgICAgICAgICAgICB0aGlzLiRyZWZzLlVzZXJDbGlja1NlaXplU2VhdC5Vc2VyQ2xpY2tTZWl6ZVNlYXRPcGVuKHsKICAgICAgICAgICAgICAgIGl0ZW06IGFycmF5W2ldLAogICAgICAgICAgICAgICAgdmFsdWU6IG11dGVBbmRJbnNldCwKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICB0aGlzLiRyZWZzLlVzZXJDbGlja1NlaXplU2VhdC5Vc2VyQ2xpY2tTZWl6ZVNlYXRPcGVuKHsKICAgICAgICAgICAgICAgIGl0ZW06IGFycmF5W2ldLAogICAgICAgICAgICAgICAgdmFsdWU6IHVubXV0ZUFuZEluc2V0LAogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgfQogICAgICAgICAgaWYgKGkgPT0gYXJyYXkubGVuZ3RoIC0gMSkgewogICAgICAgICAgICB0aGlzLiRyZWZzLlVzZXJDbGlja1NlaXplU2VhdC5Vc2VyQ2xpY2tTZWl6ZVNlYXRPcGVuKHsKICAgICAgICAgICAgICBpdGVtOiBpdGVtLAogICAgICAgICAgICAgIHZhbHVlOiBvdXRzZXQsCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICAvL+aIv+mXtOWFtuS9meeUqOaIt+aTjeS9nAogICAgICAgIGlmICgKICAgICAgICAgIGl0ZW0udXNlcklkIGluIE1hbmFnZU9iaiB8fAogICAgICAgICAgaXRlbS51c2VySWQgPT0gdGhpcy4kc3RvcmUuc3RhdGUucm9vbUluZm9ybWF0aW9uLmNyZWF0ZVVzZXIudXNlcklkCiAgICAgICAgKSB7CiAgICAgICAgICB0aGlzLiRyZWZzLkF1ZGllbmNlQ2xpY2tTZWl6ZVNlYXQuYXVkaWVuY2VDbGlja1NlaXplU2VhdE9wZW4oaXRlbSk7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIGlmICh0aGlzLiRzdG9yZS5zdGF0ZS5UaGVSb29tQWRtaW4pIHsKICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgaWYgKGFycmF5W2ldWyJ1c2VySWQiXSA9PSBpdGVtLnVzZXJJZCkgewogICAgICAgICAgICAgIHRoaXMuJHJlZnMuQWRtaW5DbGlja090aGVyLkFkbWluQ2xpY2tPdGhlck9wZW4oewogICAgICAgICAgICAgICAgaXRlbTogaXRlbSwKICAgICAgICAgICAgICAgIHZhbHVlOiBpc0FkbWluQW5kSW5zZXQsCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChpID09IGFycmF5Lmxlbmd0aCAtIDEpIHsKICAgICAgICAgICAgICB0aGlzLiRyZWZzLkFkbWluQ2xpY2tPdGhlci5BZG1pbkNsaWNrT3RoZXJPcGVuKHsKICAgICAgICAgICAgICAgIGl0ZW06IGl0ZW0sCiAgICAgICAgICAgICAgICB2YWx1ZTogb3V0c2V0LAogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuJHJlZnMuQXVkaWVuY2VDbGlja1NlaXplU2VhdC5hdWRpZW5jZUNsaWNrU2VpemVTZWF0T3BlbihpdGVtKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCgogICAgb25Sb29tQmFja0Nsb3NlOiBmdW5jdGlvbiAoKSB7CiAgICAgIHRoaXMudG9wRmlsdGVyID0gMDsKICAgIH0sCgogICAgLy/ngrnlh7vlj7PkuIrop5IKICAgIGNsaWNrVG9wUmlnaHQ6IGFzeW5jIGZ1bmN0aW9uICgpIHsKICAgICAgLy8gY29uc29sZS5sb2codGhpcy5jcmVhdHVzZXIpOwogICAgICBpZiAodGhpcy5jcmVhdHVzZXIpIHsKICAgICAgICB0aGlzLiRyZWZzLlJvb21CYWNrLlJvb21CYWNrT3BlbihCYWNrTGlzdCk7CiAgICAgICAgdGhpcy50b3BGaWx0ZXIgPSA1OwogICAgICB9IGVsc2UgewogICAgICAgIHRyeSB7CiAgICAgICAgICBhd2FpdCB0aGlzLiRSQ1ZvaWNlUm9vbUxpYi5sZWF2ZVJvb20odGhpcy4kUkNWb2ljZVJvb21MaWIuX3Jvb21pZGNsaSk7CiAgICAgICAgICB0aGlzLiRyb3V0ZXIuZ28oLTEpOwogICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgic2hvd1RvYXN0IiwgewogICAgICAgICAgICB2YWx1ZTogIuemu+W8gOaIv+mXtOWksei0pSIsCiAgICAgICAgICB9KTsKICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCgogICAgLy/miZPlvIDlhazlkYoKICAgIGNsaWNrTm90aWNlOiBmdW5jdGlvbiAoKSB7CiAgICAgIHRoaXMuJHJlZnMuTm90aWNlLnNldFBvcHVwKHsKICAgICAgICBpc1Nob3c6IGZhbHNlLAogICAgICAgIHZhbHVlOiB0aGlzLiRSQ1ZvaWNlUm9vbUxpYi5yb29tSW5mb1siZXh0cmEiXQogICAgICAgICAgPyB0aGlzLiRSQ1ZvaWNlUm9vbUxpYi5yb29tSW5mb1siZXh0cmEiXQogICAgICAgICAgOiAi5qyi6L+O5p2l5YiwICIgKyB0aGlzLiRSQ1ZvaWNlUm9vbUxpYi5yb29tSW5mb1sicm9vbU5hbWUiXSwKICAgICAgfSk7CiAgICB9LAoKICAgIENvbm5lY3RNaWM6IGZ1bmN0aW9uICgpIHsKICAgICAgdGhpcy4kcmVmcy5Db25uZXRXZWF0Lm9wZW5Db25uZXRXaGVhdChmYWxzZSk7CiAgICB9LAoKICAgIC8v5oi/5Li76K6+572u54q25oCB5o6n5Yi2CiAgICBDb25uZWN0T3BlcmF0aW9uOiBmdW5jdGlvbiAoKSB7CiAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMuJFJDVm9pY2VSb29tTGliLnJvb21JbmZvKTsKICAgICAgY29uc3QgUm9vbUZpdExpc3QgPSBbLi4uUm9vbUZpdEl0ZW1MaXN0XTsKICAgICAgaWYgKHRoaXMuJHN0b3JlLnN0YXRlLnJvb21Qcml2YXRlLmlzUHJpdmF0ZSA9PSAxKSB7CiAgICAgICAgUm9vbUZpdExpc3RbMF0gPSB7CiAgICAgICAgICB2YWx1ZTogIuaIv+mXtOino+mUgSIsCiAgICAgICAgICBpbWc6CiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZgogICAgICAgICAgICAidXJsKCIgKyByZXF1aXJlKCIuLi8uLi9hc3NldHMvcm9vbWljb24vVW5Mb2NrUm9vbS5wbmciKSArICIpIiwKICAgICAgICB9OwogICAgICB9CiAgICAgIGlmICh0aGlzLiRSQ1ZvaWNlUm9vbUxpYi5yb29tSW5mby5pc0ZyZWVFbnRlclNlYXQpIHsKICAgICAgICBSb29tRml0TGlzdFs0XSA9IHsKICAgICAgICAgIHZhbHVlOiAi55Sz6K+35LiK6bqmIiwKICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZgogICAgICAgICAgaW1nOiAidXJsKCIgKyByZXF1aXJlKCIuLi8uLi9hc3NldHMvcm9vbWljb24vQkFwcGx5V2hlYXQucG5nIikgKyAiKSIsCiAgICAgICAgfTsKICAgICAgfQogICAgICBpZiAodGhpcy4kUkNWb2ljZVJvb21MaWIucm9vbUluZm8uaXNNdXRlQWxsKSB7CiAgICAgICAgUm9vbUZpdExpc3RbNV0gPSB7CiAgICAgICAgICB2YWx1ZTogIuino+mUgeWFqOm6piIsCiAgICAgICAgICBpbWc6CiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZgogICAgICAgICAgICAidXJsKCIgKyByZXF1aXJlKCIuLi8uLi9hc3NldHMvcm9vbWljb24vVW5NdXRlQWxsU2VhdC5wbmciKSArICIpIiwKICAgICAgICB9OwogICAgICB9CiAgICAgIGlmICh0aGlzLiRSQ1ZvaWNlUm9vbUxpYi5yb29tSW5mby5pc0xvY2tBbGwpIHsKICAgICAgICBSb29tRml0TGlzdFs2XSA9IHsKICAgICAgICAgIHZhbHVlOiAi6Kej6ZSB5YWo5bqnIiwKICAgICAgICAgIGltZzoKICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmCiAgICAgICAgICAgICJ1cmwoIiArIHJlcXVpcmUoIi4uLy4uL2Fzc2V0cy9yb29taWNvbi9VbmxvY2tBbGxTZWF0LnBuZyIpICsgIikiLAogICAgICAgIH07CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLiRzdG9yZS5zdGF0ZS5tdXRlTWljcm9waG9uZSkgewogICAgICAgIFJvb21GaXRMaXN0WzddID0gewogICAgICAgICAgdmFsdWU6ICLlj5bmtojpnZnpn7MiLAogICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmCiAgICAgICAgICBpbWc6ICJ1cmwoIiArIHJlcXVpcmUoIi4uLy4uL2Fzc2V0cy9yb29taWNvbi9Vbk11dGVPbmUucG5nIikgKyAiKSIsCiAgICAgICAgfTsKICAgICAgfQogICAgICBpZiAodGhpcy4kUkNWb2ljZVJvb21MaWIucm9vbUluZm8uc2VhdENvdW50ID09IDUpIHsKICAgICAgICBSb29tRml0TGlzdFs4XSA9IHsKICAgICAgICAgIHZhbHVlOiAi6K6+572uOOS4quW6p+S9jSIsCiAgICAgICAgICBpbWc6CiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZgogICAgICAgICAgICAidXJsKCIgKyByZXF1aXJlKCIuLi8uLi9hc3NldHMvcm9vbWljb24vQlNldEVpZ2h0U2VhdHMucG5nIikgKyAiKSIsCiAgICAgICAgfTsKICAgICAgfQogICAgICB0aGlzLlJvb21GaXRJdGVtTGlzdCA9IFJvb21GaXRMaXN0OwogICAgICB0aGlzLiRyZWZzLlJvb21GaXQub3BlblJvb21GaXQoKTsKICAgIH0sCgogICAgLy/lkIzmraXmiL/kuLvpnZnpn7PnirbmgIEKICAgIFVzZXJJbmZvck11dGU6IGZ1bmN0aW9uIChiKSB7CiAgICAgIHRoaXMuT3dlck11dGUgPSBiOwogICAgfSwKCiAgICAvL+epuuW6p+S9jei3s+i9rOmCgOivt+eUqOaItwogICAgY2xpY2tJbnZpdGF0aW9uOiBmdW5jdGlvbiAoKSB7CiAgICAgIHRoaXMuJHJlZnMuQ29ubmV0V2VhdC5vcGVuQ29ubmV0V2hlYXQodHJ1ZSk7CiAgICB9LAoKICAgIC8v6K6+572u5bqn5L2NTGlzdAogICAgU2V0U2VhdExpc3Q6IGFzeW5jIGZ1bmN0aW9uIChyZXNWYWx1ZSkgewogICAgICB0aGlzLmhvdXNlck1hcCA9IHt9OwogICAgICBsZXQgcm9vbVVzZXJMaXN0TWFwID0ge307CiAgICAgIHRoaXMuaXRlbUxpc3QgPSBbXTsKICAgICAgaWYgKAogICAgICAgICF0aGlzLiRzdG9yZS5zdGF0ZS5yb29tVXNlckxpc3QgfHwKICAgICAgICB0aGlzLiRzdG9yZS5zdGF0ZS5yb29tVXNlckxpc3QubGVuZ3RoID09IDAKICAgICAgKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBpZiAoIXRoaXMuJFJDVm9pY2VSb29tTGliLnNlYXRJbmZvTGlzdFswXSkgewogICAgICAgIHRoaXMuJFJDVm9pY2VSb29tTGliLnNlYXRJbmZvTGlzdFswXSA9IHsKICAgICAgICAgIC4uLnRoaXMuc2VhdEluZm8sCiAgICAgICAgfTsKICAgICAgICB0aGlzLiRSQ1ZvaWNlUm9vbUxpYi5zZWF0SW5mb0xpc3RbMF1bInN0YXR1cyJdID0gMTsKICAgICAgICB0aGlzLiRSQ1ZvaWNlUm9vbUxpYi5zZWF0SW5mb0xpc3RbMF1bInVzZXJJZCJdID0KICAgICAgICAgIHRoaXMuJHN0b3JlLnN0YXRlLnJvb21JbmZvcm1hdGlvbi5jcmVhdGVVc2VyLnVzZXJJZDsKICAgICAgfQogICAgICBmb3IgKGxldCBtID0gMDsgbSA8IHRoaXMuJHN0b3JlLnN0YXRlLnJvb21Vc2VyTGlzdC5sZW5ndGg7IG0gKz0gMSkgewogICAgICAgIHJvb21Vc2VyTGlzdE1hcFt0aGlzLiRzdG9yZS5zdGF0ZS5yb29tVXNlckxpc3RbbV1bInVzZXJJZCJdXSA9CiAgICAgICAgICB0aGlzLiRzdG9yZS5zdGF0ZS5yb29tVXNlckxpc3RbbV07CiAgICAgIH0KCiAgICAgIC8vIGlmICh0aGlzLiRSQ1ZvaWNlUm9vbUxpYi5zZWF0SW5mb0xpc3RbMF1bIm11dGUiXSAhPSAhdGhpcy5Pd2VyTXV0ZSkgewogICAgICAvLyAgIHRoaXMuT3dlck11dGUgPSAhdGhpcy4kUkNWb2ljZVJvb21MaWIuc2VhdEluZm9MaXN0WzBdWyJtdXRlIl07CiAgICAgIC8vIH0KCiAgICAgIGlmICgKICAgICAgICB0aGlzLiRSQ1ZvaWNlUm9vbUxpYi5zZWF0SW5mb0xpc3RbMF1bImV4dHJhIl0gJiYKICAgICAgICBKU09OLnBhcnNlKHRoaXMuJFJDVm9pY2VSb29tTGliLnNlYXRJbmZvTGlzdFswXVsiZXh0cmEiXSlbCiAgICAgICAgICAiZGlzYWJsZVJlY29yZGluZyIKICAgICAgICBdCiAgICAgICkgewogICAgICAgIHRoaXMuT3dlck11dGUgPSB0cnVlOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuT3dlck11dGUgPSBmYWxzZTsKICAgICAgfQoKICAgICAgaWYgKAogICAgICAgIHRoaXMuJFJDVm9pY2VSb29tTGliLnNlYXRJbmZvTGlzdFswXVsidXNlcklkIl0gJiYKICAgICAgICB0aGlzLiRSQ1ZvaWNlUm9vbUxpYi5zZWF0SW5mb0xpc3RbMF1bInVzZXJJZCJdIGluIHJvb21Vc2VyTGlzdE1hcAogICAgICApIHsKICAgICAgICB0aGlzLmhvdXNlck1hcCA9IHsKICAgICAgICAgIC4uLnJvb21Vc2VyTGlzdE1hcFt0aGlzLiRSQ1ZvaWNlUm9vbUxpYi5zZWF0SW5mb0xpc3RbMF1bInVzZXJJZCJdXSwKICAgICAgICB9OwogICAgICB9CgogICAgICBpZiAoCiAgICAgICAgdGhpcy4kUkNWb2ljZVJvb21MaWIuc2VhdEluZm9MaXN0WzBdWyJ1c2VySWQiXSAmJgogICAgICAgIHRoaXMuJFJDVm9pY2VSb29tTGliLnNlYXRJbmZvTGlzdFswXVsidXNlcklkIl0gaW4gcmVzVmFsdWUuR2lmdE9iagogICAgICApIHsKICAgICAgICB0aGlzLmhvdXNlck1hcCA9IHsKICAgICAgICAgIC4uLnRoaXMuaG91c2VyTWFwLAogICAgICAgICAgZ2lmdDogcmVzVmFsdWUuR2lmdE9ialsKICAgICAgICAgICAgdGhpcy4kUkNWb2ljZVJvb21MaWIuc2VhdEluZm9MaXN0WzBdWyJ1c2VySWQiXQogICAgICAgICAgXSwKICAgICAgICB9OwogICAgICB9CgogICAgICB0aGlzLmhvdXNlck1hcCA9IHsKICAgICAgICAuLi50aGlzLmhvdXNlck1hcCwKICAgICAgICAuLi50aGlzLiRSQ1ZvaWNlUm9vbUxpYi5zZWF0SW5mb0xpc3RbMF0sCiAgICAgIH07CgogICAgICBsZXQgYXJyID0gW107CgogICAgICBsZXQgc2VhdENvdW50TnVtYmVyID0gOTsKICAgICAgaWYgKAogICAgICAgIHRoaXMuJFJDVm9pY2VSb29tTGliLnJvb21JbmZvICYmCiAgICAgICAgdGhpcy4kUkNWb2ljZVJvb21MaWIucm9vbUluZm8uc2VhdENvdW50ICE9IDkKICAgICAgKSB7CiAgICAgICAgc2VhdENvdW50TnVtYmVyID0gdGhpcy4kUkNWb2ljZVJvb21MaWIucm9vbUluZm8uc2VhdENvdW50OwogICAgICB9CiAgICAgIGZvciAobGV0IHAgPSAxOyBwIDwgc2VhdENvdW50TnVtYmVyOyBwICs9IDEpIHsKICAgICAgICBsZXQgT3RoZXJNYXAgPSB7fTsKICAgICAgICBpZiAoCiAgICAgICAgICB0aGlzLiRSQ1ZvaWNlUm9vbUxpYi5zZWF0SW5mb0xpc3RbcF0gJiYKICAgICAgICAgIHRoaXMuJFJDVm9pY2VSb29tTGliLnNlYXRJbmZvTGlzdFtwXVsidXNlcklkIl0KICAgICAgICApIHsKICAgICAgICAgIGlmICgKICAgICAgICAgICAgdGhpcy4kUkNWb2ljZVJvb21MaWIuc2VhdEluZm9MaXN0W3BdWyJ1c2VySWQiXSBpbiByb29tVXNlckxpc3RNYXAKICAgICAgICAgICkgewogICAgICAgICAgICBPdGhlck1hcCA9IHsKICAgICAgICAgICAgICAuLi5yb29tVXNlckxpc3RNYXBbCiAgICAgICAgICAgICAgICB0aGlzLiRSQ1ZvaWNlUm9vbUxpYi5zZWF0SW5mb0xpc3RbcF1bInVzZXJJZCJdCiAgICAgICAgICAgICAgXSwKICAgICAgICAgICAgfTsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoCiAgICAgICAgICAgIHRoaXMuJFJDVm9pY2VSb29tTGliLnNlYXRJbmZvTGlzdFtwXVsidXNlcklkIl0gaW4gcmVzVmFsdWUuTWFuYWdlT2JqCiAgICAgICAgICApIHsKICAgICAgICAgICAgT3RoZXJNYXAgPSB7CiAgICAgICAgICAgICAgLi4uT3RoZXJNYXAsCiAgICAgICAgICAgICAgaXNBZG1pbjogdHJ1ZSwKICAgICAgICAgICAgfTsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoCiAgICAgICAgICAgIHRoaXMuJFJDVm9pY2VSb29tTGliLnNlYXRJbmZvTGlzdFtwXVsidXNlcklkIl0gaW4gcmVzVmFsdWUuR2lmdE9iagogICAgICAgICAgKSB7CiAgICAgICAgICAgIE90aGVyTWFwID0gewogICAgICAgICAgICAgIC4uLk90aGVyTWFwLAogICAgICAgICAgICAgIGdpZnQ6IHJlc1ZhbHVlLkdpZnRPYmpbCiAgICAgICAgICAgICAgICB0aGlzLiRSQ1ZvaWNlUm9vbUxpYi5zZWF0SW5mb0xpc3RbcF1bInVzZXJJZCJdCiAgICAgICAgICAgICAgXSwKICAgICAgICAgICAgfTsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGlmICh0aGlzLiRSQ1ZvaWNlUm9vbUxpYi5zZWF0SW5mb0xpc3RbcF0pIHsKICAgICAgICAgIGFyci5wdXNoKHsKICAgICAgICAgICAgLi4uT3RoZXJNYXAsCiAgICAgICAgICAgIC4uLnRoaXMuJFJDVm9pY2VSb29tTGliLnNlYXRJbmZvTGlzdFtwXSwKICAgICAgICAgICAgaW5kZXg6IHAsCiAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy4kUkNWb2ljZVJvb21MaWIuc2VhdEluZm9MaXN0W3BdID0gewogICAgICAgICAgICAuLi50aGlzLnNlYXRJbmZvLAogICAgICAgICAgfTsKICAgICAgICAgIGFyci5wdXNoKHsKICAgICAgICAgICAgLi4uT3RoZXJNYXAsCiAgICAgICAgICAgIC4uLnRoaXMuc2VhdEluZm8sCiAgICAgICAgICAgIGluZGV4OiBwLAogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9CiAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBhcnIubGVuZ3RoOyBpbmRleCArPSAxKSB7CiAgICAgICAgaWYgKHRoaXMuJFJDVm9pY2VSb29tTGliLmltLnVzZXJJZCA9PSBhcnJbaW5kZXhdLnVzZXJJZCkgewogICAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goInVwZGF0ZXVzZXJJbnNlYXQiLCB0cnVlKTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KICAgICAgICBpZiAoaW5kZXggPT0gYXJyLmxlbmd0aCAtIDEpIHsKICAgICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCJ1cGRhdGV1c2VySW5zZWF0IiwgZmFsc2UpOwogICAgICAgIH0KICAgICAgfQogICAgICB0aGlzLml0ZW1MaXN0ID0gYXJyOwogICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgidXBkYXRlSXRlbUxpc3QiLCBhcnIpOwogICAgfSwKCiAgICAvL+ekvOeJqeivt+axguiOt+WPluaVsOaNrgogICAgZ2V0R2lmdExpc3Q6IGZ1bmN0aW9uICgpIHsKICAgICAgY29uc29sZS5sb2codGhpcy4kUkNWb2ljZVJvb21MaWIuX3Jvb21pZGNsaSk7CiAgICAgIHJldHVybiByZXF1ZXN0CiAgICAgICAgLmdldEdpZnRMaXN0KHsKICAgICAgICAgIHJvb21JZDogdGhpcy4kUkNWb2ljZVJvb21MaWIuX3Jvb21pZGNsaSwKICAgICAgICB9KQogICAgICAgIC50aGVuKGFzeW5jIChyZXMpID0+IHsKICAgICAgICAgIGxldCBHaWZ0T2JqID0ge307CiAgICAgICAgICBpZiAocmVzLmRhdGEuY29kZSA9PSAxMDAwMCAmJiByZXMuZGF0YS5kYXRhLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCByZXMuZGF0YS5kYXRhLmxlbmd0aDsgaSArPSAxKSB7CiAgICAgICAgICAgICAgR2lmdE9iaiA9IHsKICAgICAgICAgICAgICAgIC4uLkdpZnRPYmosCiAgICAgICAgICAgICAgICAuLi5yZXMuZGF0YS5kYXRhW2ldLAogICAgICAgICAgICAgIH07CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICAgIHJldHVybiB7IEdpZnRPYmo6IEdpZnRPYmogfTsKICAgICAgICB9KTsKICAgIH0sCgogICAgLy/ojrflj5bnrqHnkIblkZjmlbDmja4KICAgIGdldE1hbmFnZUxpc3Q6IGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIHJlcXVlc3QKICAgICAgICAubWFuYWdlTGlzdCh7CiAgICAgICAgICByb29tSWQ6IHRoaXMuJFJDVm9pY2VSb29tTGliLl9yb29taWRjbGksCiAgICAgICAgfSkKICAgICAgICAudGhlbihhc3luYyAocmVzKSA9PiB7CiAgICAgICAgICBsZXQgTWFuYWdlT2JqID0ge307CiAgICAgICAgICBpZiAocmVzLmRhdGEuY29kZSA9PSAxMDAwMCAmJiByZXMuZGF0YS5kYXRhLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCByZXMuZGF0YS5kYXRhLmxlbmd0aDsgaSArPSAxKSB7CiAgICAgICAgICAgICAgTWFuYWdlT2JqW3Jlcy5kYXRhLmRhdGFbaV1bInVzZXJJZCJdXSA9IHJlcy5kYXRhLmRhdGFbaV07CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICAgIHJldHVybiB7IE1hbmFnZU9iajogTWFuYWdlT2JqIH07CiAgICAgICAgfSk7CiAgICB9LAoKICAgIC8v5oi/5Li754K55Ye76Ieq5bex5bqn5L2NCiAgICBzZWF0V2F2ZTogYXN5bmMgZnVuY3Rpb24gKCkgewogICAgICBjb25zdCBVc2VyTGlzdCA9IEpTT04ucGFyc2UoCiAgICAgICAgSlNPTi5zdHJpbmdpZnkodGhpcy4kc3RvcmUuc3RhdGUucm9vbVVzZXJMaXN0KQogICAgICApOwoKICAgICAgaWYgKCF0aGlzLmNyZWF0dXNlcikgewogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICBpZiAoCiAgICAgICAgdGhpcy4kUkNWb2ljZVJvb21MaWIuc2VhdEluZm9MaXN0WzBdWyJzdGF0dXMiXSA9PSAxICYmCiAgICAgICAgdGhpcy4kUkNWb2ljZVJvb21MaWIuc2VhdEluZm9MaXN0WzBdWyJ1c2VySWQiXQogICAgICApIHsKICAgICAgICBsZXQgaXRlbSA9IHRoaXMuJFJDVm9pY2VSb29tTGliLnNlYXRJbmZvTGlzdFswXTsKICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IFVzZXJMaXN0Lmxlbmd0aDsgaSArPSAxKSB7CiAgICAgICAgICBpZiAoCiAgICAgICAgICAgIFVzZXJMaXN0W2ldWyJ1c2VySWQiXSA9PQogICAgICAgICAgICB0aGlzLiRSQ1ZvaWNlUm9vbUxpYi5zZWF0SW5mb0xpc3RbMF1bInVzZXJJZCJdCiAgICAgICAgICApIHsKICAgICAgICAgICAgaXRlbSA9IHsKICAgICAgICAgICAgICAuLi5pdGVtLAogICAgICAgICAgICAgIC4uLlVzZXJMaXN0W2ldLAogICAgICAgICAgICAgIGluZGV4OiAwLAogICAgICAgICAgICB9OwogICAgICAgICAgICB0aGlzLiRyZWZzLlVzZXJDbGlja093bmVyLnVzZXJDbGlja093bmVyT3BlbihpdGVtKTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIGF3YWl0IHRoaXMuJFJDVm9pY2VSb29tTGliLmVudGVyU2VhdCgwKTsKICAgICAgICB0aGlzLlNldFNlYXRMaXN0KHRoaXMuJHN0b3JlLnN0YXRlLkdpZnRBbmRNYW5hZ2VMaXN0KTsKICAgICAgfQogICAgfSwKCiAgICAvL+ekvOeJqeabtOaWsAogICAgc2VuZEdpZnRTdWNjZXNzOiBhc3luYyBmdW5jdGlvbiAoKSB7CiAgICAgIGNvbnN0IGdpZnQgPSBhd2FpdCB0aGlzLmdldEdpZnRMaXN0KCk7CiAgICAgIHRoaXMudXBkYXRlQWRtaW5BbmRHaWZ0KGdpZnQpOwogICAgfSwKCiAgICAvL+euoeeQhuWRmOaOp+WItijmiL/kuLspCiAgICBTZWF0QWRtaW5DaGFuZ2U6IGFzeW5jIGZ1bmN0aW9uICgpIHsKICAgICAgY29uc3QgTWFuYWdlID0gYXdhaXQgdGhpcy5nZXRNYW5hZ2VMaXN0KCk7CiAgICAgIC8vIGNvbnNvbGUubG9nKE1hbmFnZSk7CiAgICAgIHRoaXMudXBkYXRlQWRtaW5BbmRHaWZ0KE1hbmFnZSk7CiAgICB9LAoKICAgIC8v5pu05paw56S854mp5ZKM566h55CG5ZGYCiAgICB1cGRhdGVBZG1pbkFuZEdpZnQ6IGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgIHRoaXMuJHN0b3JlCiAgICAgICAgLmRpc3BhdGNoKCJnZXRHaWZ0QW5kTWFuYWdlTGlzdCIsIHsKICAgICAgICAgIC4uLnRoaXMuJHN0b3JlLnN0YXRlLkdpZnRBbmRNYW5hZ2VMaXN0LAogICAgICAgICAgLi4uaXRlbSwKICAgICAgICB9KQogICAgICAgIC50aGVuKCgpID0+IHsKICAgICAgICAgIHRoaXMuU2V0U2VhdExpc3QodGhpcy4kc3RvcmUuc3RhdGUuR2lmdEFuZE1hbmFnZUxpc3QpOwogICAgICAgIH0pOwogICAgfSwKCiAgICAvL+eCueWHu+W6p+S9jQogICAgY2xpY2tTZWF0OiBhc3luYyBmdW5jdGlvbiAoaXRlbSkgewogICAgICBpZiAodGhpcy5jcmVhdHVzZXIpIHsKICAgICAgICBpZiAoaXRlbVsidXNlcklkIl0pIHsKICAgICAgICAgIGlmIChpdGVtWyJtdXRlIl0pIHsKICAgICAgICAgICAgdGhpcy4kcmVmcy5Vc2VyQ2xpY2tTZWl6ZVNlYXQuVXNlckNsaWNrU2VpemVTZWF0T3Blbih7CiAgICAgICAgICAgICAgaXRlbTogaXRlbSwKICAgICAgICAgICAgICB2YWx1ZTogbXV0ZUFuZEluc2V0LAogICAgICAgICAgICB9KTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHRoaXMuJHJlZnMuVXNlckNsaWNrU2VpemVTZWF0LlVzZXJDbGlja1NlaXplU2VhdE9wZW4oewogICAgICAgICAgICAgIGl0ZW06IGl0ZW0sCiAgICAgICAgICAgICAgdmFsdWU6IHVubXV0ZUFuZEluc2V0LAogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgaWYgKGl0ZW1bIm11dGUiXSkgewogICAgICAgICAgICBpZiAoaXRlbVsic3RhdHVzIl0gPT0gMikgewogICAgICAgICAgICAgIHRoaXMuJHJlZnMuVXNlckNsaWNrRW1wdHlTZWF0LlVzZXJDbGlja0VtcHR5U2VhdE9wZW4oewogICAgICAgICAgICAgICAgaXRlbTogaXRlbSwKICAgICAgICAgICAgICAgIHZhbHVlOiBlbXB0eU11dGVBbmRMb2NrLAogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9IGVsc2UgaWYgKGl0ZW1bInN0YXR1cyJdID09IDApIHsKICAgICAgICAgICAgICB0aGlzLiRyZWZzLlVzZXJDbGlja0VtcHR5U2VhdC5Vc2VyQ2xpY2tFbXB0eVNlYXRPcGVuKHsKICAgICAgICAgICAgICAgIGl0ZW06IGl0ZW0sCiAgICAgICAgICAgICAgICB2YWx1ZTogZW1wdHlNdXRlQW5kVW5sb2NrLAogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBpZiAoaXRlbVsic3RhdHVzIl0gPT0gMikgewogICAgICAgICAgICAgIHRoaXMuJHJlZnMuVXNlckNsaWNrRW1wdHlTZWF0LlVzZXJDbGlja0VtcHR5U2VhdE9wZW4oewogICAgICAgICAgICAgICAgaXRlbTogaXRlbSwKICAgICAgICAgICAgICAgIHZhbHVlOiBlbXB0eVVubXV0ZUFuZExvY2ssCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0gZWxzZSBpZiAoaXRlbVsic3RhdHVzIl0gPT0gMCkgewogICAgICAgICAgICAgIHRoaXMuJHJlZnMuVXNlckNsaWNrRW1wdHlTZWF0LlVzZXJDbGlja0VtcHR5U2VhdE9wZW4oewogICAgICAgICAgICAgICAgaXRlbTogaXRlbSwKICAgICAgICAgICAgICAgIHZhbHVlOiBlbXB0eVVubXV0ZUFuZFVubG9jaywKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICBpZiAoaXRlbVsic3RhdHVzIl0gJiYgaXRlbVsic3RhdHVzIl0gPT0gMikgewogICAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goInNob3dUb2FzdCIsIHsgdmFsdWU6ICLor6XluqfkvY3lt7LplIHlrpoiIH0pOwogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0gZWxzZSBpZiAoaXRlbVsic3RhdHVzIl0gJiYgaXRlbVsic3RhdHVzIl0gPT0gMSkgewogICAgICAgICAgLy/luqfkvY3mnInkuroKICAgICAgICAgIGlmICh0aGlzLiRSQ1ZvaWNlUm9vbUxpYi5pbS51c2VySWQgPT0gaXRlbVsidXNlcklkIl0pIHsKICAgICAgICAgICAgdGhpcy4kcmVmcy5BdWRpZW5jZUNsaWNrT3dlci5hdWRpZW5jZUNsaWNrT3dlck9wZW4oaXRlbSk7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGlmIChpdGVtLmlzQWRtaW4pIHsKICAgICAgICAgICAgICB0aGlzLiRyZWZzLkF1ZGllbmNlQ2xpY2tTZWl6ZVNlYXQuYXVkaWVuY2VDbGlja1NlaXplU2VhdE9wZW4oCiAgICAgICAgICAgICAgICBpdGVtCiAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKAogICAgICAgICAgICAgIHRoaXMuJFJDVm9pY2VSb29tTGliLmltLnVzZXJJZCBpbgogICAgICAgICAgICAgIHRoaXMuR2lmdEFuZE1hbmFnZUxpc3RbIk1hbmFnZU9iaiJdCiAgICAgICAgICAgICkgewogICAgICAgICAgICAgIHRoaXMuJHJlZnMuQWRtaW5DbGlja090aGVyLkFkbWluQ2xpY2tPdGhlck9wZW4oewogICAgICAgICAgICAgICAgaXRlbTogaXRlbSwKICAgICAgICAgICAgICAgIHZhbHVlOiBpc0FkbWluQW5kSW5zZXQsCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgdGhpcy4kcmVmcy5BdWRpZW5jZUNsaWNrU2VpemVTZWF0LmF1ZGllbmNlQ2xpY2tTZWl6ZVNlYXRPcGVuKAogICAgICAgICAgICAgICAgaXRlbQogICAgICAgICAgICAgICk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAvL+inguS8l+epuuW6p+S9jQogICAgICAgICAgY29uc3QgYXJyYXkgPSBbLi4udGhpcy4kc3RvcmUuc3RhdGUuaXRlbUxpc3RdOwogICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkrKykgewogICAgICAgICAgICBpZiAoCiAgICAgICAgICAgICAgYXJyYXlbaV1bInVzZXJJZCJdID09IHRoaXMuJFJDVm9pY2VSb29tTGliLmltLnVzZXJJZCAmJgogICAgICAgICAgICAgIGkgKyAxICE9IGl0ZW1bImluZGV4Il0KICAgICAgICAgICAgKSB7CiAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuJFJDVm9pY2VSb29tTGliLnN3aXRjaFNlYXRUbyhpdGVtWyJpbmRleCJdKTsKICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgiZ2V0U2VhdEluZm9MaXN0Iik7CiAgICAgICAgICAgICAgICB9LCA1MCk7CiAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCJzaG93VG9hc3QiLCB7CiAgICAgICAgICAgICAgICAgIHZhbHVlOiAi6Lez6bqm5aSx6LSlIiwKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKGkgPT0gYXJyYXkubGVuZ3RoIC0gMSkgewogICAgICAgICAgICAgIGlmICh0aGlzLiRSQ1ZvaWNlUm9vbUxpYi5yb29tSW5mby5pc0ZyZWVFbnRlclNlYXQpIHsKICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuJFJDVm9pY2VSb29tTGliLmVudGVyU2VhdChpdGVtWyJpbmRleCJdKTsKICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goInNob3dUb2FzdCIsIHsKICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiAi5LiK6bqm5oiQ5YqfIiwKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgiZ2V0U2VhdEluZm9MaXN0Iik7CiAgICAgICAgICAgICAgICAgIH0sIDUwKTsKICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCJzaG93VG9hc3QiLCB7CiAgICAgICAgICAgICAgICAgICAgdmFsdWU6ICLkuIrpuqblpLHotKUiLAogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBjb25zdCBsZW4gPSBhd2FpdCB0aGlzLiRSQ1ZvaWNlUm9vbUxpYi5nZXRSZXF1ZXN0U2VhdFVzZXJJZHMoKTsKICAgICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCJnZXRSZXF1ZXN0U2VhdFVzZXJJZHMiLCBsZW4pOwogICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2cobGVuKTsKICAgICAgICAgICAgICAgIGlmIChsZW4ubGVuZ3RoID4gMjApIHsKICAgICAgICAgICAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goInNob3dUb2FzdCIsIHsKICAgICAgICAgICAgICAgICAgICB2YWx1ZTogIuaOkum6puS6uuaVsOWkquWkmizmjpLpuqblpLHotKUiLAogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW4ubGVuZ3RoOyBpICs9IDEpIHsKICAgICAgICAgICAgICAgICAgaWYgKGxlbltpXSA9PSB0aGlzLiRSQ1ZvaWNlUm9vbUxpYi5pbS51c2VySWQpIHsKICAgICAgICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgic2hvd1RvYXN0IiwgewogICAgICAgICAgICAgICAgICAgICAgdmFsdWU6ICLlt7Lnu4/lnKjmjpLpuqbliJfooajkuK3kuoYiLAogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coYm9yKTsKICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuJFJDVm9pY2VSb29tTGliLnJlcXVlc3RTZWF0KCk7CiAgICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgic2hvd1RvYXN0IiwgewogICAgICAgICAgICAgICAgICB2YWx1ZTogIuW3sueUs+ivt+i/nue6v++8jOetieW+heaIv+S4u+aOpeWPlyIsCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgidXNlckhhc0FwcGx5IiwgdHJ1ZSk7CiAgICAgICAgICAgICAgICB9LCA1MCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9LAoKICAgIC8v54K55Ye76YCB5Y2V5Lq656S854mpCiAgICBnaWZ0Q2xpY2s6IGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgIGlmICgKICAgICAgICB0aGlzLiRzdG9yZS5zdGF0ZS5yb29tSW5mb3JtYXRpb24uY3JlYXRlVXNlclsidXNlcklkIl0gPT0gaXRlbVsidXNlcklkIl0KICAgICAgKSB7CiAgICAgICAgaXRlbVsiY3JlYXR1c2VyIl0gPSB0cnVlOwogICAgICB9IGVsc2UgewogICAgICAgIGl0ZW1bImNyZWF0dXNlciJdID0gZmFsc2U7CiAgICAgIH0KCiAgICAgIHRoaXMuJGRhdGEuc2hvd0dpZnQgPSB0cnVlOwogICAgICB0aGlzLiRyZWZzLmdpZnRQYW5lbC5zaG93R2lmdChbaXRlbV0pOwogICAgfSwKCiAgICAvL+aOpeWFpeS6i+S7tgogICAgbXNnT3V0OiBmdW5jdGlvbiAobXNnKSB7CiAgICAgIC8vIGNvbnNvbGUubG9nKG1zZyk7CiAgICAgIGlmIChtc2cucmVwbGFjZSgvXHMqL2csICIiKS5sZW5ndGggPT0gMCkgewogICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCJzaG93VG9hc3QiLCB7CiAgICAgICAgICB2YWx1ZTogIua2iOaBr+S4jeiDveS4uuepuiIsCiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIGxldCBzZW5kID0gdHJ1ZTsKICAgICAgZm9yICgKICAgICAgICBsZXQgaW5kZXggPSAwOwogICAgICAgIGluZGV4IDwgdGhpcy4kc3RvcmUuc3RhdGUuc2Vuc2l0aXZlTGlzdC5sZW5ndGg7CiAgICAgICAgaW5kZXgrKwogICAgICApIHsKICAgICAgICBpZiAobXNnLmluZGV4T2YodGhpcy4kc3RvcmUuc3RhdGUuc2Vuc2l0aXZlTGlzdFtpbmRleF1bIm5hbWUiXSkgIT0gLTEpIHsKICAgICAgICAgIHNlbmQgPSBmYWxzZTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KICAgICAgfQogICAgICBsZXQgdHh0TXNnID0gewogICAgICAgIHVzZXJOYW1lOiB0aGlzLiRzdG9yZS5zdGF0ZS51c2VySW5mby51c2VyTmFtZSwgLy8g5paH5pys5YaF5a65CiAgICAgICAgdXNlcklkOiB0aGlzLiRzdG9yZS5zdGF0ZS51c2VySW5mby51c2VySWQsCiAgICAgICAgY29udGVudDogbXNnLAogICAgICB9OwogICAgICB0aGlzLiRSQ1ZvaWNlUm9vbUxpYi5lbWl0KCJNZXNzYWdlUmVjZWl2ZWQiLCB7CiAgICAgICAgLy/lj5HmnKzlnLAKICAgICAgICAvL+aooeaLn+acrOWcsOa2iOaBr+WPkemAgQogICAgICAgIG1lc3NhZ2VUeXBlOiAiUkM6Q2hhdHJvb206QmFycmFnZSIsCiAgICAgICAgY29udGVudDogdHh0TXNnLAogICAgICB9KTsKICAgICAgaWYgKHNlbmQpIHsKICAgICAgICAvLyBjb25zb2xlLmxvZyh0eHRNc2cpOwogICAgICAgIHRoaXMuJFJDVm9pY2VSb29tTGliLmltCiAgICAgICAgICAubWVzc2FnZVVwZGF0ZSgiUkM6Q2hhdHJvb206QmFycmFnZSIsIHR4dE1zZykKICAgICAgICAgIC50aGVuKChyZXMpID0+IHsKICAgICAgICAgICAgY29uc29sZS5sb2cocmVzKTsKICAgICAgICAgIH0pOwogICAgICB9CiAgICB9LAoKICAgIC8v5omT5byAZ2lmdAogICAgYnRuR2lmdDogZnVuY3Rpb24gKCkgewogICAgICB0aGlzLiRkYXRhLnNob3dHaWZ0ID0gdHJ1ZTsKICAgICAgbGV0IHVzZXJJbnNlYXRMaXN0ID0gW107CiAgICAgIHVzZXJJbnNlYXRMaXN0LnB1c2goewogICAgICAgIC4uLnRoaXMuJHN0b3JlLnN0YXRlLnJvb21JbmZvcm1hdGlvbi5jcmVhdGVVc2VyLAogICAgICAgIGNyZWF0dXNlcjogdHJ1ZSwKICAgICAgfSk7CiAgICAgIGNvbnN0IGFyciA9IHRoaXMuJHN0b3JlLnN0YXRlLml0ZW1MaXN0OwogICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgYXJyLmxlbmd0aDsgaW5kZXgrKykgewogICAgICAgIGlmICh0aGlzLiRzdG9yZS5zdGF0ZS5pdGVtTGlzdFtpbmRleF1bInVzZXJJZCJdKSB7CiAgICAgICAgICB1c2VySW5zZWF0TGlzdC5wdXNoKGFycltpbmRleF0pOwogICAgICAgIH0KICAgICAgfQogICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgiZ2V0TWljRGF0YSIsIHVzZXJJbnNlYXRMaXN0KTsKICAgICAgdGhpcy4kcmVmcy5naWZ0UGFuZWwuc2hvd0dpZnQodXNlckluc2VhdExpc3QpOwogICAgfSwKCiAgICAvL+WFs+mXrWdpZnQKICAgIGhpZGVHaWZ0OiBmdW5jdGlvbiAoKSB7CiAgICAgIHRoaXMuJGRhdGEuc2hvd0dpZnQgPSBmYWxzZTsKICAgIH0sCgogICAgLy/ngrnlh7vogYrlpKnnlKjmiLcKICAgIG5hbWVDbGljazogZnVuY3Rpb24gKGUpIHsKICAgICAgdGhpcy5vbkNsaWNrVXNlckxpc3QoZSk7CiAgICB9LAoKICAgIC8v6K+35rGC5o6S6bqm5LiO5ZCmCiAgICBBcHBseVdlYXQ6IGFzeW5jIGZ1bmN0aW9uICgpIHsKICAgICAgLy8gY29uc29sZS5sb2coInRoaXMuJFJDVm9pY2VSb29tTGliLnJvb21JbmZvIiwgdGhpcy4kUkNWb2ljZVJvb21MaWIpOwogICAgICBpZiAodGhpcy4kUkNWb2ljZVJvb21MaWIucm9vbUluZm8uaXNGcmVlRW50ZXJTZWF0KSB7CiAgICAgICAgdHJ5IHsKICAgICAgICAgIGNvbnN0IGZpbmRTZWF0ID0gYXdhaXQgdGhpcy4kUkNWb2ljZVJvb21MaWIuZmluZFNlYXQoKTsKICAgICAgICAgIGF3YWl0IHRoaXMuJFJDVm9pY2VSb29tTGliLmVudGVyU2VhdChmaW5kU2VhdCk7CiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goInNob3dUb2FzdCIsIHsKICAgICAgICAgICAgICB2YWx1ZTogIuS4ium6puaIkOWKnyIsCiAgICAgICAgICAgIH0pOwogICAgICAgICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgiZ2V0U2VhdEluZm9MaXN0Iik7CiAgICAgICAgICB9LCA1MCk7CiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCJzaG93VG9hc3QiLCB7CiAgICAgICAgICAgIHZhbHVlOiAi5LiK6bqm5aSx6LSlIiwKICAgICAgICAgIH0pOwogICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIGlmICh0aGlzLiRzdG9yZS5zdGF0ZS5IYXNBcHBseSkgewogICAgICAgIHRoaXMuJHJlZnMuQ2FuY2VsRXZlblNlYXQuQ2FuY2VsRXZlblNlYXRPcGVuKCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgYXdhaXQgdGhpcy4kUkNWb2ljZVJvb21MaWIucmVxdWVzdFNlYXQoKTsKICAgICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgic2hvd1RvYXN0IiwgewogICAgICAgICAgdmFsdWU6ICLlt7LnlLPor7fov57nur/vvIznrYnlvoXmiL/kuLvmjqXlj5ciLAogICAgICAgIH0pOwogICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goInVzZXJIYXNBcHBseSIsIHRydWUpOwogICAgICAgIH0sIDUwKTsKICAgICAgfQogICAgfSwKCiAgICAvL+iOt+WPlnJvb21pbmZvcm1hdGlvbgogICAgZ2V0Um9vbWluZm9ybWF0aW9uOiBmdW5jdGlvbiAoKSB7CiAgICAgIHJlcXVlc3QKICAgICAgICAucm9vbWluZm9ybWF0aW9uKHsgcm9vbUlkOiB0aGlzLiRSQ1ZvaWNlUm9vbUxpYi5fcm9vbWlkY2xpIH0pCiAgICAgICAgLnRoZW4oKHJlcykgPT4gewogICAgICAgICAgaWYgKHJlcy5kYXRhLmNvZGUgPT0gMTAwMDApIHsKICAgICAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goImdldFJvb21JbmZvcm1hdGlvbiIsIHJlcy5kYXRhLmRhdGEpOwogICAgICAgICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgKICAgICAgICAgICAgICAiZ2V0cm9vbUJhY2tncm91bmQiLAogICAgICAgICAgICAgIHJlcy5kYXRhLmRhdGEuYmFja2dyb3VuZFVybAogICAgICAgICAgICApOwogICAgICAgICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgiZ2V0cm9vbVRpdGxlIiwgcmVzLmRhdGEuZGF0YS5yb29tTmFtZSk7CiAgICAgICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCJnZXRyb29tUHJpdmF0ZSIsIHsKICAgICAgICAgICAgICBpc1ByaXZhdGU6IHJlcy5kYXRhLmRhdGEuaXNQcml2YXRlLAogICAgICAgICAgICAgIHBhc3N3b3JkOiByZXMuZGF0YS5kYXRhLnBhc3N3b3JkLAogICAgICAgICAgICB9KTsKICAgICAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goImdldE1pY3JvcGhvbmUiLCBmYWxzZSk7CiAgICAgICAgICAgIGNvbnN0IGNyZWF0ZVVzZXIgPSByZXMuZGF0YS5kYXRhLmNyZWF0ZVVzZXI7CiAgICAgICAgICAgIHRoaXMuZ2V0cm9vbXVzZXIoY3JlYXRlVXNlcik7CiAgICAgICAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsKICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgiZ2V0Q2hhdHJvb20iLCB0aGlzLiRyZWZzLmNoYXRyb29tKTsKICAgICAgICAgICAgICB0aGlzLnJvb21JZCA9IHRoaXMuJFJDVm9pY2VSb29tTGliLl9yb29taWRjbGk7CiAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2codGhpcy4kUkNWb2ljZVJvb21MaWIpOwogICAgICAgICAgICAgIGlmICgKICAgICAgICAgICAgICAgIHRoaXMuJFJDVm9pY2VSb29tTGliLnJvb21JbmZvICYmCiAgICAgICAgICAgICAgICB0aGlzLiRSQ1ZvaWNlUm9vbUxpYi5yb29tSW5mby5zZWF0Q291bnQKICAgICAgICAgICAgICApIHsKICAgICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKAogICAgICAgICAgICAgICAgICAiZ2V0c2V0Q291bnRzQ2hhbmdlIiwKICAgICAgICAgICAgICAgICAgdGhpcy4kUkNWb2ljZVJvb21MaWIucm9vbUluZm8uc2VhdENvdW50CiAgICAgICAgICAgICAgICApOwogICAgICAgICAgICAgICAgaWYgKHRoaXMuJFJDVm9pY2VSb29tTGliLnJvb21JbmZvLnNlYXRDb3VudCA9PSA5KSB7CiAgICAgICAgICAgICAgICAgIHRoaXMudGFsa1RvcCA9IDY0LjU7CiAgICAgICAgICAgICAgICAgIHRoaXMudGFsa0hlaWdodCA9IDI4OwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgdGhpcy50YWxrVG9wID0gNTA7CiAgICAgICAgICAgICAgICAgIHRoaXMudGFsa0hlaWdodCA9IDQyOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICB0aGlzLnRhbGtUb3AgPSA2NC41OwogICAgICAgICAgICAgICAgdGhpcy50YWxrSGVpZ2h0ID0gMjg7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBpZiAoCiAgICAgICAgICAgICAgICByZXMuZGF0YS5kYXRhLmNyZWF0ZVVzZXIudXNlcklkICE9CiAgICAgICAgICAgICAgICB0aGlzLiRSQ1ZvaWNlUm9vbUxpYi5pbS51c2VySWQKICAgICAgICAgICAgICApIHsKICAgICAgICAgICAgICAgIHRoaXMuQmFja0NsYXNzID0gInRvcC1yaWdodC1jbG9zZSI7CiAgICAgICAgICAgICAgICB0aGlzLmNyZWF0dXNlciA9IGZhbHNlOwogICAgICAgICAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goInNldGNyZWF0dXNlciIsIGZhbHNlKTsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgdGhpcy5CYWNrQ2xhc3MgPSAidG9wLXJpZ2h0IjsKICAgICAgICAgICAgICAgIHRoaXMuY3JlYXR1c2VyID0gdHJ1ZTsKICAgICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCJzZXRjcmVhdHVzZXIiLCB0cnVlKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgY29uc29sZS5sb2coImVyciIsIHJlcy5kYXRhKTsKICAgICAgICAgIH0KICAgICAgICB9KQogICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7CiAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpOwogICAgICAgIH0pOwogICAgfSwKCiAgICAvL+iOt+WPlnJvb211c2VyCiAgICBnZXRyb29tdXNlcjogZnVuY3Rpb24gKGNyZWF0ZVVzZXIpIHsKICAgICAgcmVxdWVzdAogICAgICAgIC5yb29tdXNlcih7CiAgICAgICAgICByb29tSWQ6IHRoaXMuJFJDVm9pY2VSb29tTGliLl9yb29taWRjbGksCiAgICAgICAgfSkKICAgICAgICAudGhlbihhc3luYyAocmVzKSA9PiB7CiAgICAgICAgICAvLyBjb25zb2xlLmxvZyhyZXMpOwogICAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goImdldFJvb21Vc2VyTGlzdCIsIHJlcy5kYXRhLmRhdGEpOwogICAgICAgICAgY29uc29sZS5sb2coY3JlYXRlVXNlcik7CiAgICAgICAgICB0aGlzLmdldEdpZnRBbmRNYW4odHJ1ZSk7CiAgICAgICAgfSk7CiAgICB9LAoKICAgIC8v6I635Y+WZ2lmdOWSjOeuoeeQhuWRmAogICAgZ2V0R2lmdEFuZE1hbjogZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgUHJvbWlzZS5hbGwoW3RoaXMuZ2V0R2lmdExpc3QoKSwgdGhpcy5nZXRNYW5hZ2VMaXN0KCldKQogICAgICAgIC50aGVuKChyZXMpID0+IHsKICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHJlcyk7CiAgICAgICAgICBpZiAodGhpcy4kUkNWb2ljZVJvb21MaWIuaW0udXNlcklkIGluIHJlc1sxXVsiTWFuYWdlT2JqIl0pIHsKICAgICAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goInNldFJvb21BZG1pbiIsIHRydWUpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goInNldFJvb21BZG1pbiIsIGZhbHNlKTsKICAgICAgICAgIH0KICAgICAgICAgIC8vIC8vIGNvbnNvbGUubG9nKHRoaXMuJHN0b3JlLnN0YXRlLnJvb21Vc2VyTGlzdCk7CiAgICAgICAgICB0aGlzLiRuZXh0VGljayhhc3luYyAoKSA9PiB7CiAgICAgICAgICAgIGxldCBPYmogPSB7fTsKICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCByZXMubGVuZ3RoOyBpICs9IDEpIHsKICAgICAgICAgICAgICBPYmogPSB7CiAgICAgICAgICAgICAgICAuLi5PYmosCiAgICAgICAgICAgICAgICAuLi5yZXNbaV0sCiAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgfQogICAgICAgICAgICB0aGlzLkdpZnRBbmRNYW5hZ2VMaXN0ID0gewogICAgICAgICAgICAgIC4uLk9iaiwKICAgICAgICAgICAgfTsKICAgICAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goImdldEdpZnRBbmRNYW5hZ2VMaXN0IiwgT2JqKTsKICAgICAgICAgICAgLy8gY29uc29sZS5sb2coT2JqKTsKICAgICAgICAgICAgdGhpcy5TZXRTZWF0TGlzdChPYmopOwogICAgICAgICAgICBpZiAoCiAgICAgICAgICAgICAgdGhpcy4kUkNWb2ljZVJvb21MaWIuc2VhdEluZm9MaXN0WzBdICYmCiAgICAgICAgICAgICAgIXRoaXMuJFJDVm9pY2VSb29tTGliLnNlYXRJbmZvTGlzdFswXVsidXNlcklkIl0gJiYKICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5zdGF0ZS5jcmVhdFVzZXIgJiYKICAgICAgICAgICAgICBpdGVtCiAgICAgICAgICAgICkgewogICAgICAgICAgICAgIGF3YWl0IHRoaXMuJFJDVm9pY2VSb29tTGliLmVudGVyU2VhdCgwKTsKICAgICAgICAgICAgICBjb25zb2xlLmxvZygKICAgICAgICAgICAgICAgICJpc0Rpc2FibGVBdWRpb1JlY29yZGluZyIsCiAgICAgICAgICAgICAgICB0aGlzLiRSQ1ZvaWNlUm9vbUxpYi5pc0Rpc2FibGVBdWRpb1JlY29yZGluZygpCiAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgICBpZiAoCiAgICAgICAgICAgICAgICAiZXh0cmEiIGluIHRoaXMuJFJDVm9pY2VSb29tTGliLnNlYXRJbmZvTGlzdFswXSAmJgogICAgICAgICAgICAgICAgSlNPTi5wYXJzZSh0aGlzLiRSQ1ZvaWNlUm9vbUxpYi5zZWF0SW5mb0xpc3RbMF1bImV4dHJhIl0pWwogICAgICAgICAgICAgICAgICAiZGlzYWJsZVJlY29yZGluZyIKICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgICApIHsKICAgICAgICAgICAgICAgIHRoaXMuJFJDVm9pY2VSb29tTGliLmRpc2FibGVBdWRpb1JlY29yZGluZyh0cnVlKTsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIC8vIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgIC8vICAgdGhpcy5TZXRTZWF0TGlzdChPYmopOwogICAgICAgICAgICAgIC8vIH0sIDUwKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKGVycikgPT4gewogICAgICAgICAgY29uc29sZS5sb2coImVyciIsIGVycik7CiAgICAgICAgfSk7CiAgICB9LAoKICAgIC8v5omp5pWj5Yqo55S7CiAgICBvd2VyU2V0U3ByZWFkQW5pbWF0aW86IGZ1bmN0aW9uIChyZXMpIHsKICAgICAgaWYgKHJlcykgewogICAgICAgIGlmICh0aGlzLmtlZXBNb3ZlKSB7CiAgICAgICAgICB0aGlzLmNpcmNsZW1vdmUgPSAibW92ZSI7CiAgICAgICAgICB0aGlzLmtlZXBNb3ZlID0gZmFsc2U7CiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgdGhpcy5jaXJjbGUybW92ZSA9ICJtb3ZlIjsKICAgICAgICAgIH0sIDcwMCk7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgdGhpcy5jaXJjbGVtb3ZlID0gIiI7CiAgICAgICAgICB0aGlzLmtlZXBNb3ZlID0gdHJ1ZTsKICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICB0aGlzLmNpcmNsZTJtb3ZlID0gIiI7CiAgICAgICAgICB9LCA3MDApOwogICAgICAgIH0sIDgwMCk7CiAgICAgIH0KICAgIH0sCiAgfSwKICB3YXRjaDogewogICAgbGlzdGVuc2VhdEluZm9MaXN0OiBmdW5jdGlvbiAoKSB7CiAgICAgIGNvbnNvbGUubG9nKCLpuqbkvY3lj5HnlJ/lj5jljJY6IiwgdGhpcy4kUkNWb2ljZVJvb21MaWIuc2VhdEluZm9MaXN0KTsKICAgICAgaWYgKAogICAgICAgIHRoaXMuJHN0b3JlLnN0YXRlLnJvb21Vc2VyTGlzdCAmJgogICAgICAgIHRoaXMuJHN0b3JlLnN0YXRlLnJvb21Vc2VyTGlzdC5sZW5ndGgKICAgICAgKSB7CiAgICAgICAgdGhpcy5TZXRTZWF0TGlzdCh0aGlzLiRzdG9yZS5zdGF0ZS5HaWZ0QW5kTWFuYWdlTGlzdCk7CiAgICAgIH0KCiAgICAgIGlmICgKICAgICAgICB0aGlzLiRSQ1ZvaWNlUm9vbUxpYi5zZWF0SW5mb0xpc3RbMF0gJiYKICAgICAgICB0aGlzLiRSQ1ZvaWNlUm9vbUxpYi5zZWF0SW5mb0xpc3RbMF1bImV4dHJhIl0gJiYKICAgICAgICBKU09OLnBhcnNlKHRoaXMuJFJDVm9pY2VSb29tTGliLnNlYXRJbmZvTGlzdFswXVsiZXh0cmEiXSlbCiAgICAgICAgICAiZGlzYWJsZVJlY29yZGluZyIKICAgICAgICBdCiAgICAgICkgewogICAgICAgIHRoaXMuT3dlck11dGUgPSB0cnVlOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuT3dlck11dGUgPSBmYWxzZTsKICAgICAgfQogICAgfSwKCiAgICBsaXN0ZW5yb29tVXNlckxpc3Q6IGZ1bmN0aW9uICgpIHsKICAgICAgdGhpcy5nZXRHaWZ0QW5kTWFuKGZhbHNlKTsKICAgIH0sCgogICAgbGlzdGVuZ2lmdFZhbHVlOiBmdW5jdGlvbiAoKSB7CiAgICAgIHRoaXMuc2VuZEdpZnRTdWNjZXNzKCk7CiAgICB9LAoKICAgIGxpc3RlbkFkbWluVmFsdWU6IGFzeW5jIGZ1bmN0aW9uICgpIHsKICAgICAgdGhpcy5TZWF0QWRtaW5DaGFuZ2UoKTsKICAgIH0sCgogICAgbGlzdGVuU3BlYWtpbmdDaGVuZ2VDb250cm9sOiBmdW5jdGlvbiAoKSB7CiAgICAgIGlmICh0aGlzLiRzdG9yZS5zdGF0ZS5TcGVha2luZ0NoZW5nZS5pbmRleCA9PSAwKSB7CiAgICAgICAgaWYgKHRoaXMuJHN0b3JlLnN0YXRlLlNwZWFraW5nQ2hlbmdlLnNwZWFraW5nID09IDApIHsKICAgICAgICAgIHRoaXMub3dlclNldFNwcmVhZEFuaW1hdGlvKGZhbHNlKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy5vd2VyU2V0U3ByZWFkQW5pbWF0aW8odHJ1ZSk7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgbGlzdGVuc2VhdENvdW50OiBmdW5jdGlvbiAobmV3VmFsdWUpIHsKICAgICAgLy8gY29uc29sZS5sb2cobmV3VmFsdWUpOwogICAgICBpZiAobmV3VmFsdWUgPT0gOSkgewogICAgICAgIHRoaXMudGFsa1RvcCA9IDY0LjU7CiAgICAgICAgdGhpcy50YWxrSGVpZ2h0ID0gMjg7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy50YWxrVG9wID0gNTA7CiAgICAgICAgdGhpcy50YWxrSGVpZ2h0ID0gNDI7CiAgICAgIH0KICAgIH0sCiAgfSwKICBjb21wdXRlZDogewogICAgbGlzdGVuc2VhdEluZm9MaXN0KCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUuc2VhdEluZm9MaXN0OwogICAgfSwKICAgIGxpc3RlbnJvb21Vc2VyTGlzdCgpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLnJvb21Vc2VyTGlzdDsKICAgIH0sCiAgICBsaXN0ZW5naWZ0VmFsdWUoKSB7CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5naWZ0VmFsdWU7CiAgICB9LAogICAgbGlzdGVuQWRtaW5WYWx1ZSgpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLkFkbWluVmFsdWU7CiAgICB9LAogICAgbGlzdGVuU3BlYWtpbmdDaGVuZ2VDb250cm9sKCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUuU3BlYWtpbmdDaGVuZ2VDb250cm9sOwogICAgfSwKICAgIGxpc3RlbnNlYXRDb3VudCgpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLnNldENvdW50czsKICAgIH0sCiAgfSwKICBjcmVhdGVkKCkgewogICAgdGhpcy4kbmV4dFRpY2soYXN5bmMgKCkgPT4gewogICAgICBjb25zdCBhcnIgPSBhd2FpdCB0aGlzLiRSQ1ZvaWNlUm9vbUxpYi5nZXRSZXF1ZXN0U2VhdFVzZXJJZHMoKTsKICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goImdldFJlcXVlc3RTZWF0VXNlcklkcyIsIGFycik7CiAgICB9KTsKICB9LAogIG1vdW50ZWQoKSB7CiAgICB0aGlzLmdldFJvb21pbmZvcm1hdGlvbigpOwogICAgY29uc29sZS5sb2cobmF2aWdhdG9yLnVzZXJBZ2VudCk7CiAgICBpZiAoCiAgICAgIG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZigiTWFjaW50b3NoIikgPiAtMSAmJgogICAgICBuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoIlNhZmFyaSIpID4gLTEgJiYKICAgICAgbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJNYWMiKSA+IC0xICYmCiAgICAgIG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZigiQ2hyb21lIikgPT0gLTEKICAgICkgewogICAgICB0aGlzLiRjb25maXJtKCLmmK/lkKbmiZPlvIDmkq3mlL7lmaggPyIsICLmj5DnpLoiLCB7CiAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICLnoa7lrpoiLAogICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICLlj5bmtogiLAogICAgICAgIHR5cGU6ICJ3YXJuaW5nIiwKICAgICAgICBjZW50ZXI6IHRydWUsCiAgICAgIH0pCiAgICAgICAgLnRoZW4oKCkgPT4gewogICAgICAgICAgdGhpcy4kUkNWb2ljZVJvb21MaWIuZW5hYmxlU3BlYWtlcigpOwogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKCgpID0+IHsKICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCLlj5bmtogiKTsKICAgICAgICB9KTsKICAgIH0KICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJsb2FkIiwgKCkgPT4gewogICAgICBpZiAodGhpcy4kcm91dGUubmFtZSAhPSAibG9naW4iKSB7CiAgICAgICAgdGhpcy4kcm91dGVyLnJlcGxhY2UoIi9sb2dpbiIpOwogICAgICB9CiAgICB9KTsKICB9LAp9Owo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0KA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/pages/house","sourcesContent":["<template>\n  <div>\n    <div\n      class=\"house\"\n      id=\"house\"\n      :style=\"{\n        filter: 'blur(' + houseFilter + 'px)',\n        backgroundImage: 'url(' + this.$store.state.roomBackground + ')',\n      }\"\n    >\n      <div class=\"top\">\n        <div\n          @click=\"openUserList\"\n          class=\"top-left\"\n          :style=\"{ filter: 'blur(' + topFilter + 'px)' }\"\n        >\n          <span class=\"top-left-name\">{{ setRoomTitle() }}</span>\n          <div class=\"top-left-foot\">\n            <span class=\"top-left-id\">ID </span>\n            <span class=\"top-left-id-num\">{{\n              this.$store.state.roomInformation.id\n            }}</span>\n            <span class=\"top-left-online\"></span>\n            <span class=\"top-left-online-num\">{{\n              this.$store.state.roomUserList\n                ? this.$store.state.roomUserList.length\n                : 0\n            }}</span>\n          </div>\n        </div>\n        <div\n          @click=\"clickTopRight\"\n          :class=\"BackClass\"\n          :style=\"{ filter: 'blur(' + topFilter + 'px)' }\"\n        ></div>\n      </div>\n      <div class=\"center\">\n        <div\n          class=\"center-top\"\n          :style=\"{ filter: 'blur(' + topFilter + 'px)' }\"\n        >\n          <div @click=\"clickNotice\" class=\"center-top-notice\"></div>\n        </div>\n        <div class=\"homeowner\">\n          <div class=\"homeowner-Templat\">\n            <div\n              class=\"homeowner-Templat-img\"\n              :style=\"\n                houserMap['userId']\n                  ? {\n                      backgroundImage:\n                        'linear-gradient(#FF0000 0%, #0000cc 100%)',\n                    }\n                  : {}\n              \"\n            >\n              <!-- <div\n                v-if=\"OwerMute && houserMap['userId']\"\n                class=\"circle\"\n                :class=\"circlemove\"\n              ></div>\n              <div\n                v-if=\"OwerMute && houserMap['userId']\"\n                class=\"circle2\"\n                :class=\"circle2move\"\n              ></div> -->\n              <div v-if=\"OwerMute\" class=\"image-mute\"></div>\n              <el-image\n                class=\"image-ower\"\n                fit=\"cover\"\n                @click=\"seatWave\"\n                :src=\"\n                  houserMap['userId']\n                    ? houserMap['portrait']\n                      ? this.$store.state.defaultAddress + houserMap['portrait']\n                      : this.$store.state.defaultAvatarUrl\n                    : homeOwerImg\n                \"\n              >\n              </el-image>\n            </div>\n            <div class=\"homeowner-Templat-name\">\n              <span\n                class=\"homeowner-Templat-Administrators\"\n                :style=\"{\n                  backgroundImage: Administrators,\n                  paddingLeft: '0.14rem',\n                }\"\n                >{{ houserMap[\"userName\"] }}</span\n              >\n            </div>\n            <span class=\"homeowner-Templat-gift\">\n              <span class=\"homeowner-Templat-gift-text\">{{\n                houserMap[\"gift\"] ? houserMap[\"gift\"] : 0\n              }}</span>\n            </span>\n          </div>\n        </div>\n        <div class=\"audience\">\n          <div class=\"audience-fa\">\n            <div v-for=\"(item, i) in itemList\" :key=\"i\" class=\"audience-item\">\n              <Seat :item=\"item\" @clickSeat=\"clickSeat\" />\n            </div>\n          </div>\n        </div>\n      </div>\n      <!-- <el-button\n        @click=\"getSeatInfolist\"\n        type=\"primary\"\n        style=\"margin-left: 16px\"\n      >\n        \n      </el-button> -->\n      <div class=\"room-talk\">\n        <liveChat\n          ref=\"chatroom\"\n          @nameClick=\"nameClick\"\n          :top=\"talkTop\"\n          :height=\"talkHeight\"\n        />\n      </div>\n      <bottomBar\n        @msgOut=\"msgOut\"\n        @btnGift=\"btnGift\"\n        @ApplyWeatModel=\"ConnectMic\"\n        @ApplyWeat=\"ApplyWeat\"\n        @SetupModel=\"ConnectOperation\"\n        ref=\"bottomBar\"\n      ></bottomBar>\n    </div>\n    <UserList\n      ref=\"UserList\"\n      @onCloseUserList=\"onCloseUserList\"\n      @onClickUserList=\"onClickUserList\"\n    />\n    <RoomBack ref=\"RoomBack\" @RoomBackClose=\"onRoomBackClose\" />\n    <RoomFit ref=\"RoomFit\" :RoomFitItemList=\"RoomFitItemList\" />\n    <Notice ref=\"Notice\" />\n    <ConnetWeat ref=\"ConnetWeat\" />\n    <UserClickOwner ref=\"UserClickOwner\" @UserInforMute=\"UserInforMute\" />\n    <UserClickSeizeSeat\n      ref=\"UserClickSeizeSeat\"\n      @giftClick=\"giftClick\"\n      @SeatAdminChange=\"SeatAdminChange\"\n    />\n    <AdminClickOther ref=\"AdminClickOther\" @giftClick=\"giftClick\" />\n    <UserClickEmptySeat\n      ref=\"UserClickEmptySeat\"\n      @clickInvitation=\"clickInvitation\"\n    />\n    <AudienceClickOwer ref=\"AudienceClickOwer\" />\n    <AudienceClickSeizeSeat\n      ref=\"AudienceClickSeizeSeat\"\n      @giftClick=\"giftClick\"\n    />\n    <CancelEvenSeat ref=\"CancelEvenSeat\" />\n\n    <!-- <RoomBack ref=\"RoomBack\" @RoomBackClose=\"onRoomBackClose\" /> -->\n    <!-- gift -->\n    <giftPanel\n      @hideGift=\"hideGift\"\n      @sendGiftSuccess=\"sendGiftSuccess\"\n      :isActive=\"showGift\"\n      :roomId=\"roomId\"\n      ref=\"giftPanel\"\n    ></giftPanel>\n  </div>\n</template> \n\n<script>\nimport UserList from \"../../components/room/UserList.vue\";\nimport RoomBack from \"../../components/room/RoomBack.vue\";\nimport Seat from \"../../components/room/seat.vue\";\nimport RoomFit from \"../../components/RoomFit.vue\";\nimport Notice from \"../../components/room/Notice.vue\";\nimport ConnetWeat from \"../../components/room/ConnetWeat.vue\";\nimport UserClickOwner from \"../../components/seat/userClickOwner.vue\";\nimport UserClickSeizeSeat from \"../../components/seat/userClickSeizeSeat.vue\";\nimport AdminClickOther from \"../../components/seat/AdminClickOther.vue\";\nimport UserClickEmptySeat from \"../../components/seat/userClickEmptySeat.vue\";\nimport AudienceClickOwer from \"../../components/seat/audienceClickOwer.vue\";\nimport AudienceClickSeizeSeat from \"../../components/seat/audieClickSeizeSeat.vue\";\nimport CancelEvenSeat from \"../../components/room/CancelEvenSeat.vue\";\n//\nimport liveChat from \"../../components/baseUi/liveChat.vue\";\nimport bottomBar from \"../../components/baseUi/bottomBar.vue\";\nimport giftPanel from \"../../components/baseUi/giftPanel.vue\";\n\nimport {\n  RoomFitItemList,\n  BackList,\n  muteAndInset,\n  unmuteAndInset,\n  emptyMuteAndLock,\n  emptyMuteAndUnlock,\n  emptyUnmuteAndLock,\n  emptyUnmuteAndUnlock,\n  isAdminAndInset,\n  outset,\n} from \"./static.js\";\nimport request from \"../../request/index\";\nexport default {\n  name: \"House\",\n  data: function () {\n    return {\n      tabStretch: true,\n      activeName: \"first\",\n      circlemove: \"\",\n      circle2move: \"\",\n      keepMove: true,\n      houseFilter: 0,\n      BackClass: \"top-right\",\n      creatuser: false,\n      topFilter: 0,\n      OwerMute: false,\n      houserMap: {},\n      roomId: \"\",\n      seatInfo: {\n        mute: false,\n        speaking: false,\n        status: \"0\",\n        userId: \"\",\n      },\n      GiftAndManageList: {\n        GiftObj: {},\n        ManageObj: {},\n      },\n      Administrators:\n        // eslint-disable-next-line no-undef\n        \"url(\" + require(\"../../assets/roomicon/administrators.png\") + \")\",\n      // eslint-disable-next-line no-undef\n      homeOwerImg: require(\"../../assets/roomicon/OwerIcon.png\"),\n      // eslint-disable-next-line no-undef\n      OwerImg: require(\"../../assets/DefaultImg.png\"),\n      RoomFitItemList: [],\n      itemList: [],\n      dblclickPage: false,\n      talkTop: 64.5,\n      talkHeight: 28,\n      //\n      showGift: false,\n    };\n  },\n  props: {\n    msg: String,\n  },\n  components: {\n    UserList,\n    RoomBack,\n    Seat,\n    RoomFit,\n    Notice,\n    ConnetWeat,\n    UserClickOwner,\n    UserClickSeizeSeat,\n    AdminClickOther,\n    UserClickEmptySeat,\n    AudienceClickOwer,\n    AudienceClickSeizeSeat,\n    CancelEvenSeat,\n    //\n    liveChat,\n    bottomBar,\n    giftPanel,\n  },\n  methods: {\n    getSeatInfolist: async function () {\n      const list = await this.$RCVoiceRoomLib.getLatestSeatInfo();\n      console.log(list);\n      console.log(this.$RCVoiceRoomLib);\n    },\n\n    //title\n    setRoomTitle: function () {\n      let title;\n      if (this.$store.state.roomTitle == \"undefined\") {\n        title = this.$store.state.roomInformation.roomName;\n      } else {\n        title = this.$store.state.roomTitle;\n      }\n      // console.log(title);\n      if (title) {\n        if (title.length > 10) {\n          return title.substring(0, 10) + \"...\";\n        } else {\n          return title;\n        }\n      } else {\n        return \"\";\n      }\n    },\n\n    //\n    openUserList: function () {\n      request\n        .roomuser({\n          roomId: this.$RCVoiceRoomLib._roomidcli,\n        })\n        .then((res) => {\n          this.$store.dispatch(\"getRoomUserList\", res.data.data);\n        });\n      this.houseFilter = 5;\n      this.$refs.UserList.openUserList();\n    },\n\n    //\n    onCloseUserList: function () {\n      this.houseFilter = 0;\n    },\n\n    //\n    onClickUserList: function (item) {\n      if (!item[\"portrait\"] && \"length\" in this.$store.state.roomUserList) {\n        for (\n          let index = 0;\n          index < this.$store.state.roomUserList.length;\n          index++\n        ) {\n          if (\n            item[\"userId\"] == this.$store.state.roomUserList[index][\"userId\"]\n          ) {\n            item = {\n              ...item,\n              ...this.$store.state.roomUserList[index],\n            };\n\n            break;\n          }\n        }\n      }\n\n      const ManageObj = this.$store.state.GiftAndManageList[\"ManageObj\"] || {};\n      if (item.userId == this.$RCVoiceRoomLib.im.userId) {\n        return;\n      }\n      const array = [...this.$store.state.itemList];\n\n      if (this.$store.state.creatUser) {\n        //\n        for (let i = 0; i < array.length; i++) {\n          if (array[i][\"userId\"] == item.userId) {\n            if (array[i][\"mute\"]) {\n              this.$refs.UserClickSeizeSeat.UserClickSeizeSeatOpen({\n                item: array[i],\n                value: muteAndInset,\n              });\n            } else {\n              this.$refs.UserClickSeizeSeat.UserClickSeizeSeatOpen({\n                item: array[i],\n                value: unmuteAndInset,\n              });\n            }\n            break;\n          }\n          if (i == array.length - 1) {\n            this.$refs.UserClickSeizeSeat.UserClickSeizeSeatOpen({\n              item: item,\n              value: outset,\n            });\n          }\n        }\n      } else {\n        //\n        if (\n          item.userId in ManageObj ||\n          item.userId == this.$store.state.roomInformation.createUser.userId\n        ) {\n          this.$refs.AudienceClickSeizeSeat.audienceClickSeizeSeatOpen(item);\n          return;\n        }\n        if (this.$store.state.TheRoomAdmin) {\n          for (let i = 0; i < array.length; i++) {\n            if (array[i][\"userId\"] == item.userId) {\n              this.$refs.AdminClickOther.AdminClickOtherOpen({\n                item: item,\n                value: isAdminAndInset,\n              });\n              return;\n            }\n            if (i == array.length - 1) {\n              this.$refs.AdminClickOther.AdminClickOtherOpen({\n                item: item,\n                value: outset,\n              });\n            }\n          }\n        } else {\n          this.$refs.AudienceClickSeizeSeat.audienceClickSeizeSeatOpen(item);\n        }\n      }\n    },\n\n    onRoomBackClose: function () {\n      this.topFilter = 0;\n    },\n\n    //\n    clickTopRight: async function () {\n      // console.log(this.creatuser);\n      if (this.creatuser) {\n        this.$refs.RoomBack.RoomBackOpen(BackList);\n        this.topFilter = 5;\n      } else {\n        try {\n          await this.$RCVoiceRoomLib.leaveRoom(this.$RCVoiceRoomLib._roomidcli);\n          this.$router.go(-1);\n        } catch (error) {\n          this.$store.dispatch(\"showToast\", {\n            value: \"\",\n          });\n          console.log(error);\n        }\n      }\n    },\n\n    //\n    clickNotice: function () {\n      this.$refs.Notice.setPopup({\n        isShow: false,\n        value: this.$RCVoiceRoomLib.roomInfo[\"extra\"]\n          ? this.$RCVoiceRoomLib.roomInfo[\"extra\"]\n          : \" \" + this.$RCVoiceRoomLib.roomInfo[\"roomName\"],\n      });\n    },\n\n    ConnectMic: function () {\n      this.$refs.ConnetWeat.openConnetWheat(false);\n    },\n\n    //\n    ConnectOperation: function () {\n      // console.log(this.$RCVoiceRoomLib.roomInfo);\n      const RoomFitList = [...RoomFitItemList];\n      if (this.$store.state.roomPrivate.isPrivate == 1) {\n        RoomFitList[0] = {\n          value: \"\",\n          img:\n            // eslint-disable-next-line no-undef\n            \"url(\" + require(\"../../assets/roomicon/UnLockRoom.png\") + \")\",\n        };\n      }\n      if (this.$RCVoiceRoomLib.roomInfo.isFreeEnterSeat) {\n        RoomFitList[4] = {\n          value: \"\",\n          // eslint-disable-next-line no-undef\n          img: \"url(\" + require(\"../../assets/roomicon/BApplyWheat.png\") + \")\",\n        };\n      }\n      if (this.$RCVoiceRoomLib.roomInfo.isMuteAll) {\n        RoomFitList[5] = {\n          value: \"\",\n          img:\n            // eslint-disable-next-line no-undef\n            \"url(\" + require(\"../../assets/roomicon/UnMuteAllSeat.png\") + \")\",\n        };\n      }\n      if (this.$RCVoiceRoomLib.roomInfo.isLockAll) {\n        RoomFitList[6] = {\n          value: \"\",\n          img:\n            // eslint-disable-next-line no-undef\n            \"url(\" + require(\"../../assets/roomicon/UnlockAllSeat.png\") + \")\",\n        };\n      }\n\n      if (this.$store.state.muteMicrophone) {\n        RoomFitList[7] = {\n          value: \"\",\n          // eslint-disable-next-line no-undef\n          img: \"url(\" + require(\"../../assets/roomicon/UnMuteOne.png\") + \")\",\n        };\n      }\n      if (this.$RCVoiceRoomLib.roomInfo.seatCount == 5) {\n        RoomFitList[8] = {\n          value: \"8\",\n          img:\n            // eslint-disable-next-line no-undef\n            \"url(\" + require(\"../../assets/roomicon/BSetEightSeats.png\") + \")\",\n        };\n      }\n      this.RoomFitItemList = RoomFitList;\n      this.$refs.RoomFit.openRoomFit();\n    },\n\n    //\n    UserInforMute: function (b) {\n      this.OwerMute = b;\n    },\n\n    //\n    clickInvitation: function () {\n      this.$refs.ConnetWeat.openConnetWheat(true);\n    },\n\n    //List\n    SetSeatList: async function (resValue) {\n      this.houserMap = {};\n      let roomUserListMap = {};\n      this.itemList = [];\n      if (\n        !this.$store.state.roomUserList ||\n        this.$store.state.roomUserList.length == 0\n      ) {\n        return;\n      }\n\n      if (!this.$RCVoiceRoomLib.seatInfoList[0]) {\n        this.$RCVoiceRoomLib.seatInfoList[0] = {\n          ...this.seatInfo,\n        };\n        this.$RCVoiceRoomLib.seatInfoList[0][\"status\"] = 1;\n        this.$RCVoiceRoomLib.seatInfoList[0][\"userId\"] =\n          this.$store.state.roomInformation.createUser.userId;\n      }\n      for (let m = 0; m < this.$store.state.roomUserList.length; m += 1) {\n        roomUserListMap[this.$store.state.roomUserList[m][\"userId\"]] =\n          this.$store.state.roomUserList[m];\n      }\n\n      // if (this.$RCVoiceRoomLib.seatInfoList[0][\"mute\"] != !this.OwerMute) {\n      //   this.OwerMute = !this.$RCVoiceRoomLib.seatInfoList[0][\"mute\"];\n      // }\n\n      if (\n        this.$RCVoiceRoomLib.seatInfoList[0][\"extra\"] &&\n        JSON.parse(this.$RCVoiceRoomLib.seatInfoList[0][\"extra\"])[\n          \"disableRecording\"\n        ]\n      ) {\n        this.OwerMute = true;\n      } else {\n        this.OwerMute = false;\n      }\n\n      if (\n        this.$RCVoiceRoomLib.seatInfoList[0][\"userId\"] &&\n        this.$RCVoiceRoomLib.seatInfoList[0][\"userId\"] in roomUserListMap\n      ) {\n        this.houserMap = {\n          ...roomUserListMap[this.$RCVoiceRoomLib.seatInfoList[0][\"userId\"]],\n        };\n      }\n\n      if (\n        this.$RCVoiceRoomLib.seatInfoList[0][\"userId\"] &&\n        this.$RCVoiceRoomLib.seatInfoList[0][\"userId\"] in resValue.GiftObj\n      ) {\n        this.houserMap = {\n          ...this.houserMap,\n          gift: resValue.GiftObj[\n            this.$RCVoiceRoomLib.seatInfoList[0][\"userId\"]\n          ],\n        };\n      }\n\n      this.houserMap = {\n        ...this.houserMap,\n        ...this.$RCVoiceRoomLib.seatInfoList[0],\n      };\n\n      let arr = [];\n\n      let seatCountNumber = 9;\n      if (\n        this.$RCVoiceRoomLib.roomInfo &&\n        this.$RCVoiceRoomLib.roomInfo.seatCount != 9\n      ) {\n        seatCountNumber = this.$RCVoiceRoomLib.roomInfo.seatCount;\n      }\n      for (let p = 1; p < seatCountNumber; p += 1) {\n        let OtherMap = {};\n        if (\n          this.$RCVoiceRoomLib.seatInfoList[p] &&\n          this.$RCVoiceRoomLib.seatInfoList[p][\"userId\"]\n        ) {\n          if (\n            this.$RCVoiceRoomLib.seatInfoList[p][\"userId\"] in roomUserListMap\n          ) {\n            OtherMap = {\n              ...roomUserListMap[\n                this.$RCVoiceRoomLib.seatInfoList[p][\"userId\"]\n              ],\n            };\n          }\n\n          if (\n            this.$RCVoiceRoomLib.seatInfoList[p][\"userId\"] in resValue.ManageObj\n          ) {\n            OtherMap = {\n              ...OtherMap,\n              isAdmin: true,\n            };\n          }\n\n          if (\n            this.$RCVoiceRoomLib.seatInfoList[p][\"userId\"] in resValue.GiftObj\n          ) {\n            OtherMap = {\n              ...OtherMap,\n              gift: resValue.GiftObj[\n                this.$RCVoiceRoomLib.seatInfoList[p][\"userId\"]\n              ],\n            };\n          }\n        }\n\n        if (this.$RCVoiceRoomLib.seatInfoList[p]) {\n          arr.push({\n            ...OtherMap,\n            ...this.$RCVoiceRoomLib.seatInfoList[p],\n            index: p,\n          });\n        } else {\n          this.$RCVoiceRoomLib.seatInfoList[p] = {\n            ...this.seatInfo,\n          };\n          arr.push({\n            ...OtherMap,\n            ...this.seatInfo,\n            index: p,\n          });\n        }\n      }\n      for (let index = 0; index < arr.length; index += 1) {\n        if (this.$RCVoiceRoomLib.im.userId == arr[index].userId) {\n          this.$store.dispatch(\"updateuserInseat\", true);\n          break;\n        }\n        if (index == arr.length - 1) {\n          this.$store.dispatch(\"updateuserInseat\", false);\n        }\n      }\n      this.itemList = arr;\n      this.$store.dispatch(\"updateItemList\", arr);\n    },\n\n    //\n    getGiftList: function () {\n      console.log(this.$RCVoiceRoomLib._roomidcli);\n      return request\n        .getGiftList({\n          roomId: this.$RCVoiceRoomLib._roomidcli,\n        })\n        .then(async (res) => {\n          let GiftObj = {};\n          if (res.data.code == 10000 && res.data.data.length > 0) {\n            for (let i = 0; i < res.data.data.length; i += 1) {\n              GiftObj = {\n                ...GiftObj,\n                ...res.data.data[i],\n              };\n            }\n          }\n          return { GiftObj: GiftObj };\n        });\n    },\n\n    //\n    getManageList: function () {\n      return request\n        .manageList({\n          roomId: this.$RCVoiceRoomLib._roomidcli,\n        })\n        .then(async (res) => {\n          let ManageObj = {};\n          if (res.data.code == 10000 && res.data.data.length > 0) {\n            for (let i = 0; i < res.data.data.length; i += 1) {\n              ManageObj[res.data.data[i][\"userId\"]] = res.data.data[i];\n            }\n          }\n          return { ManageObj: ManageObj };\n        });\n    },\n\n    //\n    seatWave: async function () {\n      const UserList = JSON.parse(\n        JSON.stringify(this.$store.state.roomUserList)\n      );\n\n      if (!this.creatuser) {\n        return;\n      }\n      if (\n        this.$RCVoiceRoomLib.seatInfoList[0][\"status\"] == 1 &&\n        this.$RCVoiceRoomLib.seatInfoList[0][\"userId\"]\n      ) {\n        let item = this.$RCVoiceRoomLib.seatInfoList[0];\n        for (let i = 0; i < UserList.length; i += 1) {\n          if (\n            UserList[i][\"userId\"] ==\n            this.$RCVoiceRoomLib.seatInfoList[0][\"userId\"]\n          ) {\n            item = {\n              ...item,\n              ...UserList[i],\n              index: 0,\n            };\n            this.$refs.UserClickOwner.userClickOwnerOpen(item);\n            break;\n          }\n        }\n      } else {\n        await this.$RCVoiceRoomLib.enterSeat(0);\n        this.SetSeatList(this.$store.state.GiftAndManageList);\n      }\n    },\n\n    //\n    sendGiftSuccess: async function () {\n      const gift = await this.getGiftList();\n      this.updateAdminAndGift(gift);\n    },\n\n    //()\n    SeatAdminChange: async function () {\n      const Manage = await this.getManageList();\n      // console.log(Manage);\n      this.updateAdminAndGift(Manage);\n    },\n\n    //\n    updateAdminAndGift: function (item) {\n      this.$store\n        .dispatch(\"getGiftAndManageList\", {\n          ...this.$store.state.GiftAndManageList,\n          ...item,\n        })\n        .then(() => {\n          this.SetSeatList(this.$store.state.GiftAndManageList);\n        });\n    },\n\n    //\n    clickSeat: async function (item) {\n      if (this.creatuser) {\n        if (item[\"userId\"]) {\n          if (item[\"mute\"]) {\n            this.$refs.UserClickSeizeSeat.UserClickSeizeSeatOpen({\n              item: item,\n              value: muteAndInset,\n            });\n          } else {\n            this.$refs.UserClickSeizeSeat.UserClickSeizeSeatOpen({\n              item: item,\n              value: unmuteAndInset,\n            });\n          }\n        } else {\n          if (item[\"mute\"]) {\n            if (item[\"status\"] == 2) {\n              this.$refs.UserClickEmptySeat.UserClickEmptySeatOpen({\n                item: item,\n                value: emptyMuteAndLock,\n              });\n            } else if (item[\"status\"] == 0) {\n              this.$refs.UserClickEmptySeat.UserClickEmptySeatOpen({\n                item: item,\n                value: emptyMuteAndUnlock,\n              });\n            }\n          } else {\n            if (item[\"status\"] == 2) {\n              this.$refs.UserClickEmptySeat.UserClickEmptySeatOpen({\n                item: item,\n                value: emptyUnmuteAndLock,\n              });\n            } else if (item[\"status\"] == 0) {\n              this.$refs.UserClickEmptySeat.UserClickEmptySeatOpen({\n                item: item,\n                value: emptyUnmuteAndUnlock,\n              });\n            }\n          }\n        }\n      } else {\n        if (item[\"status\"] && item[\"status\"] == 2) {\n          this.$store.dispatch(\"showToast\", { value: \"\" });\n          return;\n        } else if (item[\"status\"] && item[\"status\"] == 1) {\n          //\n          if (this.$RCVoiceRoomLib.im.userId == item[\"userId\"]) {\n            this.$refs.AudienceClickOwer.audienceClickOwerOpen(item);\n            return;\n          } else {\n            if (item.isAdmin) {\n              this.$refs.AudienceClickSeizeSeat.audienceClickSeizeSeatOpen(\n                item\n              );\n              return;\n            }\n            if (\n              this.$RCVoiceRoomLib.im.userId in\n              this.GiftAndManageList[\"ManageObj\"]\n            ) {\n              this.$refs.AdminClickOther.AdminClickOtherOpen({\n                item: item,\n                value: isAdminAndInset,\n              });\n            } else {\n              this.$refs.AudienceClickSeizeSeat.audienceClickSeizeSeatOpen(\n                item\n              );\n            }\n            return;\n          }\n        } else {\n          //\n          const array = [...this.$store.state.itemList];\n          for (let i = 0; i < array.length; i++) {\n            if (\n              array[i][\"userId\"] == this.$RCVoiceRoomLib.im.userId &&\n              i + 1 != item[\"index\"]\n            ) {\n              try {\n                await this.$RCVoiceRoomLib.switchSeatTo(item[\"index\"]);\n                setTimeout(() => {\n                  this.$store.dispatch(\"getSeatInfoList\");\n                }, 50);\n              } catch (error) {\n                this.$store.dispatch(\"showToast\", {\n                  value: \"\",\n                });\n                console.log(error);\n              }\n\n              break;\n            }\n            if (i == array.length - 1) {\n              if (this.$RCVoiceRoomLib.roomInfo.isFreeEnterSeat) {\n                try {\n                  await this.$RCVoiceRoomLib.enterSeat(item[\"index\"]);\n                  setTimeout(() => {\n                    this.$store.dispatch(\"showToast\", {\n                      value: \"\",\n                    });\n                    this.$store.dispatch(\"getSeatInfoList\");\n                  }, 50);\n                } catch (error) {\n                  this.$store.dispatch(\"showToast\", {\n                    value: \"\",\n                  });\n                  console.log(error);\n                }\n              } else {\n                const len = await this.$RCVoiceRoomLib.getRequestSeatUserIds();\n                this.$store.dispatch(\"getRequestSeatUserIds\", len);\n                // console.log(len);\n                if (len.length > 20) {\n                  this.$store.dispatch(\"showToast\", {\n                    value: \",\",\n                  });\n                  return;\n                }\n                for (let i = 0; i < len.length; i += 1) {\n                  if (len[i] == this.$RCVoiceRoomLib.im.userId) {\n                    this.$store.dispatch(\"showToast\", {\n                      value: \"\",\n                    });\n                    return;\n                  }\n                }\n                // console.log(bor);\n                await this.$RCVoiceRoomLib.requestSeat();\n                this.$store.dispatch(\"showToast\", {\n                  value: \"\",\n                });\n                setTimeout(() => {\n                  this.$store.dispatch(\"userHasApply\", true);\n                }, 50);\n              }\n            }\n          }\n        }\n      }\n    },\n\n    //\n    giftClick: function (item) {\n      if (\n        this.$store.state.roomInformation.createUser[\"userId\"] == item[\"userId\"]\n      ) {\n        item[\"creatuser\"] = true;\n      } else {\n        item[\"creatuser\"] = false;\n      }\n\n      this.$data.showGift = true;\n      this.$refs.giftPanel.showGift([item]);\n    },\n\n    //\n    msgOut: function (msg) {\n      // console.log(msg);\n      if (msg.replace(/\\s*/g, \"\").length == 0) {\n        this.$store.dispatch(\"showToast\", {\n          value: \"\",\n        });\n        return;\n      }\n      let send = true;\n      for (\n        let index = 0;\n        index < this.$store.state.sensitiveList.length;\n        index++\n      ) {\n        if (msg.indexOf(this.$store.state.sensitiveList[index][\"name\"]) != -1) {\n          send = false;\n          break;\n        }\n      }\n      let txtMsg = {\n        userName: this.$store.state.userInfo.userName, // \n        userId: this.$store.state.userInfo.userId,\n        content: msg,\n      };\n      this.$RCVoiceRoomLib.emit(\"MessageReceived\", {\n        //\n        //\n        messageType: \"RC:Chatroom:Barrage\",\n        content: txtMsg,\n      });\n      if (send) {\n        // console.log(txtMsg);\n        this.$RCVoiceRoomLib.im\n          .messageUpdate(\"RC:Chatroom:Barrage\", txtMsg)\n          .then((res) => {\n            console.log(res);\n          });\n      }\n    },\n\n    //gift\n    btnGift: function () {\n      this.$data.showGift = true;\n      let userInseatList = [];\n      userInseatList.push({\n        ...this.$store.state.roomInformation.createUser,\n        creatuser: true,\n      });\n      const arr = this.$store.state.itemList;\n      for (let index = 0; index < arr.length; index++) {\n        if (this.$store.state.itemList[index][\"userId\"]) {\n          userInseatList.push(arr[index]);\n        }\n      }\n      this.$store.dispatch(\"getMicData\", userInseatList);\n      this.$refs.giftPanel.showGift(userInseatList);\n    },\n\n    //gift\n    hideGift: function () {\n      this.$data.showGift = false;\n    },\n\n    //\n    nameClick: function (e) {\n      this.onClickUserList(e);\n    },\n\n    //\n    ApplyWeat: async function () {\n      // console.log(\"this.$RCVoiceRoomLib.roomInfo\", this.$RCVoiceRoomLib);\n      if (this.$RCVoiceRoomLib.roomInfo.isFreeEnterSeat) {\n        try {\n          const findSeat = await this.$RCVoiceRoomLib.findSeat();\n          await this.$RCVoiceRoomLib.enterSeat(findSeat);\n          setTimeout(() => {\n            this.$store.dispatch(\"showToast\", {\n              value: \"\",\n            });\n            this.$store.dispatch(\"getSeatInfoList\");\n          }, 50);\n        } catch (error) {\n          this.$store.dispatch(\"showToast\", {\n            value: \"\",\n          });\n          console.log(error);\n        }\n\n        return;\n      }\n      if (this.$store.state.HasApply) {\n        this.$refs.CancelEvenSeat.CancelEvenSeatOpen();\n      } else {\n        await this.$RCVoiceRoomLib.requestSeat();\n        this.$store.dispatch(\"showToast\", {\n          value: \"\",\n        });\n        setTimeout(() => {\n          this.$store.dispatch(\"userHasApply\", true);\n        }, 50);\n      }\n    },\n\n    //roominformation\n    getRoominformation: function () {\n      request\n        .roominformation({ roomId: this.$RCVoiceRoomLib._roomidcli })\n        .then((res) => {\n          if (res.data.code == 10000) {\n            this.$store.dispatch(\"getRoomInformation\", res.data.data);\n            this.$store.dispatch(\n              \"getroomBackground\",\n              res.data.data.backgroundUrl\n            );\n            this.$store.dispatch(\"getroomTitle\", res.data.data.roomName);\n            this.$store.dispatch(\"getroomPrivate\", {\n              isPrivate: res.data.data.isPrivate,\n              password: res.data.data.password,\n            });\n            this.$store.dispatch(\"getMicrophone\", false);\n            const createUser = res.data.data.createUser;\n            this.getroomuser(createUser);\n            this.$nextTick(() => {\n              this.$store.dispatch(\"getChatroom\", this.$refs.chatroom);\n              this.roomId = this.$RCVoiceRoomLib._roomidcli;\n              // console.log(this.$RCVoiceRoomLib);\n              if (\n                this.$RCVoiceRoomLib.roomInfo &&\n                this.$RCVoiceRoomLib.roomInfo.seatCount\n              ) {\n                this.$store.dispatch(\n                  \"getsetCountsChange\",\n                  this.$RCVoiceRoomLib.roomInfo.seatCount\n                );\n                if (this.$RCVoiceRoomLib.roomInfo.seatCount == 9) {\n                  this.talkTop = 64.5;\n                  this.talkHeight = 28;\n                } else {\n                  this.talkTop = 50;\n                  this.talkHeight = 42;\n                }\n              } else {\n                this.talkTop = 64.5;\n                this.talkHeight = 28;\n              }\n\n              if (\n                res.data.data.createUser.userId !=\n                this.$RCVoiceRoomLib.im.userId\n              ) {\n                this.BackClass = \"top-right-close\";\n                this.creatuser = false;\n                this.$store.dispatch(\"setcreatuser\", false);\n              } else {\n                this.BackClass = \"top-right\";\n                this.creatuser = true;\n                this.$store.dispatch(\"setcreatuser\", true);\n              }\n            });\n          } else {\n            console.log(\"err\", res.data);\n          }\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    },\n\n    //roomuser\n    getroomuser: function (createUser) {\n      request\n        .roomuser({\n          roomId: this.$RCVoiceRoomLib._roomidcli,\n        })\n        .then(async (res) => {\n          // console.log(res);\n          this.$store.dispatch(\"getRoomUserList\", res.data.data);\n          console.log(createUser);\n          this.getGiftAndMan(true);\n        });\n    },\n\n    //gift\n    getGiftAndMan: function (item) {\n      Promise.all([this.getGiftList(), this.getManageList()])\n        .then((res) => {\n          // console.log(res);\n          if (this.$RCVoiceRoomLib.im.userId in res[1][\"ManageObj\"]) {\n            this.$store.dispatch(\"setRoomAdmin\", true);\n          } else {\n            this.$store.dispatch(\"setRoomAdmin\", false);\n          }\n          // // console.log(this.$store.state.roomUserList);\n          this.$nextTick(async () => {\n            let Obj = {};\n            for (let i = 0; i < res.length; i += 1) {\n              Obj = {\n                ...Obj,\n                ...res[i],\n              };\n            }\n            this.GiftAndManageList = {\n              ...Obj,\n            };\n            this.$store.dispatch(\"getGiftAndManageList\", Obj);\n            // console.log(Obj);\n            this.SetSeatList(Obj);\n            if (\n              this.$RCVoiceRoomLib.seatInfoList[0] &&\n              !this.$RCVoiceRoomLib.seatInfoList[0][\"userId\"] &&\n              this.$store.state.creatUser &&\n              item\n            ) {\n              await this.$RCVoiceRoomLib.enterSeat(0);\n              console.log(\n                \"isDisableAudioRecording\",\n                this.$RCVoiceRoomLib.isDisableAudioRecording()\n              );\n              if (\n                \"extra\" in this.$RCVoiceRoomLib.seatInfoList[0] &&\n                JSON.parse(this.$RCVoiceRoomLib.seatInfoList[0][\"extra\"])[\n                  \"disableRecording\"\n                ]\n              ) {\n                this.$RCVoiceRoomLib.disableAudioRecording(true);\n              }\n\n              // setTimeout(() => {\n              //   this.SetSeatList(Obj);\n              // }, 50);\n            }\n          });\n        })\n        .catch((err) => {\n          console.log(\"err\", err);\n        });\n    },\n\n    //\n    owerSetSpreadAnimatio: function (res) {\n      if (res) {\n        if (this.keepMove) {\n          this.circlemove = \"move\";\n          this.keepMove = false;\n          setTimeout(() => {\n            this.circle2move = \"move\";\n          }, 700);\n        }\n      } else {\n        setTimeout(() => {\n          this.circlemove = \"\";\n          this.keepMove = true;\n          setTimeout(() => {\n            this.circle2move = \"\";\n          }, 700);\n        }, 800);\n      }\n    },\n  },\n  watch: {\n    listenseatInfoList: function () {\n      console.log(\":\", this.$RCVoiceRoomLib.seatInfoList);\n      if (\n        this.$store.state.roomUserList &&\n        this.$store.state.roomUserList.length\n      ) {\n        this.SetSeatList(this.$store.state.GiftAndManageList);\n      }\n\n      if (\n        this.$RCVoiceRoomLib.seatInfoList[0] &&\n        this.$RCVoiceRoomLib.seatInfoList[0][\"extra\"] &&\n        JSON.parse(this.$RCVoiceRoomLib.seatInfoList[0][\"extra\"])[\n          \"disableRecording\"\n        ]\n      ) {\n        this.OwerMute = true;\n      } else {\n        this.OwerMute = false;\n      }\n    },\n\n    listenroomUserList: function () {\n      this.getGiftAndMan(false);\n    },\n\n    listengiftValue: function () {\n      this.sendGiftSuccess();\n    },\n\n    listenAdminValue: async function () {\n      this.SeatAdminChange();\n    },\n\n    listenSpeakingChengeControl: function () {\n      if (this.$store.state.SpeakingChenge.index == 0) {\n        if (this.$store.state.SpeakingChenge.speaking == 0) {\n          this.owerSetSpreadAnimatio(false);\n        } else {\n          this.owerSetSpreadAnimatio(true);\n        }\n      }\n    },\n    listenseatCount: function (newValue) {\n      // console.log(newValue);\n      if (newValue == 9) {\n        this.talkTop = 64.5;\n        this.talkHeight = 28;\n      } else {\n        this.talkTop = 50;\n        this.talkHeight = 42;\n      }\n    },\n  },\n  computed: {\n    listenseatInfoList() {\n      return this.$store.state.seatInfoList;\n    },\n    listenroomUserList() {\n      return this.$store.state.roomUserList;\n    },\n    listengiftValue() {\n      return this.$store.state.giftValue;\n    },\n    listenAdminValue() {\n      return this.$store.state.AdminValue;\n    },\n    listenSpeakingChengeControl() {\n      return this.$store.state.SpeakingChengeControl;\n    },\n    listenseatCount() {\n      return this.$store.state.setCounts;\n    },\n  },\n  created() {\n    this.$nextTick(async () => {\n      const arr = await this.$RCVoiceRoomLib.getRequestSeatUserIds();\n      this.$store.dispatch(\"getRequestSeatUserIds\", arr);\n    });\n  },\n  mounted() {\n    this.getRoominformation();\n    console.log(navigator.userAgent);\n    if (\n      navigator.userAgent.indexOf(\"Macintosh\") > -1 &&\n      navigator.userAgent.indexOf(\"Safari\") > -1 &&\n      navigator.userAgent.indexOf(\"Mac\") > -1 &&\n      navigator.userAgent.indexOf(\"Chrome\") == -1\n    ) {\n      this.$confirm(\" ?\", \"\", {\n        confirmButtonText: \"\",\n        cancelButtonText: \"\",\n        type: \"warning\",\n        center: true,\n      })\n        .then(() => {\n          this.$RCVoiceRoomLib.enableSpeaker();\n        })\n        .catch(() => {\n          // console.log(\"\");\n        });\n    }\n    window.addEventListener(\"load\", () => {\n      if (this.$route.name != \"login\") {\n        this.$router.replace(\"/login\");\n      }\n    });\n  },\n};\n</script>\n<style scoped>\n@import url(\"./index.css\");\n</style>>"]}]}