{"remainingRequest":"/Users/cuifengbo/work/RCRTC-Git/rcrtc-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/cuifengbo/work/RCRTC-Git/rcrtc-web/src/components/baseUi/giftPanel.vue?vue&type=style&index=0&id=5abfdd54&scoped=true&lang=css&","dependencies":[{"path":"/Users/cuifengbo/work/RCRTC-Git/rcrtc-web/src/components/baseUi/giftPanel.vue","mtime":1648104828592},{"path":"/Users/cuifengbo/work/RCRTC-Git/rcrtc-web/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/cuifengbo/work/RCRTC-Git/rcrtc-web/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/cuifengbo/work/RCRTC-Git/rcrtc-web/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/cuifengbo/work/RCRTC-Git/rcrtc-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/cuifengbo/work/RCRTC-Git/rcrtc-web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgouc2VuZFRvIHsKICB3aWR0aDogMTAwJTsKICBoZWlnaHQ6IDUwcHg7CiAgbGluZS1oZWlnaHQ6IDUwcHg7CiAgZm9udC1zaXplOiAxNHB4OwogIGNvbG9yOiAjZmZmOwogIGJhY2tncm91bmQ6IHJnYigyNTUsIDI1NSwgMjU1LCAwLjE2KTsKfQouc2VuZEFsbCB7CiAgcG9zaXRpb246IGFic29sdXRlOwogIHdpZHRoOiA1NXB4OwogIGhlaWdodDogMzFweDsKICByaWdodDogMTJweDsKICBsaW5lLWhlaWdodDogMzFweDsKICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgdG9wOiA5cHg7CiAgYm9yZGVyOiAjZmZmIDFweCBzb2xpZDsKICBib3JkZXItcmFkaXVzOiAyMHB4OwogIGJhY2tncm91bmQ6ICMzMzM7Cn0KLm1pY1Bvc2l0aW9uIHsKICB3aWR0aDogMzVweDsKICBoZWlnaHQ6IDUwcHg7CiAgZGlzcGxheTogaW5saW5lLWJsb2NrOwogIHRleHQtYWxpZ246IGNlbnRlcjsKICBwb3NpdGlvbjogcmVsYXRpdmU7Cn0KLm1pY051bSB7CiAgd2lkdGg6IGZpdC1jb250ZW50OwogIHRleHQtYWxpZ246IGNlbnRlcjsKICBsaW5lLWhlaWdodDogMTZweDsKICBmb250LXNpemU6IDEwcHg7CiAgbWFyZ2luLXRvcDogMzBweDsKICBtYXJnaW4tbGVmdDogYXV0bzsKICBtYXJnaW4tcmlnaHQ6IGF1dG87CiAgYmFja2dyb3VuZDogcmdiYSgzLCA2LCA0NywgMC40KTsKICBib3JkZXItcmFkaXVzOiAxN3B4Owp9Ci53MiB7CiAgd2lkdGg6IDM0cHg7Cn0KLncxIHsKICB3aWR0aDogMTdweDsKfQouaXNTZWxlY3RlZCB7CiAgYmFja2dyb3VuZDogI2Q2NDE4NjsKfQouZ2lmdHBhZ2UgewogIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICB0b3A6IDBweDsKICB6LWluZGV4OiAyMDAwMDsKICB3aWR0aDogMzc1cHg7CiAgaGVpZ2h0OiAxMDB2aDsKICBtaW4td2lkdGg6IG5vbmU7Cn0KLnNoYWRvdyB7CiAgcG9zaXRpb246IGFic29sdXRlOwogIHRvcDogMHB4OwogIHdpZHRoOiAxMDAlOwogIGhlaWdodDogY2FsYygxMDB2aCAtIDM1MHB4KTsKICBiYWNrZ3JvdW5kOiByZ2IoMCwgMCwgMCwgMC41KTsKfQouZ2lmdENvbnRhaW5lciB7CiAgcG9zaXRpb246IGFic29sdXRlOwogIGJvdHRvbTogMHB4OwogIGhlaWdodDogMzUwcHg7CiAgd2lkdGg6IDEwMCU7CiAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDkwZGVnLCAjZDU0MDhhIC0xODYuOCUsICMxYTFkM2QgNjkuMzIlKTsKICB6LWluZGV4OiAxMDA7Cn0KLm1haW5Db250YWluZXIgewogIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICB3aWR0aDogMTAwJTsKICB0b3A6IDUwcHg7CiAgaGVpZ2h0OiAyNTBweDsKICBvdmVyZmxvdzogaGlkZGVuOwp9Ci5naWZ0UGFnZXMgewogIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICBmb250LXNpemU6IDEycHg7CiAgd2lkdGg6IDEwMCU7Cn0KLmdpZnRJdGVtcyB7CiAgcG9zaXRpb246IHJlbGF0aXZlOwogIGZsb2F0OiBsZWZ0OwogIHdpZHRoOiAyMyU7CiAgaGVpZ2h0OiAxMTBweDsKICBtYXJnaW46IDElOwogIGNvbG9yOiAjZmZmOwogIHRleHQtYWxpZ246IGNlbnRlcjsKfQouZ2lmdGJvcmRlciB7CiAgYm9yZGVyOiBub25lOwogIGJvcmRlci1yYWRpdXM6IDVweDsKfQouZ2lmdFRpdGxlIHsKICBtYXJnaW4tdG9wOiAtN3B4Owp9Ci5jdXJyZW50IHsKICBib3JkZXI6ICNkNjQxODYgMXB4IHNvbGlkOwogIGJvcmRlci1yYWRpdXM6IDVweDsKfQoucGFnZUNvbnRvcmwgewogIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgd2lkdGg6IDkwJTsKICBwYWRkaW5nLWxlZnQ6IDQ1JTsKICBib3R0b206IDQwcHg7Cn0KLnBhZ2VCdXR0b24gewogIG1hcmdpbjogNnB4OwogIHdpZHRoOiAxMnB4OwogIGhlaWdodDogMTJweDsKICBib3JkZXItcmFkaXVzOiAxMnB4OwogIGJhY2tncm91bmQ6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4zKTsKICBmbG9hdDogbGVmdDsKfQouYWN0aXZlIHsKICBiYWNrZ3JvdW5kOiByZ2IoMjU1LCAyNTUsIDI1NSwgMSk7Cn0KLnNlbmRDb250b3JsIHsKICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgei1pbmRleDogMTAwMDE7CiAgd2lkdGg6IDEyMHB4OwogIGhlaWdodDogMzRweDsKICByaWdodDogMTJweDsKICBib3R0b206IDEycHg7CiAgYm9yZGVyLXJhZGl1czogMzdweDsKICBib3JkZXI6ICNkNTQwOGEgMXB4IHNvbGlkOwogIHotaW5kZXg6IDIwMDAxOwp9Ci5udW1CdG4gewogIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICB3aWR0aDogNTAlOwogIGxlZnQ6IDBweDsKICBmb250LXNpemU6IDE0cHg7CiAgdGV4dC1hbGlnbjogY2VudGVyOwogIGxpbmUtaGVpZ2h0OiAzNHB4OwogIGNvbG9yOiAjZmZmOwp9Ci5zZW5kQnRuIHsKICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgd2lkdGg6IDUwJTsKICBiYWNrZ3JvdW5kOiAjZDU0MDhhOwogIGZvbnQtc2l6ZTogMTRweDsKICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgYm9yZGVyLXJhZGl1czogMHB4IDMwcHggMzBweCAwcHg7CiAgbGluZS1oZWlnaHQ6IDM0cHg7CiAgY29sb3I6ICNmZmY7CiAgcmlnaHQ6IDBweDsKfQoubnVtU2V0IHsKICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgYmFja2dyb3VuZDogI2ZmZjsKICBib3JkZXItcmFkaXVzOiA1cHg7CiAgZm9udC1zaXplOiAxMnB4OwogIHRleHQtYWxpZ246IGNlbnRlcjsKICBjb2xvcjogIzMzMzsKICB3aWR0aDogMTIzcHg7CiAgaGVpZ2h0OiAxOTVweDsKICB0b3A6IC0yMDBweDsKfQoubnVtU2V0SXRlbSB7CiAgd2lkdGg6IDkwJTsKICBoZWlnaHQ6IDI2cHg7CiAgbGluZS1oZWlnaHQ6IDI2cHg7CiAgbWFyZ2luOiAyJSBhdXRvIDIlIGF1dG87Cn0KLm51bUlucHV0IHsKICB0ZXh0LWFsaWduOiBjZW50ZXI7Cn0KLnNldEFjdGl2ZSB7CiAgYmFja2dyb3VuZDogcmdiYSgyMzMsIDQzLCAxMzYsIDAuNik7CiAgYm9yZGVyOiAxcHggI2Q1NDA4YSBzb2xpZDsKICBib3JkZXItcmFkaXVzOiA1cHg7Cn0K"},{"version":3,"sources":["giftPanel.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"giftPanel.vue","sourceRoot":"src/components/baseUi","sourcesContent":["<template>\n  <div class=\"giftpage\" v-if=\"isActive\">\n    <div class=\"shadow\" @click=\"hideGift\" />\n    <div class=\"giftContainer\">\n      <div class=\"sendTo\">\n        送给\n        <div\n          class=\"micPosition\"\n          v-for=\"(item, k) in micData\"\n          :key=\"k\"\n          @click=\"select(k)\"\n        >\n          <img\n            :src=\"\n              item['portrait']\n                ? defaultAddress + item['portrait']\n                : defaultAvatarUrl\n            \"\n            width=\"25px\"\n            height=\"25px\"\n            style=\"position: absolute; left: 5px; top: 4px; border-radius: 20px\"\n          />\n          <div\n            v-if=\"k == 0 && item['creatuser']\"\n            class=\"micNum w2\"\n            :class=\"{ isSelected: giftReceiver[k] }\"\n          >\n            房主\n          </div>\n          <div\n            v-if=\"k != 0 && !item['creatuser'] && !item['index']\"\n            class=\"micNum w1\"\n            :class=\"{ isSelected: giftReceiver[k] }\"\n          >\n            {{ k }}\n          </div>\n          <div\n            v-if=\"item['index']\"\n            class=\"micNum w1\"\n            :class=\"{ isSelected: giftReceiver[k] }\"\n          >\n            {{ k }}\n          </div>\n        </div>\n        <div\n          class=\"sendAll\"\n          v-if=\"micData.length > 1\"\n          @click=\"selectAll\"\n          :class=\"{ sendAll: isSendAll }\"\n        >\n          {{ isSendAll ? \"取消\" : \"全选\" }}\n        </div>\n      </div>\n      <div class=\"mainContainer\">\n        <div\n          class=\"giftPages\"\n          :style=\"{ left: i - currentPage + '00vw' }\"\n          v-for=\"(item, i) in giftPages\"\n          :key=\"i\"\n        >\n          <div\n            class=\"giftItems\"\n            v-for=\"(item, j) in giftPages[i]\"\n            :key=\"j\"\n            @click=\"selectGift(j, i)\"\n          >\n            <div\n              class=\"giftborder\"\n              :class=\"{ current: currentGiftPage == i && currentGift == j }\"\n            >\n              <img :src=\"item.url\" width=\"80px\" height=\"80px\" />\n              <div class=\"giftTitle\">{{ item.name }}</div>\n              <div class=\"giftPrice\">\n                <img\n                  :src=\"require('../../assets/gift/priceIcon.png')\"\n                  width=\"11px\"\n                  height=\"11px\"\n                  style=\"display: inline-block\"\n                />{{ item.price }}\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class=\"pageContorl\">\n        <div\n          class=\"pageButton\"\n          :class=\"{ active: currentPage == k }\"\n          :style=\"{ left: k + '8vw' }\"\n          v-for=\"(item, k) in giftPages\"\n          :key=\"k\"\n          @click=\"trunPage(k)\"\n        ></div>\n      </div>\n    </div>\n    <div class=\"sendContorl\">\n      <div class=\"numBtn\" @click=\"showSetPanel\">{{ currentNumSet }}</div>\n      <div class=\"sendBtn\" @click.stop=\"sendGift\">赠送</div>\n      <div class=\"numSet\" v-if=\"showSet\">\n        <input\n          class=\"numSetItem numInput\"\n          placeholder=\"自定义\"\n          type=\"number\"\n          max=\"9\"\n          @blur=\"setNum(customNum)\"\n          @change=\"setNum(customNum)\"\n          v-model=\"customNum\"\n        />\n        <div\n          class=\"numSetItem\"\n          :class=\"{ setActive: currentNum == item }\"\n          v-for=\"(item, n) in giftSet\"\n          :key=\"n\"\n          @click=\"setNum(item)\"\n        >\n          {{ item }}\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport giftData from \"./giftData.json\";\n// import micData from \"./micInfo.json\"; //mock麦位信息\nimport Request from \"../../request\";\nimport config from \"../../config\";\nexport default {\n  name: \"giftPanel\",\n  data: function () {\n    return {\n      giftReceiver: { 0: true },\n      giftPages: [],\n      giftList: giftData,\n      currentGift: 0, //当前选中礼物的编号\n      currentGiftPage: 0, //当前选中的礼物的页面编号\n      currentNum: 1, //当前赠送礼物数量\n      giftSet: [9999, 666, 99, 10, 1],\n      customNum: \"\", //自定义数量\n      showSet: false, //显示礼物设置\n      pageSize: 8,\n      numSet: [],\n      currentPage: 0,\n      micData: [],\n      isSendAll: false,\n      defaultAvatarUrl:\n        \"https://cdn.ronghub.com/demo/default/rce_default_avatar.png\",\n      defaultAddress: config.picPath,\n      // defaultAddress: \"/api/file/show?path=\",\n    };\n  },\n  props: {\n    isActive: Boolean,\n    roomId: String,\n  },\n  computed: {\n    currentNumSet: function () {\n      let str;\n      if (this.$data.showSet) {\n        str = \"x\" + this.$data.currentNum + \" \" + \"∨\";\n      } else {\n        str = \"x\" + this.$data.currentNum + \" \" + \"∧\";\n      }\n      return str;\n    },\n  },\n  created() {\n    for (var j = 0; j < giftData.length; j++) {\n      // eslint-disable-next-line no-undef\n      giftData[j].url = require(\"../../assets/gift/ic_present_\" + j + \".png\");\n    }\n    for (var i = 0; i < giftData.length / this.$data.pageSize; i++) {\n      this.$data.giftPages[i] = giftData.slice(i * 8, i * 8 + 8);\n    }\n  },\n  mounted() {\n    this.defaultAddress = this.$store.state.defaultAddress;\n  },\n  methods: {\n    showGift: function (item) {\n      this.micData = item;\n      this.currentGift = 0;\n      this.currentGiftPage = 0;\n      this.currentNum = 1;\n      this.giftReceiver = { 0: true };\n      this.showSet = false;\n      this.isSendAll = false;\n    },\n    sendGift: function () {\n      let numIndex = this.$data.currentGift;\n      if (this.$data.currentGiftPage == 1) {\n        numIndex = numIndex + 8;\n      }\n      if (this.isSendAll) {\n        if (\n          this.$RCLiveRoomLib.im &&\n          this.$RCLiveRoomLib.im.roomType == \"live\"\n        ) {\n          this.$RCLiveRoomLib.emit(\"MessageReceived\", {\n            //发本地\n            //模拟本地消息发送\n            messageType: \"RC:Chatroom:GiftAll\",\n            isOffLineMessage: false,\n            content: {\n              userId: this.$store.state.userInfo.userId, // 本人\n              userName: this.$store.state.userInfo.userName,\n              giftName: giftData[numIndex].name,\n              giftId: giftData[numIndex].id,\n              number: this.$data.currentNum,\n              price: giftData[numIndex].price,\n            },\n          });\n          let c = {\n            userId: this.$store.state.userInfo.userId, // 本人\n            userName: this.$store.state.userInfo.userName,\n            giftId: giftData[numIndex].id,\n            giftName: giftData[numIndex].name,\n            number: this.$data.currentNum,\n            price: giftData[numIndex].price,\n          };\n          this.$RCLiveRoomLib.im.messageUpdate(\"RC:Chatroom:GiftAll\", c); //发im\n        } else {\n          this.$RCVoiceRoomLib.emit(\"MessageReceived\", {\n            //发本地\n            //模拟本地消息发送\n            messageType: \"RC:Chatroom:GiftAll\",\n            isOffLineMessage: false,\n            content: {\n              userId: this.$store.state.userInfo.userId, // 本人\n              userName: this.$store.state.userInfo.userName,\n              giftName: giftData[numIndex].name,\n              giftId: giftData[numIndex].id,\n              number: this.$data.currentNum,\n              price: giftData[numIndex].price,\n            },\n          });\n          let c = {\n            userId: this.$store.state.userInfo.userId, // 本人\n            userName: this.$store.state.userInfo.userName,\n            giftId: giftData[numIndex].id,\n            giftName: giftData[numIndex].name,\n            number: this.$data.currentNum,\n            price: giftData[numIndex].price,\n          };\n          this.$RCVoiceRoomLib.im.messageUpdate(\"RC:Chatroom:GiftAll\", c); //发im\n        }\n      }\n\n      for (var i in this.$data.giftReceiver) {\n        if (!this.isSendAll) {\n          console.log(\"this.$store.state.userInfo.userId,\", this.micData);\n          if (\n            this.$RCLiveRoomLib.im &&\n            this.$RCLiveRoomLib.im.roomType == \"live\"\n          ) {\n            this.$RCLiveRoomLib.emit(\"onMessageReceived\", {\n              //发本地\n              //模拟本地消息发送\n\n              messageType: \"RC:Chatroom:Gift\",\n              isOffLineMessage: false,\n              content: {\n                userId: this.$store.state.userInfo.userId, // 本人\n                userName: this.$store.state.userInfo.userName,\n                targetName: this.micData[i].userName,\n                targetId: this.micData[i].userId,\n                giftName: giftData[numIndex].name,\n                number: this.$data.currentNum,\n              },\n            });\n            console.log(\"---,\");\n            let c = {\n              userId: this.$store.state.userInfo.userId, // 本人\n              userName: this.$store.state.userInfo.userName,\n              targetId: this.micData[i].userId,\n              targetName: this.micData[i].userName,\n              giftId: giftData[numIndex].id,\n              giftName: giftData[numIndex].name,\n              number: this.$data.currentNum,\n              price: giftData[numIndex].price,\n            };\n            console.log(\"rcgift=-=-=-=-=-=-\");\n            this.$RCLiveRoomLib.im.messageUpdate(\"RC:Chatroom:Gift\", c); //发im\n          } else {\n            this.$RCVoiceRoomLib.emit(\"MessageReceived\", {\n              //发本地\n              //模拟本地消息发送\n\n              messageType: \"RC:Chatroom:Gift\",\n              isOffLineMessage: false,\n              content: {\n                userId: this.$store.state.userInfo.userId, // 本人\n                userName: this.$store.state.userInfo.userName,\n                targetName: this.micData[i].userName,\n                targetId: this.micData[i].userId,\n                giftName: giftData[numIndex].name,\n                number: this.$data.currentNum,\n              },\n            });\n            let c = {\n              userId: this.$store.state.userInfo.userId, // 本人\n              userName: this.$store.state.userInfo.userName,\n              targetId: this.micData[i].userId,\n              targetName: this.micData[i].userName,\n              giftId: giftData[numIndex].id,\n              giftName: giftData[numIndex].name,\n              number: this.$data.currentNum,\n              price: giftData[numIndex].price,\n            };\n            this.$RCVoiceRoomLib.im.messageUpdate(\"RC:Chatroom:Gift\", c); //发im\n          }\n        }\n\n        let giftdata = {\n          giftId: giftData[numIndex].id,\n          num: this.$data.currentNum,\n          roomId: this.roomId,\n          toUid: this.micData[i].userId,\n        };\n        console.log(\"礼物发送数据：\", giftdata);\n        Request.sendGift(giftdata).then(async (res) => {\n          //发服务端\n          // console.log(\"发送礼物接口成功\", res);\n          if (res.data.code == 10000) {\n            this.$emit(\"sendGiftSuccess\");\n          }\n        });\n      }\n\n      this.$emit(\"hideGift\");\n    },\n    hideGift: function () {\n      // console.log(\"ckd\");\n      this.$emit(\"hideGift\");\n    },\n    trunPage: function (p) {\n      // console.log(\"传入当前页面:\", p);\n      this.$data.currentPage = p;\n      this.$forceUpdate();\n    },\n    select: function (k) {\n      // console.log(this.$data.giftReceiver);\n      if (this.$data.giftReceiver[k]) {\n        delete this.$data.giftReceiver[k];\n      } else {\n        this.$data.giftReceiver[k] = true;\n      }\n      if (Object.keys(this.giftReceiver).length == this.micData.length) {\n        this.isSendAll = true;\n      } else {\n        this.isSendAll = false;\n      }\n      this.$forceUpdate();\n    },\n    selectAll: function () {\n      if (this.$data.isSendAll) {\n        this.$data.isSendAll = false;\n      } else {\n        this.$data.isSendAll = true;\n      }\n      for (var i = 0; i < this.micData.length; i++) {\n        if (this.$data.isSendAll) {\n          this.$data.giftReceiver[i] = true;\n        } else {\n          delete this.$data.giftReceiver[i];\n        }\n      }\n\n      this.$forceUpdate();\n    },\n    selectGift: function (num, page) {\n      // console.log(num, page);\n      this.$data.currentGift = num;\n      this.$data.currentGiftPage = page;\n    },\n    showSetPanel: function () {\n      if (this.$data.showSet) {\n        this.$data.showSet = false;\n      } else {\n        this.$data.showSet = true;\n      }\n    },\n    setNum: function (k) {\n      console.log(\"setgiftNum:\", k);\n      if (k == \"\") {\n        k = 1;\n      }\n      this.$data.currentNum = k;\n    },\n  },\n};\n</script>\n<style scoped>\n.sendTo {\n  width: 100%;\n  height: 50px;\n  line-height: 50px;\n  font-size: 14px;\n  color: #fff;\n  background: rgb(255, 255, 255, 0.16);\n}\n.sendAll {\n  position: absolute;\n  width: 55px;\n  height: 31px;\n  right: 12px;\n  line-height: 31px;\n  text-align: center;\n  top: 9px;\n  border: #fff 1px solid;\n  border-radius: 20px;\n  background: #333;\n}\n.micPosition {\n  width: 35px;\n  height: 50px;\n  display: inline-block;\n  text-align: center;\n  position: relative;\n}\n.micNum {\n  width: fit-content;\n  text-align: center;\n  line-height: 16px;\n  font-size: 10px;\n  margin-top: 30px;\n  margin-left: auto;\n  margin-right: auto;\n  background: rgba(3, 6, 47, 0.4);\n  border-radius: 17px;\n}\n.w2 {\n  width: 34px;\n}\n.w1 {\n  width: 17px;\n}\n.isSelected {\n  background: #d64186;\n}\n.giftpage {\n  position: absolute;\n  top: 0px;\n  z-index: 20000;\n  width: 375px;\n  height: 100vh;\n  min-width: none;\n}\n.shadow {\n  position: absolute;\n  top: 0px;\n  width: 100%;\n  height: calc(100vh - 350px);\n  background: rgb(0, 0, 0, 0.5);\n}\n.giftContainer {\n  position: absolute;\n  bottom: 0px;\n  height: 350px;\n  width: 100%;\n  background: linear-gradient(90deg, #d5408a -186.8%, #1a1d3d 69.32%);\n  z-index: 100;\n}\n.mainContainer {\n  position: absolute;\n  width: 100%;\n  top: 50px;\n  height: 250px;\n  overflow: hidden;\n}\n.giftPages {\n  position: absolute;\n  font-size: 12px;\n  width: 100%;\n}\n.giftItems {\n  position: relative;\n  float: left;\n  width: 23%;\n  height: 110px;\n  margin: 1%;\n  color: #fff;\n  text-align: center;\n}\n.giftborder {\n  border: none;\n  border-radius: 5px;\n}\n.giftTitle {\n  margin-top: -7px;\n}\n.current {\n  border: #d64186 1px solid;\n  border-radius: 5px;\n}\n.pageContorl {\n  position: absolute;\n  text-align: center;\n  width: 90%;\n  padding-left: 45%;\n  bottom: 40px;\n}\n.pageButton {\n  margin: 6px;\n  width: 12px;\n  height: 12px;\n  border-radius: 12px;\n  background: rgba(255, 255, 255, 0.3);\n  float: left;\n}\n.active {\n  background: rgb(255, 255, 255, 1);\n}\n.sendContorl {\n  position: absolute;\n  z-index: 10001;\n  width: 120px;\n  height: 34px;\n  right: 12px;\n  bottom: 12px;\n  border-radius: 37px;\n  border: #d5408a 1px solid;\n  z-index: 20001;\n}\n.numBtn {\n  position: absolute;\n  width: 50%;\n  left: 0px;\n  font-size: 14px;\n  text-align: center;\n  line-height: 34px;\n  color: #fff;\n}\n.sendBtn {\n  position: absolute;\n  width: 50%;\n  background: #d5408a;\n  font-size: 14px;\n  text-align: center;\n  border-radius: 0px 30px 30px 0px;\n  line-height: 34px;\n  color: #fff;\n  right: 0px;\n}\n.numSet {\n  position: absolute;\n  background: #fff;\n  border-radius: 5px;\n  font-size: 12px;\n  text-align: center;\n  color: #333;\n  width: 123px;\n  height: 195px;\n  top: -200px;\n}\n.numSetItem {\n  width: 90%;\n  height: 26px;\n  line-height: 26px;\n  margin: 2% auto 2% auto;\n}\n.numInput {\n  text-align: center;\n}\n.setActive {\n  background: rgba(233, 43, 136, 0.6);\n  border: 1px #d5408a solid;\n  border-radius: 5px;\n}\n</style>"]}]}