{"remainingRequest":"/Users/cuifengbo/work/RCRTC-Git/rcrtc-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/cuifengbo/work/RCRTC-Git/rcrtc-web/src/pages/house/index.vue?vue&type=style&index=0&id=2b86f623&scoped=true&lang=css&","dependencies":[{"path":"/Users/cuifengbo/work/RCRTC-Git/rcrtc-web/src/pages/house/index.vue","mtime":1648104828599},{"path":"/Users/cuifengbo/work/RCRTC-Git/rcrtc-web/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/cuifengbo/work/RCRTC-Git/rcrtc-web/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/cuifengbo/work/RCRTC-Git/rcrtc-web/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/cuifengbo/work/RCRTC-Git/rcrtc-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/cuifengbo/work/RCRTC-Git/rcrtc-web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgpAaW1wb3J0IHVybCgiLi9pbmRleC5jc3MiKTsK"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8uCA","file":"index.vue","sourceRoot":"src/pages/house","sourcesContent":["<template>\n  <div>\n    <div\n      class=\"house\"\n      id=\"house\"\n      :style=\"{\n        filter: 'blur(' + houseFilter + 'px)',\n        backgroundImage: 'url(' + this.$store.state.roomBackground + ')',\n      }\"\n    >\n      <div class=\"top\">\n        <div\n          @click=\"openUserList\"\n          class=\"top-left\"\n          :style=\"{ filter: 'blur(' + topFilter + 'px)' }\"\n        >\n          <span class=\"top-left-name\">{{ setRoomTitle() }}</span>\n          <div class=\"top-left-foot\">\n            <span class=\"top-left-id\">ID </span>\n            <span class=\"top-left-id-num\">{{\n              this.$store.state.roomInformation.id\n            }}</span>\n            <span class=\"top-left-online\">在线</span>\n            <span class=\"top-left-online-num\">{{\n              this.$store.state.roomUserList\n                ? this.$store.state.roomUserList.length\n                : 0\n            }}</span>\n          </div>\n        </div>\n        <div\n          @click=\"clickTopRight\"\n          :class=\"BackClass\"\n          :style=\"{ filter: 'blur(' + topFilter + 'px)' }\"\n        ></div>\n      </div>\n      <div class=\"center\">\n        <div\n          class=\"center-top\"\n          :style=\"{ filter: 'blur(' + topFilter + 'px)' }\"\n        >\n          <div @click=\"clickNotice\" class=\"center-top-notice\"></div>\n        </div>\n        <div class=\"homeowner\">\n          <div class=\"homeowner-Templat\">\n            <div\n              class=\"homeowner-Templat-img\"\n              :style=\"\n                houserMap['userId']\n                  ? {\n                      backgroundImage:\n                        'linear-gradient(#FF0000 0%, #0000cc 100%)',\n                    }\n                  : {}\n              \"\n            >\n              <!-- <div\n                v-if=\"OwerMute && houserMap['userId']\"\n                class=\"circle\"\n                :class=\"circlemove\"\n              ></div>\n              <div\n                v-if=\"OwerMute && houserMap['userId']\"\n                class=\"circle2\"\n                :class=\"circle2move\"\n              ></div> -->\n              <div v-if=\"OwerMute\" class=\"image-mute\"></div>\n              <el-image\n                class=\"image-ower\"\n                fit=\"cover\"\n                @click=\"seatWave\"\n                :src=\"\n                  houserMap['userId']\n                    ? houserMap['portrait']\n                      ? this.$store.state.defaultAddress + houserMap['portrait']\n                      : this.$store.state.defaultAvatarUrl\n                    : homeOwerImg\n                \"\n              >\n              </el-image>\n            </div>\n            <div class=\"homeowner-Templat-name\">\n              <span\n                class=\"homeowner-Templat-Administrators\"\n                :style=\"{\n                  backgroundImage: Administrators,\n                  paddingLeft: '0.14rem',\n                }\"\n                >{{ houserMap[\"userName\"] }}</span\n              >\n            </div>\n            <span class=\"homeowner-Templat-gift\">\n              <span class=\"homeowner-Templat-gift-text\">{{\n                houserMap[\"gift\"] ? houserMap[\"gift\"] : 0\n              }}</span>\n            </span>\n          </div>\n        </div>\n        <div class=\"audience\">\n          <div class=\"audience-fa\">\n            <div v-for=\"(item, i) in itemList\" :key=\"i\" class=\"audience-item\">\n              <Seat :item=\"item\" @clickSeat=\"clickSeat\" />\n            </div>\n          </div>\n        </div>\n      </div>\n      <!-- <el-button\n        @click=\"getSeatInfolist\"\n        type=\"primary\"\n        style=\"margin-left: 16px\"\n      >\n        获取远程数据\n      </el-button> -->\n      <div class=\"room-talk\">\n        <liveChat\n          ref=\"chatroom\"\n          @nameClick=\"nameClick\"\n          :top=\"talkTop\"\n          :height=\"talkHeight\"\n        />\n      </div>\n      <bottomBar\n        @msgOut=\"msgOut\"\n        @btnGift=\"btnGift\"\n        @ApplyWeatModel=\"ConnectMic\"\n        @ApplyWeat=\"ApplyWeat\"\n        @SetupModel=\"ConnectOperation\"\n        ref=\"bottomBar\"\n      ></bottomBar>\n    </div>\n    <UserList\n      ref=\"UserList\"\n      @onCloseUserList=\"onCloseUserList\"\n      @onClickUserList=\"onClickUserList\"\n    />\n    <RoomBack ref=\"RoomBack\" @RoomBackClose=\"onRoomBackClose\" />\n    <RoomFit ref=\"RoomFit\" :RoomFitItemList=\"RoomFitItemList\" />\n    <Notice ref=\"Notice\" />\n    <ConnetWeat ref=\"ConnetWeat\" />\n    <UserClickOwner ref=\"UserClickOwner\" @UserInforMute=\"UserInforMute\" />\n    <UserClickSeizeSeat\n      ref=\"UserClickSeizeSeat\"\n      @giftClick=\"giftClick\"\n      @SeatAdminChange=\"SeatAdminChange\"\n    />\n    <AdminClickOther ref=\"AdminClickOther\" @giftClick=\"giftClick\" />\n    <UserClickEmptySeat\n      ref=\"UserClickEmptySeat\"\n      @clickInvitation=\"clickInvitation\"\n    />\n    <AudienceClickOwer ref=\"AudienceClickOwer\" />\n    <AudienceClickSeizeSeat\n      ref=\"AudienceClickSeizeSeat\"\n      @giftClick=\"giftClick\"\n    />\n    <CancelEvenSeat ref=\"CancelEvenSeat\" />\n\n    <!-- <RoomBack ref=\"RoomBack\" @RoomBackClose=\"onRoomBackClose\" /> -->\n    <!-- 接入gift -->\n    <giftPanel\n      @hideGift=\"hideGift\"\n      @sendGiftSuccess=\"sendGiftSuccess\"\n      :isActive=\"showGift\"\n      :roomId=\"roomId\"\n      ref=\"giftPanel\"\n    ></giftPanel>\n  </div>\n</template> \n\n<script>\nimport UserList from \"../../components/room/UserList.vue\";\nimport RoomBack from \"../../components/room/RoomBack.vue\";\nimport Seat from \"../../components/room/seat.vue\";\nimport RoomFit from \"../../components/RoomFit.vue\";\nimport Notice from \"../../components/room/Notice.vue\";\nimport ConnetWeat from \"../../components/room/ConnetWeat.vue\";\nimport UserClickOwner from \"../../components/seat/userClickOwner.vue\";\nimport UserClickSeizeSeat from \"../../components/seat/userClickSeizeSeat.vue\";\nimport AdminClickOther from \"../../components/seat/AdminClickOther.vue\";\nimport UserClickEmptySeat from \"../../components/seat/userClickEmptySeat.vue\";\nimport AudienceClickOwer from \"../../components/seat/audienceClickOwer.vue\";\nimport AudienceClickSeizeSeat from \"../../components/seat/audieClickSeizeSeat.vue\";\nimport CancelEvenSeat from \"../../components/room/CancelEvenSeat.vue\";\n//接入\nimport liveChat from \"../../components/baseUi/liveChat.vue\";\nimport bottomBar from \"../../components/baseUi/bottomBar.vue\";\nimport giftPanel from \"../../components/baseUi/giftPanel.vue\";\n\nimport {\n  RoomFitItemList,\n  BackList,\n  muteAndInset,\n  unmuteAndInset,\n  emptyMuteAndLock,\n  emptyMuteAndUnlock,\n  emptyUnmuteAndLock,\n  emptyUnmuteAndUnlock,\n  isAdminAndInset,\n  outset,\n} from \"./static.js\";\nimport request from \"../../request/index\";\nexport default {\n  name: \"House\",\n  data: function () {\n    return {\n      tabStretch: true,\n      activeName: \"first\",\n      circlemove: \"\",\n      circle2move: \"\",\n      keepMove: true,\n      houseFilter: 0,\n      BackClass: \"top-right\",\n      creatuser: false,\n      topFilter: 0,\n      OwerMute: false,\n      houserMap: {},\n      roomId: \"\",\n      seatInfo: {\n        mute: false,\n        speaking: false,\n        status: \"0\",\n        userId: \"\",\n      },\n      GiftAndManageList: {\n        GiftObj: {},\n        ManageObj: {},\n      },\n      Administrators:\n        // eslint-disable-next-line no-undef\n        \"url(\" + require(\"../../assets/roomicon/administrators.png\") + \")\",\n      // eslint-disable-next-line no-undef\n      homeOwerImg: require(\"../../assets/roomicon/OwerIcon.png\"),\n      // eslint-disable-next-line no-undef\n      OwerImg: require(\"../../assets/DefaultImg.png\"),\n      RoomFitItemList: [],\n      itemList: [],\n      dblclickPage: false,\n      talkTop: 64.5,\n      talkHeight: 28,\n      //接入\n      showGift: false,\n    };\n  },\n  props: {\n    msg: String,\n  },\n  components: {\n    UserList,\n    RoomBack,\n    Seat,\n    RoomFit,\n    Notice,\n    ConnetWeat,\n    UserClickOwner,\n    UserClickSeizeSeat,\n    AdminClickOther,\n    UserClickEmptySeat,\n    AudienceClickOwer,\n    AudienceClickSeizeSeat,\n    CancelEvenSeat,\n    //接入\n    liveChat,\n    bottomBar,\n    giftPanel,\n  },\n  methods: {\n    getSeatInfolist: async function () {\n      const list = await this.$RCVoiceRoomLib.getLatestSeatInfo();\n      console.log(list);\n      console.log(this.$RCVoiceRoomLib);\n    },\n\n    //设置房间title\n    setRoomTitle: function () {\n      let title;\n      if (this.$store.state.roomTitle == \"undefined\") {\n        title = this.$store.state.roomInformation.roomName;\n      } else {\n        title = this.$store.state.roomTitle;\n      }\n      // console.log(title);\n      if (title) {\n        if (title.length > 10) {\n          return title.substring(0, 10) + \"...\";\n        } else {\n          return title;\n        }\n      } else {\n        return \"\";\n      }\n    },\n\n    //打开用户列表\n    openUserList: function () {\n      request\n        .roomuser({\n          roomId: this.$RCVoiceRoomLib._roomidcli,\n        })\n        .then((res) => {\n          this.$store.dispatch(\"getRoomUserList\", res.data.data);\n        });\n      this.houseFilter = 5;\n      this.$refs.UserList.openUserList();\n    },\n\n    //关闭用户列表\n    onCloseUserList: function () {\n      this.houseFilter = 0;\n    },\n\n    //点击用户列表\n    onClickUserList: function (item) {\n      if (!item[\"portrait\"] && \"length\" in this.$store.state.roomUserList) {\n        for (\n          let index = 0;\n          index < this.$store.state.roomUserList.length;\n          index++\n        ) {\n          if (\n            item[\"userId\"] == this.$store.state.roomUserList[index][\"userId\"]\n          ) {\n            item = {\n              ...item,\n              ...this.$store.state.roomUserList[index],\n            };\n            break;\n          }\n        }\n      }\n\n      const ManageObj = this.$store.state.GiftAndManageList[\"ManageObj\"] || {};\n      if (item.userId == this.$RCVoiceRoomLib.im.userId) {\n        return;\n      }\n      const array = [...this.$store.state.itemList];\n\n      if (this.$store.state.creatUser) {\n        //房主操作\n        for (let i = 0; i < array.length; i++) {\n          if (array[i][\"userId\"] == item.userId) {\n            if (array[i][\"mute\"]) {\n              this.$refs.UserClickSeizeSeat.UserClickSeizeSeatOpen({\n                item: array[i],\n                value: muteAndInset,\n              });\n            } else {\n              this.$refs.UserClickSeizeSeat.UserClickSeizeSeatOpen({\n                item: array[i],\n                value: unmuteAndInset,\n              });\n            }\n            break;\n          }\n          if (i == array.length - 1) {\n            this.$refs.UserClickSeizeSeat.UserClickSeizeSeatOpen({\n              item: item,\n              value: outset,\n            });\n          }\n        }\n      } else {\n        //房间其余用户操作\n        if (\n          item.userId in ManageObj ||\n          item.userId == this.$store.state.roomInformation.createUser.userId\n        ) {\n          this.$refs.AudienceClickSeizeSeat.audienceClickSeizeSeatOpen(item);\n          return;\n        }\n        if (this.$store.state.TheRoomAdmin) {\n          for (let i = 0; i < array.length; i++) {\n            if (array[i][\"userId\"] == item.userId) {\n              this.$refs.AdminClickOther.AdminClickOtherOpen({\n                item: item,\n                value: isAdminAndInset,\n              });\n              return;\n            }\n            if (i == array.length - 1) {\n              this.$refs.AdminClickOther.AdminClickOtherOpen({\n                item: item,\n                value: outset,\n              });\n            }\n          }\n        } else {\n          this.$refs.AudienceClickSeizeSeat.audienceClickSeizeSeatOpen(item);\n        }\n      }\n    },\n\n    onRoomBackClose: function () {\n      this.topFilter = 0;\n    },\n\n    //点击右上角\n    clickTopRight: async function () {\n      // console.log(this.creatuser);\n      if (this.creatuser) {\n        this.$refs.RoomBack.RoomBackOpen(BackList);\n        this.topFilter = 5;\n      } else {\n        try {\n          await this.$RCVoiceRoomLib.leaveRoom(this.$RCVoiceRoomLib._roomidcli);\n          this.$router.go(-1);\n        } catch (error) {\n          this.$store.dispatch(\"showToast\", {\n            value: \"离开房间失败\",\n          });\n          console.log(error);\n        }\n      }\n    },\n\n    //打开公告\n    clickNotice: function () {\n      this.$refs.Notice.setPopup({\n        isShow: false,\n        value: this.$RCVoiceRoomLib.roomInfo[\"extra\"]\n          ? this.$RCVoiceRoomLib.roomInfo[\"extra\"]\n          : \"欢迎来到 \" + this.$RCVoiceRoomLib.roomInfo[\"roomName\"],\n      });\n    },\n\n    ConnectMic: function () {\n      this.$refs.ConnetWeat.openConnetWheat(false);\n    },\n\n    //房主设置状态控制\n    ConnectOperation: function () {\n      // console.log(this.$RCVoiceRoomLib.roomInfo);\n      const RoomFitList = [...RoomFitItemList];\n      if (this.$store.state.roomPrivate.isPrivate == 1) {\n        RoomFitList[0] = {\n          value: \"房间解锁\",\n          img:\n            // eslint-disable-next-line no-undef\n            \"url(\" + require(\"../../assets/roomicon/UnLockRoom.png\") + \")\",\n        };\n      }\n      if (this.$RCVoiceRoomLib.roomInfo.isFreeEnterSeat) {\n        RoomFitList[4] = {\n          value: \"申请上麦\",\n          // eslint-disable-next-line no-undef\n          img: \"url(\" + require(\"../../assets/roomicon/BApplyWheat.png\") + \")\",\n        };\n      }\n      if (this.$RCVoiceRoomLib.roomInfo.isMuteAll) {\n        RoomFitList[5] = {\n          value: \"解锁全麦\",\n          img:\n            // eslint-disable-next-line no-undef\n            \"url(\" + require(\"../../assets/roomicon/UnMuteAllSeat.png\") + \")\",\n        };\n      }\n      if (this.$RCVoiceRoomLib.roomInfo.isLockAll) {\n        RoomFitList[6] = {\n          value: \"解锁全座\",\n          img:\n            // eslint-disable-next-line no-undef\n            \"url(\" + require(\"../../assets/roomicon/UnlockAllSeat.png\") + \")\",\n        };\n      }\n\n      if (this.$store.state.muteMicrophone) {\n        RoomFitList[7] = {\n          value: \"取消静音\",\n          // eslint-disable-next-line no-undef\n          img: \"url(\" + require(\"../../assets/roomicon/UnMuteOne.png\") + \")\",\n        };\n      }\n      if (this.$RCVoiceRoomLib.roomInfo.seatCount == 5) {\n        RoomFitList[8] = {\n          value: \"设置8个座位\",\n          img:\n            // eslint-disable-next-line no-undef\n            \"url(\" + require(\"../../assets/roomicon/BSetEightSeats.png\") + \")\",\n        };\n      }\n      this.RoomFitItemList = RoomFitList;\n      this.$refs.RoomFit.openRoomFit();\n    },\n\n    //同步房主静音状态\n    UserInforMute: function (b) {\n      this.OwerMute = b;\n    },\n\n    //空座位跳转邀请用户\n    clickInvitation: function () {\n      this.$refs.ConnetWeat.openConnetWheat(true);\n    },\n\n    //设置座位List\n    SetSeatList: async function (resValue) {\n      this.houserMap = {};\n      let roomUserListMap = {};\n      this.itemList = [];\n      if (\n        !this.$store.state.roomUserList ||\n        this.$store.state.roomUserList.length == 0\n      ) {\n        return;\n      }\n\n      if (!this.$RCVoiceRoomLib.seatInfoList[0]) {\n        this.$RCVoiceRoomLib.seatInfoList[0] = {\n          ...this.seatInfo,\n        };\n        this.$RCVoiceRoomLib.seatInfoList[0][\"status\"] = 1;\n        this.$RCVoiceRoomLib.seatInfoList[0][\"userId\"] =\n          this.$store.state.roomInformation.createUser.userId;\n      }\n      for (let m = 0; m < this.$store.state.roomUserList.length; m += 1) {\n        roomUserListMap[this.$store.state.roomUserList[m][\"userId\"]] =\n          this.$store.state.roomUserList[m];\n      }\n\n      // if (this.$RCVoiceRoomLib.seatInfoList[0][\"mute\"] != !this.OwerMute) {\n      //   this.OwerMute = !this.$RCVoiceRoomLib.seatInfoList[0][\"mute\"];\n      // }\n\n      if (\n        this.$RCVoiceRoomLib.seatInfoList[0][\"extra\"] &&\n        JSON.parse(this.$RCVoiceRoomLib.seatInfoList[0][\"extra\"])[\n          \"disableRecording\"\n        ]\n      ) {\n        this.OwerMute = true;\n      } else {\n        this.OwerMute = false;\n      }\n\n      if (\n        this.$RCVoiceRoomLib.seatInfoList[0][\"userId\"] &&\n        this.$RCVoiceRoomLib.seatInfoList[0][\"userId\"] in roomUserListMap\n      ) {\n        this.houserMap = {\n          ...roomUserListMap[this.$RCVoiceRoomLib.seatInfoList[0][\"userId\"]],\n        };\n      }\n\n      if (\n        this.$RCVoiceRoomLib.seatInfoList[0][\"userId\"] &&\n        this.$RCVoiceRoomLib.seatInfoList[0][\"userId\"] in resValue.GiftObj\n      ) {\n        this.houserMap = {\n          ...this.houserMap,\n          gift: resValue.GiftObj[\n            this.$RCVoiceRoomLib.seatInfoList[0][\"userId\"]\n          ],\n        };\n      }\n\n      this.houserMap = {\n        ...this.houserMap,\n        ...this.$RCVoiceRoomLib.seatInfoList[0],\n      };\n\n      let arr = [];\n\n      let seatCountNumber = 9;\n      if (\n        this.$RCVoiceRoomLib.roomInfo &&\n        this.$RCVoiceRoomLib.roomInfo.seatCount != 9\n      ) {\n        seatCountNumber = this.$RCVoiceRoomLib.roomInfo.seatCount;\n      }\n      for (let p = 1; p < seatCountNumber; p += 1) {\n        let OtherMap = {};\n        if (\n          this.$RCVoiceRoomLib.seatInfoList[p] &&\n          this.$RCVoiceRoomLib.seatInfoList[p][\"userId\"]\n        ) {\n          if (\n            this.$RCVoiceRoomLib.seatInfoList[p][\"userId\"] in roomUserListMap\n          ) {\n            OtherMap = {\n              ...roomUserListMap[\n                this.$RCVoiceRoomLib.seatInfoList[p][\"userId\"]\n              ],\n            };\n          }\n\n          if (\n            this.$RCVoiceRoomLib.seatInfoList[p][\"userId\"] in resValue.ManageObj\n          ) {\n            OtherMap = {\n              ...OtherMap,\n              isAdmin: true,\n            };\n          }\n\n          if (\n            this.$RCVoiceRoomLib.seatInfoList[p][\"userId\"] in resValue.GiftObj\n          ) {\n            OtherMap = {\n              ...OtherMap,\n              gift: resValue.GiftObj[\n                this.$RCVoiceRoomLib.seatInfoList[p][\"userId\"]\n              ],\n            };\n          }\n        }\n\n        if (this.$RCVoiceRoomLib.seatInfoList[p]) {\n          arr.push({\n            ...OtherMap,\n            ...this.$RCVoiceRoomLib.seatInfoList[p],\n            index: p,\n          });\n        } else {\n          this.$RCVoiceRoomLib.seatInfoList[p] = {\n            ...this.seatInfo,\n          };\n          arr.push({\n            ...OtherMap,\n            ...this.seatInfo,\n            index: p,\n          });\n        }\n      }\n      for (let index = 0; index < arr.length; index += 1) {\n        if (this.$RCVoiceRoomLib.im.userId == arr[index].userId) {\n          this.$store.dispatch(\"updateuserInseat\", true);\n          break;\n        }\n        if (index == arr.length - 1) {\n          this.$store.dispatch(\"updateuserInseat\", false);\n        }\n      }\n      this.itemList = arr;\n      this.$store.dispatch(\"updateItemList\", arr);\n    },\n\n    //礼物请求获取数据\n    getGiftList: function () {\n      console.log(this.$RCVoiceRoomLib._roomidcli);\n      return request\n        .getGiftList({\n          roomId: this.$RCVoiceRoomLib._roomidcli,\n        })\n        .then(async (res) => {\n          let GiftObj = {};\n          if (res.data.code == 10000 && res.data.data.length > 0) {\n            for (let i = 0; i < res.data.data.length; i += 1) {\n              GiftObj = {\n                ...GiftObj,\n                ...res.data.data[i],\n              };\n            }\n          }\n          return { GiftObj: GiftObj };\n        });\n    },\n\n    //获取管理员数据\n    getManageList: function () {\n      return request\n        .manageList({\n          roomId: this.$RCVoiceRoomLib._roomidcli,\n        })\n        .then(async (res) => {\n          let ManageObj = {};\n          if (res.data.code == 10000 && res.data.data.length > 0) {\n            for (let i = 0; i < res.data.data.length; i += 1) {\n              ManageObj[res.data.data[i][\"userId\"]] = res.data.data[i];\n            }\n          }\n          return { ManageObj: ManageObj };\n        });\n    },\n\n    //房主点击自己座位\n    seatWave: async function () {\n      const UserList = JSON.parse(\n        JSON.stringify(this.$store.state.roomUserList)\n      );\n\n      if (!this.creatuser) {\n        return;\n      }\n      if (\n        this.$RCVoiceRoomLib.seatInfoList[0][\"status\"] == 1 &&\n        this.$RCVoiceRoomLib.seatInfoList[0][\"userId\"]\n      ) {\n        let item = this.$RCVoiceRoomLib.seatInfoList[0];\n        for (let i = 0; i < UserList.length; i += 1) {\n          if (\n            UserList[i][\"userId\"] ==\n            this.$RCVoiceRoomLib.seatInfoList[0][\"userId\"]\n          ) {\n            item = {\n              ...item,\n              ...UserList[i],\n              index: 0,\n            };\n            this.$refs.UserClickOwner.userClickOwnerOpen(item);\n            break;\n          }\n        }\n      } else {\n        await this.$RCVoiceRoomLib.enterSeat(0);\n        this.SetSeatList(this.$store.state.GiftAndManageList);\n      }\n    },\n\n    //礼物更新\n    sendGiftSuccess: async function () {\n      const gift = await this.getGiftList();\n      this.updateAdminAndGift(gift);\n    },\n\n    //管理员控制(房主)\n    SeatAdminChange: async function () {\n      const Manage = await this.getManageList();\n      // console.log(Manage);\n      this.updateAdminAndGift(Manage);\n    },\n\n    //更新礼物和管理员\n    updateAdminAndGift: function (item) {\n      this.$store\n        .dispatch(\"getGiftAndManageList\", {\n          ...this.$store.state.GiftAndManageList,\n          ...item,\n        })\n        .then(() => {\n          this.SetSeatList(this.$store.state.GiftAndManageList);\n        });\n    },\n\n    //点击座位\n    clickSeat: async function (item) {\n      if (this.creatuser) {\n        if (item[\"userId\"]) {\n          if (item[\"mute\"]) {\n            this.$refs.UserClickSeizeSeat.UserClickSeizeSeatOpen({\n              item: item,\n              value: muteAndInset,\n            });\n          } else {\n            this.$refs.UserClickSeizeSeat.UserClickSeizeSeatOpen({\n              item: item,\n              value: unmuteAndInset,\n            });\n          }\n        } else {\n          if (item[\"mute\"]) {\n            if (item[\"status\"] == 2) {\n              this.$refs.UserClickEmptySeat.UserClickEmptySeatOpen({\n                item: item,\n                value: emptyMuteAndLock,\n              });\n            } else if (item[\"status\"] == 0) {\n              this.$refs.UserClickEmptySeat.UserClickEmptySeatOpen({\n                item: item,\n                value: emptyMuteAndUnlock,\n              });\n            }\n          } else {\n            if (item[\"status\"] == 2) {\n              this.$refs.UserClickEmptySeat.UserClickEmptySeatOpen({\n                item: item,\n                value: emptyUnmuteAndLock,\n              });\n            } else if (item[\"status\"] == 0) {\n              this.$refs.UserClickEmptySeat.UserClickEmptySeatOpen({\n                item: item,\n                value: emptyUnmuteAndUnlock,\n              });\n            }\n          }\n        }\n      } else {\n        if (item[\"status\"] && item[\"status\"] == 2) {\n          this.$store.dispatch(\"showToast\", { value: \"该座位已锁定\" });\n          return;\n        } else if (item[\"status\"] && item[\"status\"] == 1) {\n          //座位有人\n          if (this.$RCVoiceRoomLib.im.userId == item[\"userId\"]) {\n            this.$refs.AudienceClickOwer.audienceClickOwerOpen(item);\n            return;\n          } else {\n            if (item.isAdmin) {\n              this.$refs.AudienceClickSeizeSeat.audienceClickSeizeSeatOpen(\n                item\n              );\n              return;\n            }\n            if (\n              this.$RCVoiceRoomLib.im.userId in\n              this.GiftAndManageList[\"ManageObj\"]\n            ) {\n              this.$refs.AdminClickOther.AdminClickOtherOpen({\n                item: item,\n                value: isAdminAndInset,\n              });\n            } else {\n              this.$refs.AudienceClickSeizeSeat.audienceClickSeizeSeatOpen(\n                item\n              );\n            }\n            return;\n          }\n        } else {\n          //观众空座位\n          const array = [...this.$store.state.itemList];\n          for (let i = 0; i < array.length; i++) {\n            if (\n              array[i][\"userId\"] == this.$RCVoiceRoomLib.im.userId &&\n              i + 1 != item[\"index\"]\n            ) {\n              try {\n                await this.$RCVoiceRoomLib.switchSeatTo(item[\"index\"]);\n                setTimeout(() => {\n                  this.$store.dispatch(\"getSeatInfoList\");\n                }, 50);\n              } catch (error) {\n                this.$store.dispatch(\"showToast\", {\n                  value: \"跳麦失败\",\n                });\n                console.log(error);\n              }\n\n              break;\n            }\n            if (i == array.length - 1) {\n              if (this.$RCVoiceRoomLib.roomInfo.isFreeEnterSeat) {\n                try {\n                  await this.$RCVoiceRoomLib.enterSeat(item[\"index\"]);\n                  setTimeout(() => {\n                    this.$store.dispatch(\"showToast\", {\n                      value: \"上麦成功\",\n                    });\n                    this.$store.dispatch(\"getSeatInfoList\");\n                  }, 50);\n                } catch (error) {\n                  this.$store.dispatch(\"showToast\", {\n                    value: \"上麦失败\",\n                  });\n                  console.log(error);\n                }\n              } else {\n                const len = await this.$RCVoiceRoomLib.getRequestSeatUserIds();\n                this.$store.dispatch(\"getRequestSeatUserIds\", len);\n                // console.log(len);\n                if (len.length > 20) {\n                  this.$store.dispatch(\"showToast\", {\n                    value: \"排麦人数太多,排麦失败\",\n                  });\n                  return;\n                }\n                for (let i = 0; i < len.length; i += 1) {\n                  if (len[i] == this.$RCVoiceRoomLib.im.userId) {\n                    this.$store.dispatch(\"showToast\", {\n                      value: \"已经在排麦列表中了\",\n                    });\n                    return;\n                  }\n                }\n                // console.log(bor);\n                await this.$RCVoiceRoomLib.requestSeat();\n                this.$store.dispatch(\"showToast\", {\n                  value: \"已申请连线，等待房主接受\",\n                });\n                setTimeout(() => {\n                  this.$store.dispatch(\"userHasApply\", true);\n                }, 50);\n              }\n            }\n          }\n        }\n      }\n    },\n\n    //点击送单人礼物\n    giftClick: function (item) {\n      if (\n        this.$store.state.roomInformation.createUser[\"userId\"] == item[\"userId\"]\n      ) {\n        item[\"creatuser\"] = true;\n      } else {\n        item[\"creatuser\"] = false;\n      }\n\n      this.$data.showGift = true;\n      this.$refs.giftPanel.showGift([item]);\n    },\n\n    //接入事件\n    msgOut: function (msg) {\n      // console.log(msg);\n      if (msg.replace(/\\s*/g, \"\").length == 0) {\n        this.$store.dispatch(\"showToast\", {\n          value: \"消息不能为空\",\n        });\n        return;\n      }\n      let send = true;\n      for (\n        let index = 0;\n        index < this.$store.state.sensitiveList.length;\n        index++\n      ) {\n        if (msg.indexOf(this.$store.state.sensitiveList[index][\"name\"]) != -1) {\n          send = false;\n          break;\n        }\n      }\n      let txtMsg = {\n        userName: this.$store.state.userInfo.userName, // 文本内容\n        userId: this.$store.state.userInfo.userId,\n        content: msg,\n      };\n      this.$RCVoiceRoomLib.emit(\"MessageReceived\", {\n        //发本地\n        //模拟本地消息发送\n        messageType: \"RC:Chatroom:Barrage\",\n        content: txtMsg,\n      });\n      if (send) {\n        // console.log(txtMsg);\n        this.$RCVoiceRoomLib.im\n          .messageUpdate(\"RC:Chatroom:Barrage\", txtMsg)\n          .then((res) => {\n            console.log(res);\n          });\n      }\n    },\n\n    //打开gift\n    btnGift: function () {\n      this.$data.showGift = true;\n      let userInseatList = [];\n      userInseatList.push({\n        ...this.$store.state.roomInformation.createUser,\n        creatuser: true,\n      });\n      const arr = this.$store.state.itemList;\n      for (let index = 0; index < arr.length; index++) {\n        if (this.$store.state.itemList[index][\"userId\"]) {\n          userInseatList.push(arr[index]);\n        }\n      }\n      this.$store.dispatch(\"getMicData\", userInseatList);\n      this.$refs.giftPanel.showGift(userInseatList);\n    },\n\n    //关闭gift\n    hideGift: function () {\n      this.$data.showGift = false;\n    },\n\n    //点击聊天用户\n    nameClick: function (e) {\n      this.onClickUserList(e);\n    },\n\n    //请求排麦与否\n    ApplyWeat: async function () {\n      // console.log(\"this.$RCVoiceRoomLib.roomInfo\", this.$RCVoiceRoomLib);\n      if (this.$RCVoiceRoomLib.roomInfo.isFreeEnterSeat) {\n        try {\n          const findSeat = await this.$RCVoiceRoomLib.findSeat();\n          await this.$RCVoiceRoomLib.enterSeat(findSeat);\n          setTimeout(() => {\n            this.$store.dispatch(\"showToast\", {\n              value: \"上麦成功\",\n            });\n            this.$store.dispatch(\"getSeatInfoList\");\n          }, 50);\n        } catch (error) {\n          this.$store.dispatch(\"showToast\", {\n            value: \"上麦失败\",\n          });\n          console.log(error);\n        }\n\n        return;\n      }\n      if (this.$store.state.HasApply) {\n        this.$refs.CancelEvenSeat.CancelEvenSeatOpen();\n      } else {\n        await this.$RCVoiceRoomLib.requestSeat();\n        this.$store.dispatch(\"showToast\", {\n          value: \"已申请连线，等待房主接受\",\n        });\n        setTimeout(() => {\n          this.$store.dispatch(\"userHasApply\", true);\n        }, 50);\n      }\n    },\n\n    //获取roominformation\n    getRoominformation: function () {\n      request\n        .roominformation({ roomId: this.$RCVoiceRoomLib._roomidcli })\n        .then((res) => {\n          if (res.data.code == 10000) {\n            this.$store.dispatch(\"getRoomInformation\", res.data.data);\n            this.$store.dispatch(\n              \"getroomBackground\",\n              res.data.data.backgroundUrl\n            );\n            this.$store.dispatch(\"getroomTitle\", res.data.data.roomName);\n            this.$store.dispatch(\"getroomPrivate\", {\n              isPrivate: res.data.data.isPrivate,\n              password: res.data.data.password,\n            });\n            this.$store.dispatch(\"getMicrophone\", false);\n            const createUser = res.data.data.createUser;\n            this.getroomuser(createUser);\n            this.$nextTick(() => {\n              this.$store.dispatch(\"getChatroom\", this.$refs.chatroom);\n              this.roomId = this.$RCVoiceRoomLib._roomidcli;\n              // console.log(this.$RCVoiceRoomLib);\n              if (\n                this.$RCVoiceRoomLib.roomInfo &&\n                this.$RCVoiceRoomLib.roomInfo.seatCount\n              ) {\n                this.$store.dispatch(\n                  \"getsetCountsChange\",\n                  this.$RCVoiceRoomLib.roomInfo.seatCount\n                );\n                if (this.$RCVoiceRoomLib.roomInfo.seatCount == 9) {\n                  this.talkTop = 64.5;\n                  this.talkHeight = 28;\n                } else {\n                  this.talkTop = 50;\n                  this.talkHeight = 42;\n                }\n              } else {\n                this.talkTop = 64.5;\n                this.talkHeight = 28;\n              }\n\n              if (\n                res.data.data.createUser.userId !=\n                this.$RCVoiceRoomLib.im.userId\n              ) {\n                this.BackClass = \"top-right-close\";\n                this.creatuser = false;\n                this.$store.dispatch(\"setcreatuser\", false);\n              } else {\n                this.BackClass = \"top-right\";\n                this.creatuser = true;\n                this.$store.dispatch(\"setcreatuser\", true);\n              }\n            });\n          } else {\n            console.log(\"err\", res.data);\n          }\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    },\n\n    //获取roomuser\n    getroomuser: function (createUser) {\n      request\n        .roomuser({\n          roomId: this.$RCVoiceRoomLib._roomidcli,\n        })\n        .then(async (res) => {\n          // console.log(res);\n          this.$store.dispatch(\"getRoomUserList\", res.data.data);\n          console.log(createUser);\n          this.getGiftAndMan(true);\n        });\n    },\n\n    //获取gift和管理员\n    getGiftAndMan: function (item) {\n      Promise.all([this.getGiftList(), this.getManageList()])\n        .then((res) => {\n          // console.log(res);\n          if (this.$RCVoiceRoomLib.im.userId in res[1][\"ManageObj\"]) {\n            this.$store.dispatch(\"setRoomAdmin\", true);\n          } else {\n            this.$store.dispatch(\"setRoomAdmin\", false);\n          }\n          // // console.log(this.$store.state.roomUserList);\n          this.$nextTick(async () => {\n            let Obj = {};\n            for (let i = 0; i < res.length; i += 1) {\n              Obj = {\n                ...Obj,\n                ...res[i],\n              };\n            }\n            this.GiftAndManageList = {\n              ...Obj,\n            };\n            this.$store.dispatch(\"getGiftAndManageList\", Obj);\n            // console.log(Obj);\n            this.SetSeatList(Obj);\n            if (\n              this.$RCVoiceRoomLib.seatInfoList[0] &&\n              !this.$RCVoiceRoomLib.seatInfoList[0][\"userId\"] &&\n              this.$store.state.creatUser &&\n              item\n            ) {\n              await this.$RCVoiceRoomLib.enterSeat(0);\n              console.log(\n                \"isDisableAudioRecording\",\n                this.$RCVoiceRoomLib.isDisableAudioRecording()\n              );\n              if (\n                \"extra\" in this.$RCVoiceRoomLib.seatInfoList[0] &&\n                JSON.parse(this.$RCVoiceRoomLib.seatInfoList[0][\"extra\"])[\n                  \"disableRecording\"\n                ]\n              ) {\n                this.$RCVoiceRoomLib.disableAudioRecording(true);\n              }\n\n              // setTimeout(() => {\n              //   this.SetSeatList(Obj);\n              // }, 50);\n            }\n          });\n        })\n        .catch((err) => {\n          console.log(\"err\", err);\n        });\n    },\n\n    //扩散动画\n    owerSetSpreadAnimatio: function (res) {\n      if (res) {\n        if (this.keepMove) {\n          this.circlemove = \"move\";\n          this.keepMove = false;\n          setTimeout(() => {\n            this.circle2move = \"move\";\n          }, 700);\n        }\n      } else {\n        setTimeout(() => {\n          this.circlemove = \"\";\n          this.keepMove = true;\n          setTimeout(() => {\n            this.circle2move = \"\";\n          }, 700);\n        }, 800);\n      }\n    },\n  },\n  watch: {\n    listenseatInfoList: function () {\n      console.log(\"麦位发生变化:\", this.$RCVoiceRoomLib.seatInfoList);\n      if (\n        this.$store.state.roomUserList &&\n        this.$store.state.roomUserList.length\n      ) {\n        this.SetSeatList(this.$store.state.GiftAndManageList);\n      }\n\n      if (\n        this.$RCVoiceRoomLib.seatInfoList[0] &&\n        this.$RCVoiceRoomLib.seatInfoList[0][\"extra\"] &&\n        JSON.parse(this.$RCVoiceRoomLib.seatInfoList[0][\"extra\"])[\n          \"disableRecording\"\n        ]\n      ) {\n        this.OwerMute = true;\n      } else {\n        this.OwerMute = false;\n      }\n    },\n\n    listenroomUserList: function () {\n      this.getGiftAndMan(false);\n    },\n\n    listengiftValue: function () {\n      this.sendGiftSuccess();\n    },\n\n    listenAdminValue: async function () {\n      this.SeatAdminChange();\n    },\n\n    listenSpeakingChengeControl: function () {\n      if (this.$store.state.SpeakingChenge.index == 0) {\n        if (this.$store.state.SpeakingChenge.speaking == 0) {\n          this.owerSetSpreadAnimatio(false);\n        } else {\n          this.owerSetSpreadAnimatio(true);\n        }\n      }\n    },\n    listenseatCount: function (newValue) {\n      // console.log(newValue);\n      if (newValue == 9) {\n        this.talkTop = 64.5;\n        this.talkHeight = 28;\n      } else {\n        this.talkTop = 50;\n        this.talkHeight = 42;\n      }\n    },\n  },\n  computed: {\n    listenseatInfoList() {\n      return this.$store.state.seatInfoList;\n    },\n    listenroomUserList() {\n      return this.$store.state.roomUserList;\n    },\n    listengiftValue() {\n      return this.$store.state.giftValue;\n    },\n    listenAdminValue() {\n      return this.$store.state.AdminValue;\n    },\n    listenSpeakingChengeControl() {\n      return this.$store.state.SpeakingChengeControl;\n    },\n    listenseatCount() {\n      return this.$store.state.setCounts;\n    },\n  },\n  created() {\n    this.$nextTick(async () => {\n      const arr = await this.$RCVoiceRoomLib.getRequestSeatUserIds();\n      this.$store.dispatch(\"getRequestSeatUserIds\", arr);\n    });\n  },\n  mounted() {\n    this.getRoominformation();\n    console.log(navigator.userAgent);\n    if (\n      navigator.userAgent.indexOf(\"Macintosh\") > -1 &&\n      navigator.userAgent.indexOf(\"Safari\") > -1 &&\n      navigator.userAgent.indexOf(\"Mac\") > -1 &&\n      navigator.userAgent.indexOf(\"Chrome\") == -1\n    ) {\n      this.$confirm(\"是否打开播放器 ?\", \"提示\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        type: \"warning\",\n        center: true,\n      })\n        .then(() => {\n          this.$RCVoiceRoomLib.enableSpeaker();\n        })\n        .catch(() => {\n          // console.log(\"取消\");\n        });\n    }\n    window.addEventListener(\"load\", () => {\n      if (this.$route.name != \"login\") {\n        this.$router.replace(\"/login\");\n      }\n    });\n  },\n};\n</script>\n<style scoped>\n@import url(\"./index.css\");\n</style>>"]}]}