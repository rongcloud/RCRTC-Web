{"remainingRequest":"/Users/libin/Desktop/Gwork/rcrtc-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/libin/Desktop/Gwork/rcrtc-web/src/components/room/ConnetWeat.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"/Users/libin/Desktop/Gwork/rcrtc-web/src/components/room/ConnetWeat.vue","mtime":1648176495785},{"path":"/Users/libin/Desktop/Gwork/rcrtc-web/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/libin/Desktop/Gwork/rcrtc-web/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/libin/Desktop/Gwork/rcrtc-web/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/libin/Desktop/Gwork/rcrtc-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/libin/Desktop/Gwork/rcrtc-web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLkNvbm5ldFdoZWF0IHsKICBmb250LXNpemU6IDAuMTZyZW07CiAgdGV4dC1hbGlnbjogY2VudGVyOwp9CgouQ29ubmV0V2hlYXQtZHJhd2VyIC5lbC1kcmF3ZXIgewogIGJvcmRlci10b3AtbGVmdC1yYWRpdXM6IDAuM3JlbTsKICBib3JkZXItdG9wLXJpZ2h0LXJhZGl1czogMC4zcmVtOwogIGJhY2tncm91bmQtY29sb3I6IHJnYmEoOTIsIDgwLCAxNDksIDEpOwogIGNvbG9yOiAjZmZmOwogIHRleHQtYWxpZ246IGNlbnRlcjsKfQoKLkNvbm5ldFdoZWF0LWRyYXdlciAuZWwtdGFic19faGVhZGVyIHsKICBoZWlnaHQ6IDAuNjNyZW07CiAgbWFyZ2luOiAwcmVtOwogIHBvc2l0aW9uOiByZWxhdGl2ZTsKfQoKLkNvbm5ldFdoZWF0LWRyYXdlciAuZWwtdGFic19fbmF2LXdyYXAgewogIGhlaWdodDogMC42M3JlbTsKfQoKLkNvbm5ldFdoZWF0LWRyYXdlciAuZWwtdGFic19fbmF2LXdyYXA6OmFmdGVyIHsKICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDkyLCA4MCwgMTQ5LCAxKTsKfQoKLkNvbm5ldFdoZWF0LWRyYXdlciAuZWwtdGFic19fbmF2LXNjcm9sbCB7CiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7CiAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICBkaXNwbGF5OiBmbGV4OwogIGhlaWdodDogMC42M3JlbTsKfQoKLkNvbm5ldFdoZWF0LWRyYXdlciAuZWwtdGFic19faXRlbSB7CiAgcGFkZGluZzogMCAwLjZyZW07CiAgZm9udC1zaXplOiAwLjE3cmVtOwp9CgouQ29ubmV0V2hlYXQtZHJhd2VyIC5lbC10YWJzX19pdGVtOmhvdmVyIHsKICBjb2xvcjogI2VmNDk5YTsKfQoKLkNvbm5ldFdoZWF0LWRyYXdlciAuZWwtdGFic19faXRlbS5pcy1hY3RpdmUgewogIGNvbG9yOiAjZWY0OTlhOwp9CgouQ29ubmV0V2hlYXQtZHJhd2VyIC5lbC10YWJzX19hY3RpdmUtYmFyIHsKICBiYWNrZ3JvdW5kLWNvbG9yOiAjZWY0OTlhOwogIHdpZHRoOiAwLjY4cmVtICFpbXBvcnRhbnQ7Cn0KCi5Db25uZXRXaGVhdC1kcmF3ZXIgLmVsLXRhYnNfX2l0ZW0gewogIGNvbG9yOiAjZmZmOwp9CgouQ29ubmV0V2hlYXQtdGFicyB7CiAgb3ZlcmZsb3c6IGhpZGRlbjsKICB3aWR0aDogY2FsYygzNzVweCAtIDAuMTVyZW0pOwp9CgouQ29ubmV0V2hlYXQtZHJhd2VyIC5lbC10YWJzX19jb250ZW50IHsKICBoZWlnaHQ6IDMuODRyZW07CiAgb3ZlcmZsb3c6IGhpZGRlbjsKICBvdmVyZmxvdy15OiBzY3JvbGw7CiAgd2lkdGg6IDM3NXB4OwogIG1pbi13aWR0aDogbm9uZTsKfQoKLkNvbm5ldFdoZWF0LWRyYXdlciAudGFicy1hcHBseSB7CiAgd2lkdGg6IDM3NXB4OwogIG1pbi13aWR0aDogbm9uZTsKfQoKLmFwcGx5LWxpc3QgewogIHdpZHRoOiAxMDAlOwogIG1pbi13aWR0aDogbm9uZTsKfQoKLmludml0YXRpb24tbGlzdCB7CiAgd2lkdGg6IDEwMCU7CiAgaGVpZ2h0OiAwLjY0cmVtOwp9CgouZW1wdHlJbWcgewogIHdpZHRoOiAxMDAlOwogIGhlaWdodDogMy44NHJlbTsKICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoLi4vLi4vYXNzZXRzL3doZWF0L3BsZWFzZUNyZWF0ZVJvb20ucG5nKTsKICBiYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0OwogIGJhY2tncm91bmQtcG9zaXRpb246IGNlbnRlcjsKICBiYWNrZ3JvdW5kLXNpemU6IDEuNTZyZW0gMS42NXJlbTsKICBjb2xvcjogcmdiYSgyMjUsIDIyNSwgMjI1LCAwLjYpOwogIGxpbmUtaGVpZ2h0OiA1LjRyZW07Cn0K"},{"version":3,"sources":["ConnetWeat.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgMA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ConnetWeat.vue","sourceRoot":"src/components/room","sourcesContent":["<template>\n  <div id=\"ConnetWheat\">\n    <el-drawer\n      class=\"ConnetWheat-drawer\"\n      :visible.sync=\"drawer\"\n      :direction=\"direction\"\n      :show-close=\"false\"\n      :withHeader=\"false\"\n      @close=\"OncloseConnetWheat\"\n      size=\"4.47rem\"\n    >\n      <el-tabs\n        v-model=\"activeName\"\n        @tab-click=\"handleClick\"\n        class=\"ConnetWheat-tabs\"\n      >\n        <el-tab-pane class=\"tabs-apply\" label=\"申请列表\" name=\"apply\">\n          <div v-if=\"userapply.length > 0\">\n            <div class=\"apply-list\" v-for=\"(item, i) in userapply\" :key=\"i\">\n              <UserColumn\n                :item=\"item\"\n                :apply=\"true\"\n                @closeConnetWheat=\"closeConnetWheat\"\n                @updateConnetWheat=\"updateConnetWheat\"\n              />\n            </div>\n          </div>\n          <div v-else class=\"emptyImg\">暂无用户</div>\n        </el-tab-pane>\n        <el-tab-pane class=\"tabs-invitation\" label=\"邀请连麦\" name=\"invitation\">\n          <div v-if=\"userinvitation.length > 0\">\n            <div\n              class=\"invitation-list\"\n              v-for=\"(item, i) in userinvitation\"\n              :key=\"i\"\n            >\n              <UserColumn\n                :item=\"item\"\n                @closeConnetWheat=\"closeConnetWheat\"\n                @updateConnetWheat=\"updateConnetWheat\"\n              />\n            </div>\n          </div>\n          <div v-else class=\"emptyImg\">暂无用户</div>\n        </el-tab-pane>\n      </el-tabs>\n    </el-drawer>\n  </div>\n</template>\n<script>\nimport request from \"../../request/index\";\nimport UserColumn from \"./UserColumn.vue\";\nexport default {\n  data() {\n    return {\n      drawer: false,\n      direction: \"btt\",\n      activeName: \"apply\",\n      userapply: [],\n      userinvitation: [],\n    };\n  },\n  components: {\n    UserColumn,\n  },\n  watch: {},\n  created() {},\n  mounted() {},\n  methods: {\n    openConnetWheat: async function (item) {\n      if (this.$store.state.roomType == \"live\") {\n        if (item) {\n          this.activeName = \"invitation\";\n        }\n        const arr = await this.$RCLiveRoomLib.getRequestSeatUserIds();\n        this.$store.dispatch(\"getRequestSeatUserIds\", arr);\n        request\n          .roomuserinfor({\n            roomId: this.$RCLiveRoomLib._roomidcli,\n          })\n          .then((res) => {\n            //   console.log(res);\n\n            this.userapply = [];\n            const userList = res.data.data;\n            const seatList = this.$RCLiveRoomLib.seatInfoList;\n            console.log(\"当前麦位上的人\", seatList);\n            const userObject = {};\n            const userinvitationObject = {};\n            for (let i = 0; i < userList.length; i += 1) {\n              userObject[userList[i].userId] = { ...userList[i] };\n              userinvitationObject[userList[i].userId] = { ...userList[i] };\n            }\n            if (arr.length > 0) {\n              for (let l = 0; l < arr.length; l += 1) {\n                userObject[arr[l]][\"key\"] = \"接受\";\n                this.userapply.push(userObject[arr[l]]);\n              }\n            }\n\n            for (let o = 0; o < seatList.length; o += 1) {\n              if (seatList[o] && seatList[o][\"userId\"]) {\n                delete userinvitationObject[seatList[o][\"userId\"]];\n              }\n            }\n            delete userinvitationObject[this.$RCLiveRoomLib.im[\"userId\"]];\n            this.userinvitation = Object.values(userinvitationObject);\n            for (let u = 0; u < this.userinvitation.length; u += 1) {\n              this.userinvitation[u][\"key\"] = \"邀请\";\n            }\n          })\n          .catch((err) => {\n            console.log(\"err:\", err);\n          });\n      } else {\n        if (item) {\n          this.activeName = \"invitation\";\n        }\n        const arr = await this.$RCVoiceRoomLib.getRequestSeatUserIds();\n        this.$store.dispatch(\"getRequestSeatUserIds\", arr);\n        request\n          .roomuserinfor({\n            roomId: this.$RCVoiceRoomLib._roomidcli,\n          })\n          .then((res) => {\n            //   console.log(res);\n\n            this.userapply = [];\n            const userList = res.data.data;\n            const seatList = this.$RCVoiceRoomLib.seatInfoList;\n            console.log(\"当前麦位上的人\", seatList);\n            const userObject = {};\n            const userinvitationObject = {};\n            for (let i = 0; i < userList.length; i += 1) {\n              userObject[userList[i].userId] = { ...userList[i] };\n              userinvitationObject[userList[i].userId] = { ...userList[i] };\n            }\n            if (arr.length > 0) {\n              for (let l = 0; l < arr.length; l += 1) {\n                userObject[arr[l]][\"key\"] = \"接受\";\n                this.userapply.push(userObject[arr[l]]);\n              }\n            }\n\n            for (let o = 0; o < seatList.length; o += 1) {\n              if (seatList[o] && seatList[o][\"userId\"]) {\n                delete userinvitationObject[seatList[o][\"userId\"]];\n              }\n            }\n            delete userinvitationObject[this.$RCVoiceRoomLib.im[\"userId\"]];\n            this.userinvitation = Object.values(userinvitationObject);\n            for (let u = 0; u < this.userinvitation.length; u += 1) {\n              this.userinvitation[u][\"key\"] = \"邀请\";\n            }\n          })\n          .catch((err) => {\n            console.log(\"err:\", err);\n          });\n      }\n\n      // console.log(arr);\n      this.drawer = true;\n    },\n    closeConnetWheat: function () {\n      this.drawer = false;\n    },\n    updateConnetWheat: async function () {\n      this.drawer = false;\n      let that = this;\n      setTimeout(async function () {\n        let arr;\n        if (\n          that.$RCLiveRoomLib.im &&\n          that.$RCLiveRoomLib.im.roomType == \"live\"\n        ) {\n          arr = await that.$RCLiveRoomLib.getRequestSeatUserIds();\n        } else {\n          arr = await that.$RCVoiceRoomLib.getRequestSeatUserIds();\n        }\n        that.$store.dispatch(\"getRequestSeatUserIds\", arr);\n      }, 500);\n    },\n    OncloseConnetWheat: function () {\n      this.activeName = \"apply\";\n    },\n    handleClick: function (tab, event) {\n      console.log(tab, event);\n    },\n  },\n};\n</script>\n<style>\n.ConnetWheat {\n  font-size: 0.16rem;\n  text-align: center;\n}\n\n.ConnetWheat-drawer .el-drawer {\n  border-top-left-radius: 0.3rem;\n  border-top-right-radius: 0.3rem;\n  background-color: rgba(92, 80, 149, 1);\n  color: #fff;\n  text-align: center;\n}\n\n.ConnetWheat-drawer .el-tabs__header {\n  height: 0.63rem;\n  margin: 0rem;\n  position: relative;\n}\n\n.ConnetWheat-drawer .el-tabs__nav-wrap {\n  height: 0.63rem;\n}\n\n.ConnetWheat-drawer .el-tabs__nav-wrap::after {\n  background-color: rgba(92, 80, 149, 1);\n}\n\n.ConnetWheat-drawer .el-tabs__nav-scroll {\n  justify-content: center;\n  align-items: center;\n  display: flex;\n  height: 0.63rem;\n}\n\n.ConnetWheat-drawer .el-tabs__item {\n  padding: 0 0.6rem;\n  font-size: 0.17rem;\n}\n\n.ConnetWheat-drawer .el-tabs__item:hover {\n  color: #ef499a;\n}\n\n.ConnetWheat-drawer .el-tabs__item.is-active {\n  color: #ef499a;\n}\n\n.ConnetWheat-drawer .el-tabs__active-bar {\n  background-color: #ef499a;\n  width: 0.68rem !important;\n}\n\n.ConnetWheat-drawer .el-tabs__item {\n  color: #fff;\n}\n\n.ConnetWheat-tabs {\n  overflow: hidden;\n  width: calc(375px - 0.15rem);\n}\n\n.ConnetWheat-drawer .el-tabs__content {\n  height: 3.84rem;\n  overflow: hidden;\n  overflow-y: scroll;\n  width: 375px;\n  min-width: none;\n}\n\n.ConnetWheat-drawer .tabs-apply {\n  width: 375px;\n  min-width: none;\n}\n\n.apply-list {\n  width: 100%;\n  min-width: none;\n}\n\n.invitation-list {\n  width: 100%;\n  height: 0.64rem;\n}\n\n.emptyImg {\n  width: 100%;\n  height: 3.84rem;\n  background-image: url(../../assets/wheat/pleaseCreateRoom.png);\n  background-repeat: no-repeat;\n  background-position: center;\n  background-size: 1.56rem 1.65rem;\n  color: rgba(225, 225, 225, 0.6);\n  line-height: 5.4rem;\n}\n</style>\n"]}]}